!function(){return function t(e,n,i){function a(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){return a(e[o][1][t]||t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}}()({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.events=n.config=n.component=void 0;var i=o(t(2)),a=o(t(3)),r=o(t(4));function o(t){return t&&t.__esModule?t:{default:t}}n.component=i.default,n.config=a.default,n.events=r.default},{2:2,3:3,4:4}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.activate=n.create=void 0;var i,a=t(4),r=(i=a)&&i.__esModule?i:{default:i};function o(t){r.default.fire(t,"component.activate")}function s(t,e){try{t.outerHTML=e(JSON.parse(t.getAttribute("data-component-data")))}catch(t){window.console.log("Error rendering component: "+t)}}function l(t){var e;return(t=t||{}).contexts?e=function(e,n){s(e,t.contexts[n].template)}:t.template&&(e=function(e){s(e,t.template)}),{init:function(e){t.init&&t.init(e),e.setAttribute("data-init",!0)},render:e,css:t.css,offsets:t.offsets}}n.create=l,n.activate=o,n.default={create:l,activate:o}},{4:4}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,a=t(18),r=(i=a)&&i.__esModule?i:{default:i};var o=document.documentElement,s={breakpointType:null,overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:o.clientHeight,windowTopOffset:null,windowWidth:o.clientWidth};function l(t){for(var e=t.split("."),n=0,i=s;n<e.length;n++)i=i[e[n]];return i}s.breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],n.default={getOption:l,inspect:function(){return s},setOption:function(t){(0,r.default)(s,t)},getBreakpoint:function(t){t=t||window.innerWidth;var e,n=l("breakpoints"),i=n.length;for(e=0;e<i;e++)if(t<n[e].width)return n[e-1].name;return n[i-1].name}}},{18:18}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){return[].slice.call(t)}function e(t,e,n,i){if(i=i||{},t.addEventListener(e,n),t.dataEvents){var a=t.dataEvents[e];if(a)if(i.purgeEventData)for(;0<a.length;)n.call(t,{data:a.shift(),target:t});else a.forEach(function(e){n.call(t,{data:e,target:t})})}}function n(t,e,n){t.dataEvents=t.dataEvents||{},t.dataEvents[e]=t.dataEvents[e]||[],t.dataEvents[e].push(n)}var i="DOMContentLoaded";return{delegate:function(){function e(e,n,i){return e.concat(t(n.querySelectorAll(i)))}function n(e,n,i){var a=t(n.querySelectorAll(i.substr(1)));return a=a.filter(function(t){return t.parentNode===n}),e.concat(a)}return function(i,a,r,o,s){s=s||{},a=a.split(","),void 0===i.length&&(i=[i]),i.forEach||(i=t(i)),i.forEach(function(t){t.addEventListener(r,function(i){var r=[];a.forEach(function(i){r=">"===i.substr(0,1)?n(r,t,i):e(r,t,i)}),function t(e,n,i,a,r,o){if(n!==i){var s=a.indexOf(n);-1!==s&&(r.call(a[s],e),o.preventDefault&&e.preventDefault()),t(e,n.parentNode,i,a,r,o)}else o.stopPropagation&&e.stopPropagation()}(i,i.target,t,r,o,s)})})}}(),domReady:function(t){"complete"===document.readyState||"loaded"===document.readyState?(n(document,i),n(window,"load")):"interactive"===document.readyState&&n(document,i),document.addEventListener?e(document,i,t):e(window,"load",t)},fire:function(t,e,i){var a;i=i||{},document.createEvent?((a=document.createEvent("HTMLEvents")).initEvent(e,!0,!0),a.data=i,t.dispatchEvent(a)):document.createEventObject&&((a=document.createEventObject()).data=i,t.fireEvent("on"+e,a)),n(t,e,i)},listen:e}}();n.default=i},{}],5:[function(t,e,n){"use strict";var i=t(18),a=t(7),r=t(11).events,o=function(){var t={speed:1,manualScrollSpeed:50,isLoop:!0,frameRate:24,orientation:"vertical",isMobile:/iPhone|iPad|iPod|Android|BlackBerry|Windows Phone|webOS/i.test(window.navigator.userAgent),autoScrollDelay:4e3,isDelayRequired:!1};function e(t){var e=t.scrollListing;function n(){r.listen(window,"scroll.stop",t.scrollListener)}t.isHorizontal?(t.scrollType="scrollLeft",t.containerDimension=t.scrollContainer.clientWidth,t.listingDimension=e.clientWidth,t.scrollLimit=t.listingDimension-t.containerDimension,t.leftArrowElement&&t.leftArrowElement.addEventListener("click",function(e){!function(t,e){s(e);var n=e.scrollContainer[e.scrollType],i=n-e.listItemWidth;n<e.listItemWidth&&(e.scrollContainer[e.scrollType]=e.listingDimension-(e.visibleElements-1)*e.listItemWidth-e.leftArrowElement.clientWidth,n=e.scrollContainer[e.scrollType],i=e.scrollContainer[e.scrollType]-e.listItemWidth);l(e.rightInterval),l(e.leftInterval),e.leftInterval=setInterval(function(){(n-=e.manualScrollSpeed)>i?e.scrollContainer[e.scrollType]=n:(e.scrollContainer[e.scrollType]=i,l(e.leftInterval))},e.intervalDelay),t&&t.preventDefault()}(e,t)}),t.rightArrowElement&&t.rightArrowElement.addEventListener("click",function(e){!function(t,e){var n=e.scrollContainer[e.scrollType],i=n+e.listItemWidth;i>e.listingDimension-(e.containerDimension+30)?(e.scrollContainer[e.scrollType]=n%e.listItemWidth,n=e.scrollContainer[e.scrollType],i=e.scrollContainer[e.scrollType]+e.listItemWidth):(s(e),n=e.scrollContainer[e.scrollType],i=n+e.listItemWidth);l(e.leftInterval),l(e.rightInterval),e.rightInterval=setInterval(function(){(n+=e.manualScrollSpeed)<i?e.scrollContainer[e.scrollType]=n:(e.scrollContainer[e.scrollType]=i,l(e.rightInterval))},e.intervalDelay),t&&t.preventDefault()}(e,t)})):(t.scrollType="scrollTop",t.containerDimension=t.scrollContainer.clientHeight,t.listingDimension=e.clientHeight),t.intervalDelay=Math.floor(1e3/t.frameRate),t.initialScroll=!0,c(null,t),t.scrollContainer.addEventListener("mouseover",function(e){o(e,t)}),t.scrollContainer.addEventListener("mouseout",n),t.scrollContainer.addEventListener("touchenter",function(e){o(e,t)}),t.scrollContainer.addEventListener("touchleave",n)}function n(t,e){l(t.interval,e),l(t.waitInterval,e)}function o(t,e){window.removeEventListener("scroll.stop",e.scrollListener),l(e.waitInterval,t),e.scrollStopped=!0,l(e.interval,t)}function s(t){var e,n=t.scrollContainer[t.scrollType];e=t.listItemWidth-n%t.listItemWidth-t.leftArrowElement.clientWidth,t.scrollContainer[t.scrollType]=t.scrollContainer[t.scrollType]+e}function l(t,e){t&&clearInterval(t),e&&e.preventDefault()}function c(t,e){e.waitInterval=setInterval(function(){(e.scrollStopped||e.initialScroll)&&(e.scrollContainer[e.scrollType]+=e.speed,function(t,e){e.interval=setInterval(function(){e.scrollContainer[e.scrollType]<e.listingDimension-e.containerDimension?e.scrollContainer[e.scrollType]+=e.speed:e.scrollContainer[e.scrollType]=2*e.listItemWidth+e.manualScrollSpeed,function(t){t.isMobile?t.additionalWidth=Math.ceil((window.innerWidth-t.listItemWidth)/2):t.additionalWidth=t.leftArrowElement?t.leftArrowElement.clientWidth:0}(e),e.extraScrolled=(e.scrollContainer[e.scrollType]+e.additionalWidth)%e.listItemWidth,e.extraScrolled<=e.speed&&(e.scrollContainer[e.scrollType]-=e.extraScrolled,e.scrollStopped=!0,l(e.interval),l(e.waitInterval),r.fire(document.body,"autoscroll.impression.tracking"),c(t,e))},e.intervalDelay),t&&t.preventDefault()}(t,e),e.initialScroll=!1,e.scrollStopped=!1)},e.autoScrollDelay)}function u(t){return t.removeAttribute("data-impr-tracking"),t}return{init:function(o){var s={};i(s,t,o),s.isHorizontal=s.orientation.match(/horizontal/),s.scrollContainer=document.body.querySelector(s.containerSelector),s.scrollListing=s.scrollContainer.querySelector(s.listingSelector),s.autoScrollDelay=s.isDelayRequired?s.autoScrollDelay:0,s.isHorizontal&&(s.leftArrowElement=s.scrollContainer.querySelector(s.leftArrow),s.rightArrowElement=s.scrollContainer.querySelector(s.rightArrow),s.isLoop&&function(t){var e=t.scrollListing.childNodes,n=e.length-1,i=0,a=0,r=0;for(t.visibleElements=Math.ceil(window.innerWidth/t.listItemWidth)+1,t.visibleElements&&(a=Math.floor(t.visibleElements/2),r=t.visibleElements%2?a+1:a),i=0;i<a;i++)t.scrollListing.insertAdjacentElement("afterbegin",u(e[n].cloneNode(!0)));for(i=0;i<r;i++)t.scrollListing.insertAdjacentElement("beforeend",u(e[i+a].cloneNode(!0)));var o=t.listItemWidth*t.scrollListing.childNodes.length;t.scrollListing.style.width=o+"px"}(s)),e(s),s.scrollListener=function(){!function(t){a.percInViewport(t.scrollContainer,null,1)?t.scrollStopped&&(n(t),c(null,t)):(t.scrollStopped=!0,n(t))}(s)},r.listen(window,"scroll.stop",s.scrollListener)}}}();e.exports=o},{11:11,18:18,7:7}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.nodeListToArray=function(t){var e,n=[],i=t.length;for(e=0;e<i;e++)n[e]=t[e];return n},n.getBreakpoint=function(t){t=t||window.innerWidth;var e,n=i.config.getOption("breakpoints"),a=n.length;for(e=0;e<a;e++)if(t<n[e].width)return n[e-1].name;return n[a-1].name},n.debounce=function(t,e,n){var i;return function(){var a=this,r=arguments,o=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(a,r)},e),o&&t.apply(a,r)}},n.ajax=function(t,e,n){if(!t||!e)return;n=n||{};try{var i=new XMLHttpRequest;i.open(n.method||"get",t,!n.sync),n.headers&&Object.keys(n.headers).forEach(function(t){i.setRequestHeader(t,n.headers[t])}),i.send(n.data||null),i.onload=function(){4===i.readyState&&(200===i.status?e(i):n.errorCallback&&n.errorCallback(i))}}catch(t){}},n.ajaxPromise=function(t,e){return new Promise(function(n,i){if(t){e=e||{};try{var a=new XMLHttpRequest;a.open(e.method||"get",t,!e.sync),e.headers&&Object.keys(e.headers).forEach(function(t){a.setRequestHeader(t,e.headers[t])}),a.send(e.data||null),a.onload=function(){4===a.readyState&&200===a.status?n(a):i(a)}}catch(t){i(t)}}else i("missing required parameters")})},n.getCookie=function(t){return(t=(document.cookie+";").match(new RegExp(t+"=.*;")))&&t[0].split(/=|;/)[1]};var i=t(11)},{11:11}],7:[function(t,e,n){"use strict";var i=t(11).events,a=function(){var t,e,n,a,r,o;function s(i,s,l){return t=s?s.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},e=i.getBoundingClientRect(),n=Math.min(e.right,t.right)-Math.max(e.left,t.left),a=Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top),r=n/e.width*100,o=a/e.height*100,r>l&&o>l}function l(t){var e=null,n=null;!function(t){t.elements=document.querySelectorAll(t.selector)}(t),[].forEach.call(t.elements,function(i){(e=i.getAttribute("data-container-selector"))?(n=document.querySelector(e),s(i,n,t.visiblePerc)&&s(i,null,t.visiblePerc)&&(!1,c(i))):s(i,null,t.visiblePerc)&&c(i)})}function c(t){var e={el:t};!function(t){var e=t.el.getAttribute("data-config");t.data=e&&JSON.parse(e)||!1}(e),i.fire(t,"data.impression.tracking",e),t.setAttribute("data-tracked","true")}return{init:function(t,e){var n={};n.selector=t||"[data-impr-tracking]:not([data-tracked])",n.visiblePerc=e||99,l(n),i.listen(window,"scroll.stop",function(){l(n)}),i.listen(window,"resize.stop",function(){l(n)}),i.listen(document.body,"autoscroll.impression.tracking",function(){l(n)}),i.delegate(document.body,"[data-scroll]","click",function(){l(n)})},percInViewport:s}}();e.exports=a},{11:11}],8:[function(t,e,n){"use strict";var i={information:function(){},warning:function(){}},a=t(10);e.exports=function(t,e){var n,r,o,s,l,c=window.localStorage,u="window.onresize";function d(){var t;if(r&&n){if(t=c.getItem(n),o&&t)try{t=a.decrypt(t,u)}catch(e){i.warning("[localStorage] can't decrypt data "+e),t=""}try{t=JSON.parse(t)}catch(n){i.warning("[localStorage] can't parse data (getData) "+n),t=e.expectObject?{}:null}return t}}return s=t,l=(e=e||{}).encrypted,n||(o=!!l,n=s,(r=function(){if(void 0===c)return!1;try{return c.setItem("test","test"),c.removeItem("test"),!0}catch(t){return!1}}())&&i.information("[localStorage] initialized with key: ["+n+"]")),{deleteItem:function(t){var e;if(r&&n){e=d();try{delete e[t],c.setItem(n,JSON.stringify(e))}catch(e){i.warning("Can't delete item:["+t+"] "+e)}}},destroy:function(){r&&n&&(c.removeItem(n),n=null)},getItem:function(t){var e,i=null;if(r&&n){e=d();try{i=JSON.parse(e[t])}catch(n){e&&(i=e[t])}return i}},getRawData:function(){var t;if(r&&n)return t=c.getItem(n),o&&(t=a.decrypt(t,u)),t},setItem:function(t,e){var s;if(r&&n)if("string"==typeof t)if((s=d()||{})[t]=e,o)try{c.setItem(n,a.encrypt(JSON.stringify(s),u))}catch(t){i.warning("[localStorage] can't setItem "+t)}else try{c.setItem(n,JSON.stringify(s))}catch(t){i.warning("[localStorage] can't setItem "+t)}else i.error("[localStorage] key has to be a string")},setRawData:function(t){r&&n&&(o&&(t=a.encrypt(t,u)),c.setItem(n,t))}}}},{10:10}],9:[function(t,e,n){"use strict";var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t(6));var a=t(11).log,r=t(8),o=t(7),s=t(5);e.exports=function(){function t(t,e){return t.matches?t.matches(e):t.msMatchesSelector?t.msMatchesSelector(e):!!t.webkitMatchesSelector&&t.webkitMatchesSelector(e)}var e={defer:function(t){var e=void 0,n=void 0,i=new Promise(function(t,i){e=t,n=i});if(i.resolve=e,i.reject=n,t){var a=setTimeout(function(){i.reject("timeout expired")},t);i.then(function(){clearTimeout(a)})}return i},executeWhenAvailable:function t(e,n,i,a,r,o){var s=window[e];a=a||100,r=r||2e4/a,o=o||0,n&&(!s&&o<r?(o+=1,setTimeout(function(){t(e,n,i,a,r,o)},a)):i&&"function"==typeof window[i][n]?window[i][n]():"function"==typeof n&&n())},findAncestor:function(e,n){for(;!t(e,n);){if(!e.parentNode)return null;e=e.parentNode}return e},getElementIndex:function(t){for(var e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e},getQueryParam:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},jsonp:function(t,e,n){var i="jsonp"+Math.round(1000001*Math.random());t=t||"",e=e||"",n=n||function(){},"function"==typeof e&&(n=e,e="callback"),window[i]=function(t){n(t),delete window[i]},-1===t.indexOf("?")?t+="?":t+="&";var a=document.createElement("script");a.setAttribute("src",t+e+"="+i),document.getElementsByTagName("head")[0].appendChild(a)},log:a,matches:t,processScripts:function(t){if(t){var e,n,i=t.querySelectorAll("script"),a=i.length;for(e=0;e<a;e++)n=document.createElement("script"),i[e].hasAttribute("src")?n.setAttribute("src",i[e].src):n.innerText=i[e].innerText,i[e].parentNode.replaceChild(n,i[e])}},shuffleArray:function(t){var e=0,n=0,i=null;for(e=t.length-1;e>0;e--)n=Math.floor(Math.random()*(e+1)),i=t[e],t[e]=t[n],t[n]=i;return t},uid:function(){return(new Date).getTime().toString()+Math.random().toString().replace(".","-")},windowOffsets:function(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}},stringify:function(){return""},LocalStore:r,sessionStorageEnabled:function(){var t=window.sessionStorage;try{return t.setItem("test","1"),t.removeItem("test"),!0}catch(t){return!1}},ImprTracker:o,autoScroll:s};return Object.keys(i).forEach(function(t){e[t]=i[t]}),e}()},{11:11,5:5,6:6,7:7,8:8}],10:[function(t,e,n){(function(t){"use strict";var n={encrypt:function(t,e){if(t=String(t),e=String(e),0==t.length)return"";var i=n.strToLongs(t.utf8Encode()),a=n.strToLongs(e.utf8Encode().slice(0,16));i.length;return i=n.encode(i,a),n.longsToStr(i).base64Encode()},decrypt:function(t,e){if(t=String(t),e=String(e),0==t.length)return"";var i=n.strToLongs(t.base64Decode()),a=n.strToLongs(e.utf8Encode().slice(0,16));i.length;i=n.decode(i,a);var r=n.longsToStr(i);return(r=r.replace(/\0+$/,"")).utf8Decode()},encode:function(t,e){t.length<2&&(t[1]=0);for(var n,i,a=t.length,r=t[a-1],o=t[0],s=Math.floor(6+52/a),l=0;s-- >0;){i=(l+=2654435769)>>>2&3;for(var c=0;c<a;c++)n=(r>>>5^(o=t[(c+1)%a])<<2)+(o>>>3^r<<4)^(l^o)+(e[3&c^i]^r),r=t[c]+=n}return t},decode:function(t,e){for(var n,i,a=t.length,r=t[a-1],o=t[0],s=2654435769*Math.floor(6+52/a);0!=s;){i=s>>>2&3;for(var l=a-1;l>=0;l--)n=((r=t[l>0?l-1:a-1])>>>5^o<<2)+(o>>>3^r<<4)^(s^o)+(e[3&l^i]^r),o=t[l]-=n;s-=2654435769}return t},strToLongs:function(t){for(var e=new Array(Math.ceil(t.length/4)),n=0;n<e.length;n++)e[n]=t.charCodeAt(4*n)+(t.charCodeAt(4*n+1)<<8)+(t.charCodeAt(4*n+2)<<16)+(t.charCodeAt(4*n+3)<<24);return e},longsToStr:function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=String.fromCharCode(255&t[n],t[n]>>>8&255,t[n]>>>16&255,t[n]>>>24&255);return e.join("")}};void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(t){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==t)return new t(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==t)return new t(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),e.exports=n}).call(this,t(17).Buffer)},{17:17}],11:[function(t,e,n){arguments[4][1][0].apply(n,arguments)},{1:1,12:12,13:13,14:14}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.activate=n.create=void 0;var i,a=t(14),r=(i=a)&&i.__esModule?i:{default:i};function o(t,e){try{t.outerHTML=e(JSON.parse(t.getAttribute("data-component-data")))}catch(t){window.console.log("Error rendering component: "+t)}}n.create=function(t){var e;return(t=t||{}).contexts?e=function(e,n){o(e,t.contexts[n].template)}:t.template&&(e=function(e){o(e,t.template)}),{init:function(e){t.init&&t.init(e),e.setAttribute("data-init",!0)},render:e}},n.activate=function(t){r.default.fire(t,"component.activate")}},{14:14}],13:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{18:18,3:3}],14:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{4:4}],15:[function(t,e,n){"use strict";n.byteLength=function(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i},n.toByteArray=function(t){for(var e,n=c(t),i=n[0],o=n[1],s=new r(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),l=0,u=o>0?i-4:i,d=0;d<u;d+=4)e=a[t.charCodeAt(d)]<<18|a[t.charCodeAt(d+1)]<<12|a[t.charCodeAt(d+2)]<<6|a[t.charCodeAt(d+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;2===o&&(e=a[t.charCodeAt(d)]<<2|a[t.charCodeAt(d+1)]>>4,s[l++]=255&e);1===o&&(e=a[t.charCodeAt(d)]<<10|a[t.charCodeAt(d+1)]<<4|a[t.charCodeAt(d+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e);return s},n.fromByteArray=function(t){for(var e,n=t.length,a=n%3,r=[],o=0,s=n-a;o<s;o+=16383)r.push(u(t,o,o+16383>s?s:o+16383));1===a?(e=t[n-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return r.join("")};for(var i=[],a=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)i[s]=o[s],a[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var a,r,o=[],s=e;s<n;s+=3)a=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(i[(r=a)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],16:[function(t,e,n){},{}],17:[function(t,e,n){(function(e){"use strict";var i=t(15),a=t(19);n.Buffer=e,n.SlowBuffer=function(t){+t!=t&&(t=0);return e.alloc(+t)},n.INSPECT_MAX_BYTES=50;var r=2147483647;function o(t){if(t>r)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return n.__proto__=e.prototype,n}function e(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return s(t,e,n)}function s(t,n,i){if("string"==typeof t)return function(t,n){"string"==typeof n&&""!==n||(n="utf8");if(!e.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i=0|p(t,n),a=o(i),r=a.write(t,n);r!==i&&(a=a.slice(0,r));return a}(t,n);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(j(t,ArrayBuffer)||t&&j(t.buffer,ArrayBuffer))return function(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var a;a=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);return a.__proto__=e.prototype,a}(t,n,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var a=t.valueOf&&t.valueOf();if(null!=a&&a!==t)return e.from(a,n,i);var r=function(t){if(e.isBuffer(t)){var n=0|d(t.length),i=o(n);return 0===i.length?i:(t.copy(i,0,0,n),i)}if(void 0!==t.length)return"number"!=typeof t.length||U(t.length)?o(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return e.from(t[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),o(t<0?0:0|d(t))}function u(t){for(var e=t.length<0?0:0|d(t.length),n=o(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function d(t){if(t>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function p(t,n){if(e.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||j(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===i)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return N(t).length;default:if(r)return a?-1:B(t).length;n=(""+n).toLowerCase(),r=!0}}function f(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function h(t,n,i,a,r){if(0===t.length)return-1;if("string"==typeof i?(a=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),U(i=+i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof n&&(n=e.from(n,a)),e.isBuffer(n))return 0===n.length?-1:v(t,n,i,a,r);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,n,i):Uint8Array.prototype.lastIndexOf.call(t,n,i):v(t,[n],i,a,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,a){var r,o=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(a){var u=-1;for(r=n;r<s;r++)if(c(t,r)===c(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*o}else-1!==u&&(r-=r-u),u=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){for(var d=!0,p=0;p<l;p++)if(c(t,r+p)!==c(e,p)){d=!1;break}if(d)return r}return-1}function m(t,e,n,i){n=Number(n)||0;var a=t.length-n;i?(i=Number(i))>a&&(i=a):i=a;var r=e.length;i>r/2&&(i=r/2);for(var o=0;o<i;++o){var s=parseInt(e.substr(2*o,2),16);if(U(s))return o;t[n+o]=s}return o}function g(t,e,n,i){return R(B(e,t.length-n),t,n,i)}function y(t,e,n,i){return R(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function b(t,e,n,i){return y(t,e,n,i)}function w(t,e,n,i){return R(N(e),t,n,i)}function x(t,e,n,i){return R(function(t,e){for(var n,i,a,r=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),i=n>>8,a=n%256,r.push(a),r.push(i);return r}(e,t.length-n),t,n,i)}function E(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],a=e;a<n;){var r,o,s,l,c=t[a],u=null,d=c>239?4:c>223?3:c>191?2:1;if(a+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(r=t[a+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=t[a+1],o=t[a+2],128==(192&r)&&128==(192&o)&&(l=(15&c)<<12|(63&r)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=t[a+1],o=t[a+2],s=t[a+3],128==(192&r)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),a+=d}return function(t){var e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=L));return n}(i)}n.kMaxLength=r,e.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),e.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(t,e,n){return s(t,e,n)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?o(t):void 0!==e?"string"==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}(t,e,n)},e.allocUnsafe=function(t){return c(t)},e.allocUnsafeSlow=function(t){return c(t)},e.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==e.prototype},e.compare=function(t,n){if(j(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),j(n,Uint8Array)&&(n=e.from(n,n.offset,n.byteLength)),!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,a=n.length,r=0,o=Math.min(i,a);r<o;++r)if(t[r]!==n[r]){i=t[r],a=n[r];break}return i<a?-1:a<i?1:0},e.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var a=e.allocUnsafe(n),r=0;for(i=0;i<t.length;++i){var o=t[i];if(j(o,Uint8Array)&&(o=e.from(o)),!e.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,r),r+=o.length}return a},e.byteLength=p,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},e.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},e.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},e.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},e.prototype.compare=function(t,n,i,a,r){if(j(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),!e.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),n<0||i>t.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&n>=i)return 0;if(a>=r)return-1;if(n>=i)return 1;if(n>>>=0,i>>>=0,a>>>=0,r>>>=0,this===t)return 0;for(var o=r-a,s=i-n,l=Math.min(o,s),c=this.slice(a,r),u=t.slice(n,i),d=0;d<l;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},e.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},e.prototype.indexOf=function(t,e,n){return h(this,t,e,n,!0)},e.prototype.lastIndexOf=function(t,e,n){return h(this,t,e,n,!1)},e.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return g(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function T(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;a<n;++a)i+=String.fromCharCode(127&t[a]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;a<n;++a)i+=String.fromCharCode(t[a]);return i}function k(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var a="",r=e;r<n;++r)a+=O(t[r]);return a}function C(t,e,n){for(var i=t.slice(e,n),a="",r=0;r<i.length;r+=2)a+=String.fromCharCode(i[r]+256*i[r+1]);return a}function q(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,n,i,a,r,o){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>r||n<o)throw new RangeError('"value" argument is out of bounds');if(i+a>t.length)throw new RangeError("Index out of range")}function M(t,e,n,i,a,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,i,r){return e=+e,n>>>=0,r||M(t,0,n,4),a.write(t,e,n,i,23,4),n+4}function P(t,e,n,i,r){return e=+e,n>>>=0,r||M(t,0,n,8),a.write(t,e,n,i,52,8),n+8}e.prototype.slice=function(t,n){var i=this.length;t=~~t,n=void 0===n?i:~~n,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),n<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var a=this.subarray(t,n);return a.__proto__=e.prototype,a},e.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||q(t,e,this.length);for(var i=this[t],a=1,r=0;++r<e&&(a*=256);)i+=this[t+r]*a;return i},e.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||q(t,e,this.length);for(var i=this[t+--e],a=1;e>0&&(a*=256);)i+=this[t+--e]*a;return i},e.prototype.readUInt8=function(t,e){return t>>>=0,e||q(t,1,this.length),this[t]},e.prototype.readUInt16LE=function(t,e){return t>>>=0,e||q(t,2,this.length),this[t]|this[t+1]<<8},e.prototype.readUInt16BE=function(t,e){return t>>>=0,e||q(t,2,this.length),this[t]<<8|this[t+1]},e.prototype.readUInt32LE=function(t,e){return t>>>=0,e||q(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},e.prototype.readUInt32BE=function(t,e){return t>>>=0,e||q(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},e.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||q(t,e,this.length);for(var i=this[t],a=1,r=0;++r<e&&(a*=256);)i+=this[t+r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*e)),i},e.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||q(t,e,this.length);for(var i=e,a=1,r=this[t+--i];i>0&&(a*=256);)r+=this[t+--i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*e)),r},e.prototype.readInt8=function(t,e){return t>>>=0,e||q(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},e.prototype.readInt16LE=function(t,e){t>>>=0,e||q(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(t,e){t>>>=0,e||q(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(t,e){return t>>>=0,e||q(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},e.prototype.readInt32BE=function(t,e){return t>>>=0,e||q(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},e.prototype.readFloatLE=function(t,e){return t>>>=0,e||q(t,4,this.length),a.read(this,t,!0,23,4)},e.prototype.readFloatBE=function(t,e){return t>>>=0,e||q(t,4,this.length),a.read(this,t,!1,23,4)},e.prototype.readDoubleLE=function(t,e){return t>>>=0,e||q(t,8,this.length),a.read(this,t,!0,52,8)},e.prototype.readDoubleBE=function(t,e){return t>>>=0,e||q(t,8,this.length),a.read(this,t,!1,52,8)},e.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var a=1,r=0;for(this[e]=255&t;++r<n&&(a*=256);)this[e+r]=t/a&255;return e+n},e.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var a=n-1,r=1;for(this[e+a]=255&t;--a>=0&&(r*=256);)this[e+a]=t/r&255;return e+n},e.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,1,255,0),this[e]=255&t,e+1},e.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},e.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},e.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},e.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},e.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var a=Math.pow(2,8*n-1);I(this,t,e,n,a-1,-a)}var r=0,o=1,s=0;for(this[e]=255&t;++r<n&&(o*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/o>>0)-s&255;return e+n},e.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var a=Math.pow(2,8*n-1);I(this,t,e,n,a-1,-a)}var r=n-1,o=1,s=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/o>>0)-s&255;return e+n},e.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},e.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},e.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},e.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},e.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},e.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},e.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},e.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},e.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},e.prototype.copy=function(t,n,i,a){if(!e.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),a||0===a||(a=this.length),n>=t.length&&(n=t.length),n||(n=0),a>0&&a<i&&(a=i),a===i)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-n<a-i&&(a=t.length-n+i);var r=a-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,i,a);else if(this===t&&i<n&&n<a)for(var o=r-1;o>=0;--o)t[o+n]=this[o+i];else Uint8Array.prototype.set.call(t,this.subarray(i,a),n);return r},e.prototype.fill=function(t,n,i,a){if("string"==typeof t){if("string"==typeof n?(a=n,n=0,i=this.length):"string"==typeof i&&(a=i,i=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!e.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===t.length){var r=t.charCodeAt(0);("utf8"===a&&r<128||"latin1"===a)&&(t=r)}}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var o;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=n;o<i;++o)this[o]=t;else{var s=e.isBuffer(t)?t:e.from(t,a),l=s.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<i-n;++o)this[o+n]=s[o%l]}return this};var _=/[^+/0-9A-Za-z-_]/g;function O(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var i=t.length,a=null,r=[],o=0;o<i;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&r.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&r.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function N(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function R(t,e,n,i){for(var a=0;a<i&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}function j(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function U(t){return t!=t}}).call(this,t(17).Buffer)},{15:15,17:17,19:19}],18:[function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)},l=function(t){if(!t||"[object Object]"!==a.call(t))return!1;var e,n=i.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&i.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;for(e in t);return void 0===e||i.call(t,e)},c=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!i.call(t,e))return;if(o)return o(t,e).value}return t[e]};e.exports=function t(){var e,n,i,a,r,o,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<f;++p)if(null!=(e=arguments[p]))for(n in e)i=u(d,n),d!==(a=u(e,n))&&(h&&a&&(l(a)||(r=s(a)))?(r?(r=!1,o=i&&s(i)?i:[]):o=i&&l(i)?i:{},c(d,{name:n,newValue:t(h,o,a)})):void 0!==a&&c(d,{name:n,newValue:a}));return d}},{}],19:[function(t,e,n){n.read=function(t,e,n,i,a){var r,o,s=8*a-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?a-1:0,p=n?-1:1,f=t[e+d];for(d+=p,r=f&(1<<-u)-1,f>>=-u,u+=s;u>0;r=256*r+t[e+d],d+=p,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=i;u>0;o=256*o+t[e+d],d+=p,u-=8);if(0===r)r=1-c;else{if(r===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),r-=c}return(f?-1:1)*o*Math.pow(2,r-i)},n.write=function(t,e,n,i,a,r){var o,s,l,c=8*r-a-1,u=(1<<c)-1,d=u>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:r-1,h=i?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(e*l-1)*Math.pow(2,a),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;t[n+f]=255&s,f+=h,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;t[n+f]=255&o,f+=h,o/=256,c-=8);t[n+f-h]|=128*v}},{}],20:[function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function a(t,e){return Array.isArray(t)?function(t,e){for(var n,i="",r="",o=Array.isArray(e),s=0;s<t.length;s++)(n=a(t[s]))&&(o&&e[s]&&(n=l(n)),i=i+r+n,r=" ");return i}(t,e):t&&"object"==typeof t?function(t){var e="",n="";for(var a in t)a&&t[a]&&i.call(t,a)&&(e=e+n+a,n=" ");return e}(t):t||""}function r(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)i.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function o(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var a=typeof e;return"object"!==a&&"function"!==a||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}n.merge=function t(e,n){if(1===arguments.length){for(var i=e[0],a=1;a<e.length;a++)i=t(i,e[a]);return i}for(var o in n)if("class"===o){var s=e[o]||[];e[o]=(Array.isArray(s)?s:[s]).concat(n[o]||[])}else if("style"===o){var s=r(e[o]);s=s&&";"!==s[s.length-1]?s+";":s;var l=r(n[o]);l=l&&";"!==l[l.length-1]?l+";":l,e[o]=s+l}else e[o]=n[o];return e},n.classes=a,n.style=r,n.attr=o,n.attrs=function(t,e){var n="";for(var s in t)if(i.call(t,s)){var l=t[s];if("class"===s){l=a(l),n=o(s,l,!1,e)+n;continue}"style"===s&&(l=r(l)),n+=o(s,l,!1,e)}return n};var s=/["&<>]/;function l(t){var e=""+t,n=s.exec(e);if(!n)return t;var i,a,r,o="";for(i=n.index,a=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=e.substring(a,i)),a=i+1,o+=r}return a!==i?o+e.substring(a,i):o}n.escape=l,n.rethrow=function e(n,i,a,r){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&i||r))throw n.message+=" on line "+a,n;try{r=r||t(16).readFileSync(i,"utf8")}catch(t){e(n,null,a)}var o=3,s=r.split("\n"),l=Math.max(a-o,0),c=Math.min(s.length,a+o);var o=s.slice(l,c).map(function(t,e){var n=e+l+1;return(n==a?"  > ":"    ")+n+"| "+t}).join("\n");n.path=i;n.message=(i||"Pug")+":"+a+"\n"+o+"\n\n"+n.message;throw n}},{16:16}],21:[function(t,e,n){"use strict";var i=t(9),a=t(1).component;e.exports=a.create({init:function(){var t;(function(){if(window.TMCONFIG&&window.TMCONFIG.pageInfo)return"affiliate"===window.TMCONFIG.pageInfo.articleSubType})()&&(t="<div class='affiliate section-theme-background-indicator'><p class='affiliate-text'>This article contains affiliate links, we may receive a commission on any sales we generate from it. <a href='/affiliates'>Learn more</a></p></div>","baseLayout"===i.getBreakpoint()?document.querySelector(".article-main h1").insertAdjacentHTML("afterend",t):document.querySelector(".article-main .byline").insertAdjacentHTML("beforebegin",t))}})},{1:1,9:9}],22:[function(t,e,n){"use strict";var i=t(1).component,a=t(76),r=t(42);e.exports=i.create({init:function(t){var e={el:t,url:t.getAttribute("data-url")};if(a.init(e),r.init(),window.TMCONFIG.publicSectionParams.hideMRMR){var n=t.querySelector(".related-column");n&&n.classList.add("no-heading")}}})},{1:1,42:42,76:76}],23:[function(t,e,n){"use strict";e.exports={getAmChartLegend:function(){return new AmCharts.AmLegend},getAmChartPie:function(){return new AmCharts.AmPieChart},getSerialAmChart:function(){return new AmCharts.AmSerialChart},getAmChartsValueAxis:function(){return new AmCharts.ValueAxis},getAmChartsGraph:function(){return new AmCharts.AmGraph},getBarChartLegend:function(){AmCharts.addInitHandler(function(t){var e=t.categoryField,n=t.graphs[0],i=n.lineColorField||n.fillColorsField||n.colorField,a=t.dataProvider.map(function(n){return{title:n[e]+": "+n[t.graphs[0].valueField],color:n[i]}});t.legend.data=a},["serial"])}}},{}],24:[function(t,e,n){"use strict";var i=t(1).component,a=t(33),r=t(26),o=t(25);e.exports=i.create({init:function(t){r("serial",function(){!function(t){var e=JSON.parse(t.getAttribute("data-chart-data"));if("custom"!==e.theme){var n=a(e.theme);e.subtypeData.rawData.forEach(function(t,e){t.color=n[e%n.length]})}o.getBarChart(e,t.parentNode.querySelector(".chart-legend")).write(t)}(t)})}})},{1:1,25:25,26:26,33:33}],25:[function(t,e,n){"use strict";var i=t(23),a=t(1).events;function r(){var t=i.getAmChartLegend();return t.valueWidth="100%",t.markerType="circle",t.align="center",t.markerSize=10,t}function o(){var t=i.getSerialAmChart(),e=t.balloon,n=t.categoryAxis;return t.addClassNames=!0,t.fontSize=15,t.autoMargins=!1,t.panEventsEnabled=!1,t.addCodeCredits=!1,t.addClassNames=!0,t.responsive={enabled:!0},e.fontSize=12,n.gridPosition="start",t}function s(){var t=i.getAmChartPie(),e=r();return t.titleField="label",t.valueField="value",t.outlineColor="#FFFFFF",t.balloon.enabled=!0,t.labelsEnabled=!0,t.balloonText="[[title]] - <b>[[percents]]%</b>",t.hideBalloonTime=1250,t.startEffect="easeOutSine",t.startDuration=.5,t.outlineAlpha=1,t.outlineThickness=2,t.colorField="color",t.labelText="[[percents]]%",t.labelRadius=5,t.depth3D=0,t.startAngle=90,t.pullOutRadius="3%",t.fontSize=15,t.panEventsEnabled=!1,t.marginTop=30,t.marginBottom=30,t.marginLeft=30,t.marginRight=30,t.minRadius=40,t.percentPrecision=1,t.adjustPrecision=!0,t.addCodeCredits=!1,t.balloon.fontSize=12,t.addLegend(e),t}e.exports={getPieChart:s,getLegend:r,getSerialChart:o,getSplitBarChart:function(t,e){var n=o(),a=r(),s=i.getAmChartsValueAxis();return n.rotate=!0,n.balloon.enabled=!1,n.columnSpacing=0,n.columnWidth=1,n.marginLeft=6,n.marginRight=6,n.marginTop=0,n.marginBottom=0,n.autoMarginOffset=0,n.fontSize=15,n.autoMargins=!1,n.startDuration=1,n.startEffect="bounce",n.panEventsEnabled=!1,n.addCodeCredits=!1,n.addClassNames=!0,n.categoryAxis.axisAlpha=0,n.responsive={enabled:!1},t&&Object.keys(t).forEach(function(t){var e=i.getAmChartsGraph();e.fillAlphas=1,e.labelText="[[value]]",e.lineAlpha=0,e.title=t,e.type="column",e.valueField=t,n.addGraph(e)}),s.axisAlpha=0,s.gridAlpha=0,s.stackType="100%",n.addLegend(a,e),n.addValueAxis(s),n},getDonutChart:function(){var t=s();return t.innerRadius="50%",t},getLineChart:function(t,e){var n=o(),a=r(),s=i.getAmChartsValueAxis();if(n.autoMargins=!0,n.fontSize=11,n.categoryAxis.labelRotation=45,n.categoryAxis.axisAlpha=1,n.categoryField="label",t&&t.subtypeData){n.categoryAxis.title=t.subtypeData.xAxisTitle,s.labelsEnabled=!0,s.title=t.subtypeData.yAxisTitle;for(var l=t.subtypeData.rawData[0].values.length,c=0;c<l;c++){var u=i.getAmChartsGraph();u.valueField="value"+c,u.fillAlphas=0,u.type="smoothedLine",u.lineThickness=2,u.lineColor=e[c],u.bullet="round",u.title=t.subtypeData.legendData[c].name,n.addGraph(u)}}return n.addLegend(a),n.addValueAxis(s),n},getBarChart:function(t,e){var n=o(),r=i.getAmChartsGraph(),s=i.getAmChartsValueAxis(),l=i.getAmChartLegend(),c=document.querySelector(".chart-container");if(l.markerType="square",l.align="left",l.fontSize=13,c){l.labelWidth=c.offsetWidth-40;var u=function(){l.labelWidth=document.querySelector(".chart-container").offsetWidth-40};a.listen(window,"resize",u),a.listen(window,"orientationchange",u)}return n.categoryField="label",n.fontSize=13,n.categoryAxis.labelRotation=45,n.categoryAxis.fillAlpha=0,n.categoryAxis.fillColor="#f1f1f1",n.categoryAxis.axisAlpha=0,n.categoryAxis.labelsEnabled=!1,n.startDuration=1,n.startEffect="bounce",n.autoMargins=!0,r.colorField="color",r.valueField="value",r.balloonText="<b>[[value]]</b>",r.type="column",r.lineAlpha=0,r.fillAlphas=1,s.dashLength=5,s.axisAlpha=0,s.labelsEnabled=!0,s.stackType="regular",t&&t.subtypeData&&(n.dataProvider=t.subtypeData.rawData,n.rotate=t.subtypeData.rotateGraph,s.title=t.subtypeData.yAxisTitle),n.responsive={enabled:!1},n.addGraph(r),n.addValueAxis(s),n.addLegend(l,e),i.getBarChartLegend(n),n}}},{1:1,23:23}],26:[function(t,e,n){"use strict";e.exports=function(t,e){var n={main:window.TMCONFIG.frontendRoot+"/@trinitymirrordigital/marwood/lib/amcharts/amcharts.js",responsive:window.TMCONFIG.frontendRoot+"/@trinitymirrordigital/marwood/lib/amcharts/responsive.min.js"},i={pie:window.TMCONFIG.frontendRoot+"/@trinitymirrordigital/marwood/lib/amcharts/pie.js",serial:window.TMCONFIG.frontendRoot+"/@trinitymirrordigital/marwood/lib/amcharts/serial.js"};window.$script(n.main,function(){window.$script(n.responsive,function(){window.$script(i[t],function(){e()})})})}},{}],27:[function(t,e,n){"use strict";var i=t(1).component,a=t(9);e.exports=i.create({init:function(t){var e,n,i;e=t,n=a.nodeListToArray(e.getElementsByClassName("circular-img")),i=n.length,n.forEach(function(t,e){e%2==0&&t.classList.add("even"),2===i?t.classList.add("dataset-half"):3===i&&t.classList.add("dataset-multiple")})}})},{1:1,9:9}],28:[function(t,e,n){"use strict";var i=t(1).component,a=t(33),r=t(26),o=t(25);e.exports=i.create({init:function(t){r("pie",function(){!function(t){var e=JSON.parse(t.getAttribute("data-chart-data")),n=o.getDonutChart();if(n.dataProvider=e.subtypeData.rawData,"custom"!==e.theme){var i=a(e.theme);e.subtypeData.rawData.forEach(function(t,e){t.color=i[e%i.length]})}n.write(t)}(t)})}})},{1:1,25:25,26:26,33:33}],29:[function(t,e,n){"use strict";var i=t(1).component,a=t(33),r=t(26),o=t(25);e.exports=i.create({init:function(t){r("serial",function(){!function(t){var e=JSON.parse(t.getAttribute("data-chart-data")),n=[],i=a(e.theme);e.subtypeData.rawData.forEach(function(t){var e={};t.values.forEach(function(n,i){e.label=t.label,e["value"+i]=n}),n.push(e)});var r=o.getLineChart(e,i);r.dataProvider=n,r.write(t)}(t)})}})},{1:1,25:25,26:26,33:33}],30:[function(t,e,n){"use strict";var i=t(1).component,a=t(9);e.exports=i.create({init:function(t){var e,n,i;e=t,n=a.nodeListToArray(e.getElementsByClassName("number-statistic")),i=n.length,n.forEach(function(t,e){2===i?t.classList.add("dataset-2"):i>=3&&(t.classList.add("dataset-multiple"),e>=3&&(i-3==2?t.classList.add("dataset-half"):i-3==1&&(t.style.width="100%")))})}})},{1:1,9:9}],31:[function(t,e,n){"use strict";var i=t(1).component,a=t(33),r=t(26),o=t(25);e.exports=i.create({init:function(t){r("pie",function(){!function(t){var e=JSON.parse(t.getAttribute("data-chart-data")),n=o.getPieChart();if(n.dataProvider=e.subtypeData.rawData,"custom"!==e.theme){var i=a(e.theme);e.subtypeData.rawData.forEach(function(t,e){t.color=i[e%i.length]})}n.write(t)}(t)})}})},{1:1,25:25,26:26,33:33}],32:[function(t,e,n){"use strict";var i=t(1).component,a=t(33),r=t(26),o=t(25);e.exports=i.create({init:function(t){r("serial",function(){!function(t){var e=JSON.parse(t.getAttribute("data-chart-data")),n=t.getAttribute("data-chart-id"),i={},r=[];e.subtypeData.rawData.forEach(function(t){i[t.label]=t.value,r.push(t.color)});var s=o.getSplitBarChart(i,n);s.dataProvider=[i],"custom"===e.theme?s.colors=r:s.colors=a(e.theme),s.write(t)}(t)})}})},{1:1,25:25,26:26,33:33}],33:[function(t,e,n){"use strict";var i=["#e90e0e","#ec6508","#e3a522","#009c33","#0087dc"],a={green:["#68af0e","#608731","#355f00","#263d0a","#281d1d"],golden:["#f9b23f","#8f7c40","#845c1b","#4b3b21","#2d2919"],fresh:["#334d5c","#45b29d","#dcb535","#e27a3f","#cf4736"],monochrome:["#b2b2b2","#313131","#7b7b7b","#575757","#000000"],political:["#da1500","#0098d9","#fbc300","#722889","#8c8c8b"],politicalWales:["#da1500","#0098d9","#3f8428","#fbc300","#722889"],politicalScotland:["#f3ed49","#da1500","#0098d9","#fbc300","#722889"]};e.exports=function(t){return void 0!==a[t]?a[t]:i}},{}],34:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.trackParagraphTraversal=p;var i=r(t(4)),a=r(t(2));function r(t){return t&&t.__esModule?t:{default:t}}var o=5,s=function(t){return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Array(t).keys()))},l=function(t,e){var n=t.length-1;return n?e*(100/n):100},c=function(t){return{root:null,rootMargin:"0px",threshold:t}},u=function(t){return 0===t?0:1},d=function(t,e,n){var a=t[0];if(a.isIntersecting&&function(t){return t.intersectionRatio>=u(t.target.markerPercentage)}(a)){var r=n.getBoundingClientRect(),o=Math.round(100*Math.abs((r.top-window.innerHeight)/r.height)),s=a.target.markerPercentage+"%";i.default.fire(window,"analytics.track",{name:"paragraphDepth",category:"consumption",value:{markerPercentage:s,scrollPercentage:o}}),e.disconnect()}};function p(t){var e=t.querySelectorAll("p"),n=Math.floor(e.length/o)||1,i=s(o-1).map(function(t){return e[t*n]}).filter(function(t){return void 0!==t});e.length>=o&&i.push(e[e.length-1]),i.forEach(function(e,n){e.markerPercentage=l(i,n),new IntersectionObserver(function(e,n){d(e,n,t)},c(u(n))).observe(e)})}e.exports=a.default.create({init:function(t){p(t.querySelector(".article-body"))}})},{2:2,4:4}],35:[function(t,e,n){"use strict";var i=t(1).component;e.exports=i.create({init:function(t){window.TMCONFIG&&"true"===window.TMCONFIG.publicSectionParams["converse.widget.enable"]&&null!=t.getAttribute("data-converse")&&$script("https://get.convrse.media/parent.js")}})},{1:1}],36:[function(t,e,n){"use strict";var i=t(1).component;function a(t){this.element=t;this.config={fillColor:t.parentElement.getAttribute("data-fillColor")||"#3a3a3a",startTime:t.getAttribute("data-startTime"),endTime:t.getAttribute("data-endTime"),currentTime:t.getAttribute("data-currentTime"),liveCaption:t.getAttribute("data-liveCaption"),canvasDaysElement:t.querySelector(".countdown-days"),canvasHoursElement:t.querySelector(".countdown-hours"),canvasMinutesElement:t.querySelector(".countdown-minutes"),canvasSecondsElement:t.querySelector(".countdown-seconds"),captionElement:t.querySelector(".countdown-content-caption"),preloaderElement:t.querySelector(".countdown-preloader"),clockElement:t.querySelector(".countdown-clock"),ringColor:window.getComputedStyle(t,null).getPropertyValue("color")}}a.prototype={init:function(){var t=this.config.endTime-this.config.currentTime;this.config.total=Math.floor((this.config.endTime-this.config.startTime)/86400),this.config.days=Math.floor(t/86400),this.config.hours=24-Math.floor(t%86400/3600),this.config.minutes=60-Math.floor(t%86400%3600/60),this.config.seconds=60-Math.floor(t%86400%3600%60),this.config.currentTime>=this.config.endTime?this.countdownComplete():this.clock()},getDegree:function(t){return Math.PI/180*t-Math.PI/180*90},buildCircle:function(t,e){var n=t.getContext("2d");n&&(n.clearRect(0,0,t.width,t.height),n.beginPath(),n.arc(50,50,45,this.getDegree(0),this.getDegree(360)),n.fillStyle=this.config.fillColor,n.fill(),n.beginPath(),n.strokeStyle=this.config.ringColor,n.arc(50,50,45,this.getDegree(0),e),n.lineWidth=4,n.stroke(),this.config.clockElement.classList.contains("hidden")&&(this.config.preloaderElement.classList.add("hidden"),this.config.clockElement.classList.remove("hidden")))},countdownComplete:function(){this.config.captionElement.textContent=this.config.liveCaption,this.element.classList.add("countdown-completed"),this.buildCircle(this.config.canvasDaysElement,this.getDegree(360)),this.buildCircle(this.config.canvasHoursElement,this.getDegree(360)),this.buildCircle(this.config.canvasMinutesElement,this.getDegree(360)),this.buildCircle(this.config.canvasSecondsElement,this.getDegree(360))},changeClockText:function(t,e){this.element.querySelector("."+t+" .val").textContent=e},clock:function(){var t=this,e=function(){var e=360/t.config.total*(t.config.total-t.config.days);t.buildCircle(t.config.canvasDaysElement,t.getDegree(e)),t.changeClockText("clock-days",t.config.days)},n=function(){t.buildCircle(t.config.canvasHoursElement,t.getDegree(15*t.config.hours)),t.changeClockText("clock-hours",24-t.config.hours)},i=function(){t.buildCircle(t.config.canvasMinutesElement,t.getDegree(6*t.config.minutes)),t.changeClockText("clock-minutes",60-t.config.minutes)},a=function(){t.buildCircle(t.config.canvasSecondsElement,t.getDegree(6*t.config.seconds)),t.changeClockText("clock-seconds",60-t.config.seconds)},r=setInterval(function(){return 60-t.config.seconds==0&&60-t.config.minutes==0&&24-t.config.hours==0&&0===t.config.days?(clearInterval(r),void t.countdownComplete()):t.config.seconds<60?(t.config.seconds++,void a()):(t.config.seconds=1,a(),t.config.minutes<60?(t.config.minutes++,void i()):(t.config.minutes=1,i(),t.config.hours<24?(t.config.hours++,void n()):(t.config.hours=1,n(),void(t.config.days>0&&(t.config.days--,e())))))},1e3);e(),n(),i(),a()}},e.exports=i.create({init:function(t){new a(t).init()},css:"article-service/countdown/scss/countdown.css?v=12e8935e77e02da5aa0559001788c874"})},{1:1}],37:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a=t||{};return function(t,a,r){if(null!==a){var o=a.candidatesData[0];n+='<div class="find-my-seat-panel">',n+="<h4>",n+="2017 Results</h4>",n=(n+='<div class="current-seat current-seat-live">')+"<p"+i.attr("class",i.classes([o.style],[!0]),!1,!0)+">",n+=i.escape(null==(e=o.party)?"":e),n=(n+=" ")+i.escape(null==(e=a.gainOrHold)?"":e)+"</p>",n+="<p>",n=(n+="Constituency - ")+i.escape(null==(e=r)?"":e)+"</p>",n+="<p>",n=(n+="Current MP - ")+"<span"+i.attr("class",i.classes([o.style],[!0]),!1,!0)+">",n+=i.escape(null==(e=o.name)?"":e),n=(n+=", ")+i.escape(null==(e=o.party)?"":e)+"</span></p>",n+="<p>",n+="2017 turnout - ",n+=" ",n+=i.escape(null==(e=t(a.turnout).toLocaleString())?"":e),n+="\n",n+=" (",n+=i.escape(null==(e=a.percentageMajority)?"":e),n+="%)</p></div></div>",n+='<div class="find-my-seat-panel candidates previous-results">',n+="<h4>",n+="2017 Results Breakdown</h4>",n+='<div class="info-container">',n+="<table>",function(){var r=a.candidatesData;if("number"==typeof r.length)for(var o=0,s=r.length;o<s;o++){var l=r[o];n=(n=(n+="<tr>")+"<td"+i.attr("class",i.classes(["party",l.style],[!1,!0]),!1,!0)+">")+i.escape(null==(e=l.party)?"":e)+"</td>",n=(n+="<td>")+i.escape(null==(e=t(l.votes).toLocaleString())?"":e)+"</td>",n+="<td>",n+=" </td></tr>"}else for(var o in s=0,r)s++,l=r[o],n=(n=(n+="<tr>")+"<td"+i.attr("class",i.classes(["party",l.style],[!1,!0]),!1,!0)+">")+i.escape(null==(e=l.party)?"":e)+"</td>",n=(n+="<td>")+i.escape(null==(e=t(l.votes).toLocaleString())?"":e)+"</td>",n+="<td>",n+=" </td></tr>"}.call(this),n+="</table></div></div>",n+='<div class="find-my-seat-panel candidates candidates-live">',n+="<h4>",n+="2017 Candidates</h4>",n+='<div class="info-container">',n+="<dl>",function(){var t=a.candidatesData;if("number"==typeof t.length)for(var r=0,o=t.length;r<o;r++){var s=t[r];n=n+"<dt"+i.attr("class",i.classes(["party",s.style],[!1,!0]),!1,!0)+">",n=(n+="<strong>")+i.escape(null==(e=s.name)?"":e)+"</strong></dt>",n=(n+="<dd>")+i.escape(null==(e=s.party)?"":e)+"</dd>"}else for(var r in o=0,t)o++,s=t[r],n=n+"<dt"+i.attr("class",i.classes(["party",s.style],[!1,!0]),!1,!0)+">",n=(n+="<strong>")+i.escape(null==(e=s.name)?"":e)+"</strong></dt>",n=(n+="<dd>")+i.escape(null==(e=s.party)?"":e)+"</dd>"}.call(this),n+="</dl></div></div>"}else n+='<div class="find-my-seat-panel">',n+="<h4>",n+="2017 Results</h4>",n+='<div class="current-seat">',n+="<p>",n+=" ",n+="<strong>",n+="Not yet declared</strong></p>",n+="<p>",n+="Constituency - ",n=(n+="<span>")+i.escape(null==(e=r)?"":e)+"</span></p></div></div>"}.call(this,"Number"in a?a.Number:"undefined"!=typeof Number?Number:void 0,"constituencyData"in a?a.constituencyData:"undefined"!=typeof constituencyData?constituencyData:void 0,"constituencyName"in a?a.constituencyName:"undefined"!=typeof constituencyName?constituencyName:void 0),n}},{20:20}],38:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a=t||{};return function(t){n+='<div class="current-seat">',n+=" ",n+="<p>",n+="Constituency - ",n=(n+="<span>")+i.escape(null==(e=t[1].value)?"":e)+"</span></p>",n+="<p>",n+="Current MP - ",n+=i.escape(null==(e=t[5].value)?"":e),n=(n+=", ")+i.escape(null==(e=t[4].value)?"":e)+"</p></div>"}.call(this,"data"in a?a.data:"undefined"!=typeof data?data:void 0),n}},{20:20}],39:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a={};a.candidates=e=function(t,a){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel candidates">',n+="<h4>",n+="2017 Candidates</h4>",n+='<div class="info-container">',n+="<p>",n+="Candidates are listed in alphabetical order by first name.</p>",n+="<dl>",function(){var a=t;if("number"==typeof a.length)for(var r=0,o=a.length;r<o;r++){var s=a[r];n=n+"<dt"+i.attr("class",i.classes(["party",s.class],[!1,!0]),!1,!0)+">",n=(n+="<strong>")+i.escape(null==(e=s.name)?"":e)+"</strong></dt>",n=(n+="<dd>")+i.escape(null==(e=s.party)?"":e)+"</dd>"}else{var o=0;for(var r in a){o++;var s=a[r];n=n+"<dt"+i.attr("class",i.classes(["party",s.class],[!1,!0]),!1,!0)+">",n=(n+="<strong>")+i.escape(null==(e=s.name)?"":e)+"</strong></dt>",n=(n+="<dd>")+i.escape(null==(e=s.party)?"":e)+"</dd>"}}}.call(this),n+="</dl></div></div>"},a.swing=e=function(t,a,r,o){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel swing">',n+="<h4>",n+="Fighting to win</h4>",n+='<div class="info-container">',n=(n=(n+="<p>")+"<strong"+i.attr("class",i.classes([a.class],[!0]),!1,!0)+">")+i.escape(null==(e=a.value)?"":e)+"</strong>",n+="<span>",n+="currently hold the seat</span></p>",function(){var a=t;if("number"==typeof a.length)for(var r=0,o=a.length;r<o;r++){var s=a[r];"string"!=typeof s&&(n=(n=(n+="<p>")+"<strong"+i.attr("class",i.classes([s.class],[!0]),!1,!0)+">")+i.escape(null==(e=s.value+"%")?"":e)+"</strong>",n+="<span>",n=(n+="Swing needed for ")+i.escape(null==(e=s.name)?"":e)+"</span></p>")}else{var o=0;for(var r in a){o++;var s=a[r];"string"!=typeof s&&(n=(n=(n+="<p>")+"<strong"+i.attr("class",i.classes([s.class],[!0]),!1,!0)+">")+i.escape(null==(e=s.value+"%")?"":e)+"</strong>",n+="<span>",n=(n+="Swing needed for ")+i.escape(null==(e=s.name)?"":e)+"</span></p>")}}}.call(this),o&&(n+='<p class="by-election">',n+="There was a by-election in ",n+=i.escape(null==(e=r.value)?"":e),n+=" in ",n+=i.escape(null==(e=o)?"":e),n+=". The swings above relate to the parties that finished second and third in this vote. By-elections are often held in very different circumstances to regular general elections, which means their results aren't always a good predictor of what might happen this time. The results from the last full general election in 2015 are also listed underneath to give you the whole picture.</p>"),n+="</div></div>"},a.previous=e=function(t,a){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel previous-results">',n+="<h4>",n+="Previous Result, 2015</h4>",n+='<div class="info-container">',n+="<table>",function(){var a=t.election2.data;if("number"==typeof a.length)for(var r=0,o=a.length;r<o;r++){var s=a[r];n=(n+="<tr>")+"<td"+i.attr("class",i.classes(["party",s.class],[!1,!0]),!1,!0)+">",n=(n+="<strong>")+i.escape(null==(e=s.name)?"":e)+"</strong></td>",n=(n+="<td>")+i.escape(null==(e=s.value)?"":e)+"</td>",n+="<td>",n+=" </td></tr>"}else{var o=0;for(var r in a){o++;var s=a[r];n=(n+="<tr>")+"<td"+i.attr("class",i.classes(["party",s.class],[!1,!0]),!1,!0)+">",n=(n+="<strong>")+i.escape(null==(e=s.name)?"":e)+"</strong></td>",n=(n+="<td>")+i.escape(null==(e=s.value)?"":e)+"</td>",n+="<td>",n+=" </td></tr>"}}}.call(this),n+="</table></div></div>"},a.economy=e=function(t,r){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel">',n+="<h4>",n+="Economy</h4>",n+='<div class="info-container">',a.opinionRange("weak","strong",t[0].value,"Current Economy"),a.opinionRange("worse","better",t[1].value,"Change since 2012"),n+="<p>",n+=i.escape(null==(e=r.data[1].value)?"":e),n+="’s economy is ",n+=i.escape(null==(e=t[2].value)?"":e),n+=" the average when compared to all 632 constituencies in Britain.</p>",n+="<p>",n+="Unemployment in the constituency stands at ",n+=i.escape(null==(e=t[3].value)?"":e),n+=" per cent, ",n+=i.escape(null==(e=t[4].value)?"":e),n+=" when compared to the average of 4.8 per cent across all constituencies in Britain between October and December last year.</p>",n+="<p>",n+="Unemployment has changed by ",n+=i.escape(null==(e=t[5].value)?"":e),n+=" percentage points between 2012 and 2016 - ",n+=i.escape(null==(e=t[6].value)?"":e),n+=" the average of -3.0 percentage points.</p>",n+="<p>",n+="Around ",n+=i.escape(null==(e=t[7].value)?"":e),n+=" per cent of the working-age population claim Jobseeker’s Allowance which is ",n+=i.escape(null==(e=t[8].value)?"":e),n+=" relative to the average of 1.2 per cent.</p>",n+="<p>",n+="House prices in ",n+=i.escape(null==(e=r.data[1].value)?"":e),n+=" are ",n+=i.escape(null==(e=t[9].value)?"":e),n+=" to the average of £215,000 in England and Wales.</p>",n+="<p>",n+="House prices have changed by ",n+=i.escape(null==(e=t[11].value)?"":e),n+=" per cent between 2012 and 2016 - ",n+=i.escape(null==(e=t[12].value)?"":e),n+=" the average constituency where house prices have changed by 11.5 per cent after inflation.</p></div></div>"},a.costOfLiving=e=function(t,r){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel">',n+="<h4>",n+="Cost of Living</h4>",n+='<div class="info-container">',a.opinionRange("tough","easy",t[0].value,"Current Cost of Living"),a.opinionRange("worse","better",t[1].value,"Change since 2012"),n+="<p>",n+="The median weekly wage for full-time workers in ",n+=i.escape(null==(e=r.data[1].value)?"":e),n+=" is £",n+=i.escape(null==(e=t[2].value)?"":e),n+=", ",n+=i.escape(null==(e=t[3].value)?"":e),n+=" the average of £541 a week across the whole of Britain.</p>",n+="<p>",n+="This is a change of ",n+=i.escape(null==(e=t[4].value)?"":e),n+=" per cent when compared to 2012. Wages across Britain have dropped by 1.8 per cent in that time.</p>",n+="<p>",n+="In ",n+=i.escape(null==(e=r.data[1].value)?"":e),n+=" ",n+=i.escape(null==(e=t[5].value)?"":e),n+=" per cent of children live in low-income families. </p>",n+="<p>",n+="This is ",n+=i.escape(null==(e=t[10].value)?"":e),n+=" proportion compared to the national average of 20.0 per cent across the UK.</p>",n+="<p>",n+="House prices were approximately ",n+=i.escape(null==(e=t[7].value)?"":e),n+=" times greater than the annual median wage in the constituency compared to the average of 7.6 in England and Wales in 2016.</p>",n+="<p>",n+="This represents a change of ",n+=i.escape(null==(e=t[8].value)?"":e),n+=" per cent from 2012 when house prices were ",n+=i.escape(null==(e=t[9].value)?"":e),n+=" times more expensive than the median wage.</p>",n+="<p>",n+="Nationally this change was 13.5 per cent.</p></div></div>"},a.immigration=e=function(t,r){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel">',n+="<h4>",n+="Immigration</h4>",n+='<div class="info-container">',a.opinionRange("low","high",t[0].value),n+="<p>",n+="According to the 2011 census ",n+=i.escape(null==(e=t[1].value)?"":e),n+=" per cent of people in ",n+=i.escape(null==(e=r.data[1].value)?"":e),n+=" were born in the UK. This is ",n+=i.escape(null==(e=t[2].value)?"":e),n+=" the 91.8 per cent average for England and Wales.</p>",n+="<p>",n+="Additionally, ",n+=i.escape(null==(e=t[3].value)?"":e),n+=" foreigners per 1,000 residents sought to get National Insurance numbers from the Department for Work and Pensions in 2016.</p>",n+="<p>",n+="This is ",n+=i.escape(null==(e=t[4].value)?"":e),n+=" the average of 12.6 per 1,000 and a change of ",n+=i.escape(null==(e=t[5].value)?"":e),n+=" per cent when compared to 2012.</p></div></div>"},a.health=e=function(t,r){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel">',n+="<h4>",n+="Health</h4>",n+='<div class="info-container">',a.opinionRange("struggling","good service",t[0].value),n+="<p>",n+="You live within the boundary of ",n+=i.escape(null==(e=t[1].value)?"":e),n+=".</p>",n+="<p>",n+=i.escape(null==(e=t[2].value)?"":e),n+=" per cent of patients in the CCG area are satisfied with their overall experience at the GP, ",n+=i.escape(null==(e=t[3].value)?"":e),n+=" the average of 85.2 per cent.</p>",n+="<p>",n+=i.escape(null==(e=t[4].value)?"":e),n+=" per cent of patients say they were satisfied with the opening times of their GP surgery, ",n+=i.escape(null==(e=t[5].value)?"":e),n+="  the average of 75.9 per cent.</p>",n+="<p>",n+="Hospitals are set targets to treat people within 18 weeks after they have been referred by a consultant and to start cancer treatment within 62 days (two months) of diagnosis.</p>",n+="<p>",n+="In ",n+=i.escape(null==(e=t[1].value)?"":e),n+=", ",n+=i.escape(null==(e=t[7].value)?"":e),n+=" per cent of those referred by a consultant were treated within 18 weeks - ",n+=i.escape(null==(e=t[8].value)?"":e),n+=" the average of 89.2 per cent.</p></div></div>"},a.pensions=e=function(t,r){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel">',n+="<h4>",n+="Pensions</h4>",n+='<div class="info-container">',a.opinionRange("few","many",t.data[0].value,"Pensioners"),n+="<p>",n+="There are ",n+=i.escape(null==(e=t.data[1].value)?"":e),n+=" people aged 65 and over in ",n+=i.escape(null==(e=r.data[1].value)?"":e),n+=" meaning that ",n+=i.escape(null==(e=t.data[2].value)?"":e),n+=" per cent of the population is of pension age - ",n+=i.escape(null==(e=t.data[3].value)?"":e),n+=" the UK average of 17.8 per cent.</p>",n+="<p>",n+="In ",n+=i.escape(null==(e=r.data[1].value)?"":e),n+=" £",n+=i.escape(null==(e=t.data[4].value)?"":e),n+=" million was spent on pensions for every 1,000 residents in 2015/16, ",n+=i.escape(null==(e=t.data[5].value)?"":e),n+=" the national average of £1.41 million per 1,000 people.</p></div></div>"},a.brexit=e=function(t,a){this&&this.block,this&&this.attributes;n+='<div class="find-my-seat-panel referendum">',n+="<h4>",n+="EU referendum</h4>",n+="<p>",n+="Estimated results by constituency</p>",n+="<p>",n+="",n+="<span>",n+="Leave</span>",n+=" ",n+=i.escape(null==(e=t[0].value)?"":e),n=(n+="%</p>")+'<progress max="100"'+i.attr("value",t[0].value,!0,!0)+"></progress>",n+="<p>",n+="",n+="<span>",n+="Remain</span>",n+=" ",n+=i.escape(null==(e=t[1].value)?"":e),n=(n+="%</p>")+'<progress max="100"'+i.attr("value",t[1].value,!0,!0)+"></progress>","Leave"==t[2].value?(n+="<p>",n+=i.escape(null==(e=a.data[1].value)?"":e),n+=" voted to ",n+="<span>",n+="leave</span>",n+=" the EU</p>"):(n+="<p>",n+=i.escape(null==(e=a.data[1].value)?"":e),n+=" voted to ",n+="<span>",n+="remain</span>",n+=" in the EU</p>"),n+="</div>"},a.opinionRange=e=function(t,a,r,o){this&&this.block,this&&this.attributes;n+='<div class="opinion-range">',n+='<div class="labels">',n=(n+="<span>")+i.escape(null==(e=t)?"":e)+"</span>",n=(n+='<span class="title">')+i.escape(null==(e=o||"")?"":e)+"</span>",n=(n+="<span>")+i.escape(null==(e=a)?"":e)+"</span></div>",n=(n+='<div class="bar">')+'<span class="pointer"'+i.attr("style",i.style("left:"+r+"%;"),!0,!0)+"></span></div></div>"};var r=t.overview,o=t.candidates,s=t.swing,l=t.previous,c=t.economy,u=t.col,d=t.img,p=t.health,f=t.pen,h=t.year,v=t.brexit;o&&o.status&&a.candidates(o.data,h);s&&s.status&&a.swing(s.data,r.data[4],r.data[1],s.byElectionYear);l&&a.previous(l,h);v&&a.brexit(v.data,r);c&&c.status&&a.economy(c.data,r);u&&u.status&&a.costOfLiving(u.data,r);d&&d.status&&a.immigration(d.data,r);p&&p.status&&a.health(p.data,r);f&&f.status&&a.pensions(f,r);return n}},{20:20}],40:[function(t,e,n){"use strict";var i=t(1).component,a=t(9),r=t(39),o=t(38),s=t(37),l="",c=null,u=null,d=null,p=null,f=null,h=null,v="";function m(){window.parent&&window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*")}function g(){h.innerHTML="Please enter a valid post code",h.classList.add("find-seat-error"),f.innerHTML="",c.innerHTML="",p.removeAttribute("disabled")}function y(t){var e=t.data[0].value,n=t.data[1].value;a.ajaxPromise(v).then(function(t){var i=function(t,e){var n=null;return Object.keys(t).every(function(i){return t[i].onsId!==e||(n=t[i],!1)}),n}(JSON.parse(t.responseText).electionData,e);i&&(f.querySelector(".candidates").style.display="none",f.querySelector(".swing").style.display="none"),c.innerHTML=s({constituencyData:i,constituencyName:n}),m()}).catch(g)}function b(t){var e=JSON.parse(t.responseText);f.innerHTML=r(e),h.innerHTML="Please enter your postcode below for details on your constituency",h.classList.remove("find-seat-error"),p.removeAttribute("disabled"),v?y(e.overview):(c.innerHTML=o(e.overview),m())}function w(t){var e,n,i,r;t.preventDefault(),p.setAttribute("disabled",!0),e=d.value,n=function(t){return t=t.replace(/[^a-z\d]/gi,""),!!/^[a-z][a-z\d]{1,3}\s*\d[a-z]{2}$/i.test(t)&&t.toUpperCase()}(e),i=function(t){if(t)return(t=t.replace(/\s/g,"")).substr(0,t.length-3).toUpperCase()}(n),r=l+i+"/"+n+".json",n?a.ajaxPromise(r).then(b).catch(g):g()}e.exports=i.create({init:function(t){c=t.querySelector("#seat-holder"),f=t.querySelector(".find-my-seat-details"),h=t.querySelector("p"),u=t.querySelector("form"),p=u.querySelector("fieldset"),d=u.querySelector("input[type=text]"),l=t.getAttribute("data-postcode-url"),v=t.getAttribute("data-live-results-url"),u.addEventListener("submit",w),m()},css:"article-service/elections/scss/find-my-seat.css?v=d4a85fc4a2d64daa8dd743b9fa5119be"})},{1:1,37:37,38:38,39:39,9:9}],41:[function(t,e,n){"use strict";var i=t(1).component,a="…",r=/\s+$/;function o(t){var e={lineLimit:8};function n(t,n){var i=parseInt(window.getComputedStyle(t).lineHeight,10)*n;if(t.offsetHeight>i){var o=e.originalText.split(/(?=\s)/);t.innerHTML="",o.every(function(e){return t.innerHTML+=e,!(t.offsetHeight>i)}),t.innerHTML+=a}!function(t,e){var n=t.innerHTML,i=n.length;if(t.offsetHeight>e)for(;i>0;){if(t.innerHTML=n.substring(0,i).replace(r,"")+a,t.offsetHeight<=e)return;i--}}(t,i)}e.para=t.querySelector(".embed-placeholder-caption p"),e.link=t.querySelector(".embed-placeholder-caption a"),e.lineHeight=parseInt(window.getComputedStyle(e.link).lineHeight,10),e.originalText=e.link.innerText,n(e.link,e.lineLimit),window.addEventListener("resize.stop",function(){e.link.innerHTML=e.originalText,n(e.link,e.lineLimit)})}e.exports=i.create({init:function(t){o(t)},css:"article-service/embed-placeholder/scss/embed-placeholder.css?v=30fce80cd8461a50a46a37c75ba85863"})},{1:1}],42:[function(t,e,n){"use strict";var i=t(9),a=t(1).events,r={emailInitialText:"Email address...",emailRegEx:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,messages:{error:"Something went wrong, please try again...",processing:"Subscription processing, Please wait...",successful:"Thanks! You are now subscribed.",warning:"Invalid email address entered, please try again..."},warningTimeout:2500};function o(t,e,n){var a;"successful"===n&&(e=function(t,e){var n=i.getBreakpoint();if(-1!==n.indexOf("tablet")||"desktop"===n){var a=e.split(" "),r=a[0]+"<br />";return a.shift(),a.forEach(function(t){r+=t+" "}),r.trim()}return e}(0,e)),t.classList.contains("information")&&(t.classList.remove("information"),(a=t.querySelector(".notification")).parentNode.removeChild(a)),(a=document.createElement("div")).classList.add("notification");var o=document.createElement("strong");if(o.innerHTML=e,a.appendChild(o),n){var s=document.createElement("span");s.classList.add("icon"),s.classList.add("small"),s.classList.add(n),o.appendChild(s)}t.appendChild(a),t.classList.add(n),"warning"===n&&setTimeout(function(){t.classList.remove("user-message"),t.classList.remove("warning"),a.parentNode.removeChild(a),t.classList.add("textbox")},r.warningTimeout)}e.exports={init:function(){!function(){var t,e=document.getElementById("enter-email"),n=document.querySelector(".twitter-share");if(e){var s=document.getElementById("subscribe"),l=document.querySelector(".mail-share"),c=l.querySelector("input");e.addEventListener("click",function(t){t.preventDefault(),this.parentNode.classList.add("textbox")}),c.addEventListener("focus",function(){(t=this.value)===r.emailInitialText&&(c.value="")}),c.addEventListener("blur",function(){""!==(t=this.value)&&t!==r.emailInitialText||(c.value=r.emailInitialText)}),s.addEventListener("click",function(t){t.preventDefault();var e=c.value;if(l.classList.remove("textbox"),l.classList.add("user-message"),r.emailRegEx.test(e)){var n=l.getAttribute("data-endpointurl"),s=parseInt(l.getAttribute("data-mailinglistid"));o(l,r.messages.processing,"information"),i.ajax(n+s+"?emailAddress="+e,function(t){"OK"===t.statusText?(o(l,r.messages.successful,"successful"),a.fire(window,"analytics.track","socialFollowNewsletterSignup")):(o(l,r.messages.error,"warning"),a.fire(window,"analytics.track","socialFollowNewsletterInvalidSignup"))},{errorCallback:function(){o(l,r.messages.error,"warning"),a.fire(window,"analytics.track","socialFollowNewsletterServerError")},method:"POST"})}else o(l,r.messages.warning,"warning"),a.fire(window,"analytics.track","socialFollowNewsletterInvalidSignup")})}n.addEventListener("click",function(t){t.preventDefault(),a.fire(window,"analytics.track","socialFollowTwitterFollow"),window.open(this.getAttribute("data-follow-url"))})}(),window.$script(["https://platform.twitter.com/widgets.js","//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.8"])}},e.exports.testable={}},{1:1,9:9}],43:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a=t||{};return function(t,a){if(a)var r=a.data.attributes.ingredients[0].attributes;else r=t.attributes;r.showGrid&&r.grid&&r.grid.length>0&&(n+='<div class="embedded-image-grid publication-theme-border" data-mod="grid">',n+='<h4 class="publication-theme-icon publication-theme-border">',n+="Read More</h4>",n=(n+='<h3 class="publication-font">')+(null==(e=r.title)?"":e)+"</h3>",n+='<div class="wrapper">',n+="<ul>",function(){var t=r.grid;if("number"==typeof t.length)for(var a=0,o=t.length;a<o;a++){var s=t[a];n=(n=n+"<li"+i.attr("data-type",s.type,!0,!0)+">")+"<a"+i.attr("href",s.url,!0,!0)+' target="_self"'+i.attr("data-link-tracking","InArticle|Rec|ReadMore|index"+(a+1)+"|text",!0,!0)+">",n+="<figure>",n=(n+='<div class="mod-image section-theme" data-mod="image">')+"<img"+(i.attr("data-src",s.image.src,!0,!0)+i.attr("alt",s.image.altText||"",!0,!0)+i.attr("content",s.image.src,!0,!0)+i.attr("data-height",s.image.height,!0,!0)+i.attr("data-width",s.image.width,!0,!0))+"></div>",n=(n+="<figcaption>")+i.escape(null==(e=s.title)?"":e)+"</figcaption></figure></a></li>"}else for(var a in o=0,t)o++,s=t[a],n=(n=n+"<li"+i.attr("data-type",s.type,!0,!0)+">")+"<a"+i.attr("href",s.url,!0,!0)+' target="_self"'+i.attr("data-link-tracking","InArticle|Rec|ReadMore|index"+(a+1)+"|text",!0,!0)+">",n+="<figure>",n=(n+='<div class="mod-image section-theme" data-mod="image">')+"<img"+(i.attr("data-src",s.image.src,!0,!0)+i.attr("alt",s.image.altText||"",!0,!0)+i.attr("content",s.image.src,!0,!0)+i.attr("data-height",s.image.height,!0,!0)+i.attr("data-width",s.image.width,!0,!0))+"></div>",n=(n+="<figcaption>")+i.escape(null==(e=s.title)?"":e)+"</figcaption></figure></a></li>"}.call(this),n+="</ul></div></div>")}.call(this,"data"in a?a.data:"undefined"!=typeof data?data:void 0,"pancakeData"in a?a.pancakeData:"undefined"!=typeof pancakeData?pancakeData:void 0),n}},{20:20}],44:[function(t,e,n){"use strict";var i=t(1).component;e.exports=i.create({contexts:{pancake:{template:t(43)}},css:"article-service/grid/scss/grid.css?v=0c0c9070f8a38119df11243088c42a73"})},{1:1,43:43}],45:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a=t||{};return function(t,a,r,o,s){n=n+"<div"+i.attr("class",i.classes(["article-preview-container",t],[!1,!0]),!1,!0)+">",n=(n+="<h1>")+i.escape(null==(e=s)?"":e)+"</h1>",n+='<div class="article-preview card">',r[a].image&&"#"!==r[a].image&&(n=(n+='<div class="image-wrapper">')+"<img"+i.attr("src",r[a].image,!0,!0)+"></div>"),n=(n+="<h2>")+i.escape(null==(e=r[a].text)?"":e)+"</h2></div>",o&&function(){var t=r.splice(a+1,2);if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++)(l=t[o])&&(n=(n+='<h3 class="small-card">')+i.escape(null==(e=l.text)?"":e)+"</h3>");else for(var o in s=0,t){var l;s++,(l=t[o])&&(n=(n+='<h3 class="small-card">')+i.escape(null==(e=l.text)?"":e)+"</h3>")}}.call(this),n+="</div>"}.call(this,"direction"in a?a.direction:"undefined"!=typeof direction?direction:void 0,"index"in a?a.index:"undefined"!=typeof index?index:void 0,"scrollList"in a?a.scrollList:"undefined"!=typeof scrollList?scrollList:void 0,"showHeadlines"in a?a.showHeadlines:"undefined"!=typeof showHeadlines?showHeadlines:void 0,"title"in a?a.title:"undefined"!=typeof title?title:void 0),n}},{20:20}],46:[function(t,e,n){t(20);e.exports=function(t){var e="",n=t||{};return function(t,n){e+='<div class="swipe-prompt">',t&&(e+='<div class="half-circle-right">',e+='<div class="half-circle-icon-right"></div></div>'),n&&(e+='<div class="half-circle-left">',e+='<div class="half-circle-icon-left"></div></div>'),e+="</div>"}.call(this,"nextArticlePresent"in n?n.nextArticlePresent:"undefined"!=typeof nextArticlePresent?nextArticlePresent:void 0,"previousArticlePresent"in n?n.previousArticlePresent:"undefined"!=typeof previousArticlePresent?previousArticlePresent:void 0),e}},{20:20}],47:[function(t,e,n){"use strict";var i=t(1).component,a=t(1).events,r=t(6).nodeListToArray,o=t(45),s=t(46);function l(t){t.preventDefault(),t.stopPropagation()}function c(t,e,n,i){localStorage.setItem("swipeNavigated",i),n.getBoundingClientRect().width?window.setTimeout(function(){var i=document.createElement("div");i.classList.add("loader","publication-theme-border-top"),n.firstChild.appendChild(i),window.location.href=t[e].url},400):window.location.href=t[e].url}function u(t,e){var n=window.pageYOffset+t.getBoundingClientRect().top,i=document.querySelector(".primary.publication-theme-highlight").getBoundingClientRect().height,a=document.querySelector("nav.secondary").getBoundingClientRect().height,r="up"===document.querySelector("body").getAttribute("data-scroll-direction")?i+a:i;!function(t,e){t&&(t.firstChild.style.top=e+"px")}(e,window.pageYOffset<n-r?0:window.pageYOffset-n+r)}function d(t,e){Array.from(t.children).forEach(e)}function p(t){u(t.article,t.articlePreview),t.swipePrompt.style.display="none",t.article.classList.add("swipe-transition-"+t.articlePosition);var e="next"===t.articlePosition?t.listIndex+1:t.listIndex-1;c(t.scrollList,e,t.articlePreview,"click")}function f(t,e){var n=document.querySelector("main"),i=void 0;switch(t.style.transitionDuration=null,e){case"right":i=document.querySelector("body").offsetWidth-(n.offsetLeft+n.offsetWidth),t.style.right=i+"px";break;case"left":i=n.offsetLeft,t.style.left=i+"px"}}function h(t,e,n){var i=!1,a={enabled:!0};window.addEventListener("scroll.start",function(){i=!0}),function(t,e){var n={root:null,rootMargin:"-"+window.innerHeight+"px 0px 0px 0px",threshold:0};new IntersectionObserver(function(t){t[0].isIntersecting?(document.body.setAttribute("horizontal-scroll-enabled","true"),e.enabled=!0):(document.body.setAttribute("horizontal-scroll-enabled","false"),e.enabled=!1)},n).observe(t)}(t,a);var r=function(t,e){var n=t.slice(),i=e+1;if(!n[i])return null;var a=document.createElement("div"),r=o({title:"Up Next",direction:"preview-right",scrollList:n,index:i});return a.innerHTML=r,a.addEventListener("touchstart",l),a.addEventListener("touchmove",l),a.addEventListener("touchend",l),a}(e,n),h=function(t,e){var n=t.slice(),i=e-1;if(!n[i])return null;var a=document.createElement("div"),r=o({title:"Previous",direction:"preview-left",scrollList:n.reverse(),index:n.length-1-i});return a.innerHTML=r,a.addEventListener("touchstart",l),a.addEventListener("touchmove",l),a.addEventListener("touchend",l),a}(e,n),v=void 0;r&&t.appendChild(r),h&&t.appendChild(h);var m=function(t,e){var n=document.createElement("div");return n.innerHTML=s({previousArticlePresent:t,nextArticlePresent:e}),document.querySelector("main").appendChild(n),n.firstChild}(!!h,!!r),g=m.querySelector(".half-circle-left"),y=m.querySelector(".half-circle-right");g&&(g.addEventListener("click",function(){p({article:t,articlePreview:h,swipePrompt:m,scrollList:e,articlePosition:"previous",listIndex:n})}),f(g,"left"),window.addEventListener("resize",function(){f(g,"left")})),y&&(y.addEventListener("click",function(){p({article:t,articlePreview:r,swipePrompt:m,scrollList:e,articlePosition:"next",listIndex:n})}),f(y,"right"),window.addEventListener("resize",function(){f(y,"right")})),t.addEventListener("touchstart",function(e){i=!(!function(t,e){var n=!1,i=t.path||t.composedPath&&t.composedPath();return i?(i.map(function(t){return t.className?t.className.split(" "):[]}).reduce(function(t,e){return t.concat(e)}).forEach(function(t){e.indexOf(t)>-1&&(n=!0)}),n):n}(e,["embedded-image-grid"])&&a.enabled),t.style.transitionDuration="initial",v={posX:e.changedTouches[0].pageX,posY:e.changedTouches[0].pageY},m&&d(m,function(t){t.style.transitionDuration="initial"})},!1),t.addEventListener("touchmove",function(e){var n=e.changedTouches[0].pageX-v.posX,a=n/screen.width,o=a<0?"left":"right",s=void 0;Math.abs(a)>.1&&!i&&(e.preventDefault(),"left"!==o||r?"right"!==o||h?(s="translate("+n+"px,0)",u(t,h),u(t,r)):s="translate(20px,0)":s="translate(-20px,0)",t.style.transform=s,m&&d(m,function(t){t.style.transform=s}))},!1),t.addEventListener("touchend",function(a){var o=(a.changedTouches[0].pageX-v.posX)/screen.width,s=o<0?"left":"right",l=void 0;t.style.transitionDuration="0.4s",Math.abs(o)>.35&&"left"===s&&r&&!i?(l="translate(-100%,0)",m&&d(m,function(t){t.style.display="none"}),c(e,n+1,r,"swipe")):Math.abs(o)>.35&&"right"===s&&h&&!i?(l="translate(100%,0)",m&&d(m,function(t){t.style.display="none"}),c(e,n-1,h,"swipe")):l=t.style.transform?"translate(0,0)":null,"translate(0,0)"===l?(t.style.transform=l,window.setTimeout(function(){t.style.transform=null},400)):t.style.transform=l,m&&(d(m,function(t){t.style.transitionDuration="0.4s"}),d(m,function(t){t.style.transform="translate(0,0)"}))},!1),t.addEventListener("touchcancel",function(){t.style.transitionDuration="0.4s",t.style.transform="translate(0,0)",m&&(d(m,function(t){t.style.transitionDuration="0.4s"}),d(m,function(t){t.style.transform="translate(0,0)"}))},!1)}function v(t,e){document.querySelector("main").classList.add("swipeable");var n=localStorage.getItem("swipeNavigated");n&&a.fire(window,"analytics.track",{name:"swipeNavigated",category:"metrics",value:n}),localStorage.removeItem("swipeNavigated");var i=JSON.parse(sessionStorage.getItem("scrollList")),o=window.location.href,s=void 0;if(Array.isArray(i)&&(s=i.map(function(t){return t.url}).indexOf(o)),-1!==s&&i)h(t,i,s);else{var l=document.querySelector("meta[property='og:title']"),c=document.querySelector("meta[property='og:image']");(e?function(t){return new Promise(function(e){fetch(t+"?url="+location.href.split("?")[0]).then(function(t){t.json().then(function(t){e(t.filter(function(t){return t.url&&t.url.length>0}).map(function(t){return{url:t.url,text:t.title,image:t.image.href.replace("/BINARY/","/alternates/s615b/")}}))})})})}(e):new Promise(function(t){t(r(document.querySelectorAll(".teaser")).slice(0,10).map(function(t){var e=t.querySelector("a.headline"),n=e.getAttribute("href"),i=e.innerHTML;return{url:n,image:t.querySelector("img").getAttribute("data-src"),text:i}}))})).then(function(e){var n;(i=e).unshift({url:o,image:c?c.content:null,text:l?l.content:null}),n=[],i.forEach(function(t){-1===n.map(function(t){return t.url}).indexOf(t.url)&&""!==t.text&&n.push(t)}),i=n,sessionStorage.setItem("scrollList",JSON.stringify(i)),h(t,i,s=0)})}}e.exports=i.create({init:function(t){window.TMCONFIG.features.swipeNavigation&&v(t,window.TMCONFIG.features["swipeNavigation.endpoint"])}})},{1:1,45:45,46:46,6:6}],48:[function(t,e,n){"use strict";var i=t(1).component,a=t(9);e.exports=i.create({init:function(t){a.ajax(t.getAttribute("data-callback-url"),function(e){var n;t.innerHTML=(n=e.responseText).indexOf("jotform")>-1?n.replace('onload="window.parent.scrollTo(0,0)"',""):n,a.processScripts(t),i.activate(t)})}})},{1:1,9:9}],49:[function(t,e,n){"use strict";var i=t(1).component,a="https://platform.instagram.com/en_US/embeds.js";e.exports=i.create({init:function(t){t.classList.add("instagram-media"),$script(a,function(){"instgrm"in window&&instgrm.Embeds.process()})},css:"article-service/instagram/scss/instagram.css?v=6b4fe23dcc9567e87d4343054074f691"})},{1:1}],50:[function(t,e,n){t(20);e.exports=function(t){var e,n="",i=t||{};return function(t){n+='<div class="interactive-html-lightbox-wrapper interactive-hidden">',n+='<div class="interactive-html-lightbox-bar">',n+='<span class="interactive-html-lightbox-close">',n+="Close</span></div>",n=(n+='<div class="interactive-html-iframe-wrapper">')+(null==(e=t.html)?"":e)+"</div></div>"}.call(this,"data"in i?i.data:"undefined"!=typeof data?data:void 0),n}},{20:20}],51:[function(t,e,n){"use strict";var i=t(50),a=t(9);e.exports=function(t){var e={component:t};function n(t){t.stopPropagation(),document.body.classList.add("interactive-html-hide-scroll"),e.lightbox.classList.remove("interactive-hidden"),e.lightbox.classList.add("interactive-visible")}function r(t){t.stopPropagation(),document.body.classList.remove("interactive-html-hide-scroll"),e.lightbox.classList.remove("interactive-visible"),e.lightbox.classList.add("interactive-hidden")}return{init:function(){e.title=e.component.getAttribute("data-title"),e.html=e.component.getAttribute("data-html"),function(){var t={html:e.html},n=document.createElement("div");n.innerHTML=i({data:t});var r=n.firstElementChild;document.body.appendChild(r),a.processScripts(r.querySelector(".interactive-html-iframe-wrapper")),e.lightbox=r}(),e.component.querySelector(".interactive-html-interaction").addEventListener("click",n),e.lightbox.querySelector(".interactive-html-lightbox-close").addEventListener("click",r)}}}},{50:50,9:9}],52:[function(t,e,n){"use strict";var i=t(1).component,a=t(51);e.exports=i.create({init:function(t){a(t).init()},css:"article-service/interactiveHtml/scss/interactiveHtml.css?v=2fab3b741dd4ec1520cf27406ded937f"})},{1:1,51:51}],53:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a=t||{};return function(t,a){n+="<table>",n+="<thead>",n+="<tr>",function(){var a=t;if("number"==typeof a.length)for(var r=0,o=a.length;r<o;r++){var s=a[r];n=(n+="<th>")+i.escape(null==(e=s)?"":e)+"</th>"}else for(var r in o=0,a)o++,s=a[r],n=(n+="<th>")+i.escape(null==(e=s)?"":e)+"</th>"}.call(this),n+="</tr></thead>",n+="<tbody>",function(){var r=a;if("number"==typeof r.length)for(var o=0,s=r.length;o<s;o++){var l=r[o];n+="<tr>",function(){var a=t;if("number"==typeof a.length)for(var r=0,o=a.length;r<o;r++){var s=a[r];n=(n+="<td>")+i.escape(null==(e=l[s])?"":e)+"</td>"}else for(var r in o=0,a)o++,s=a[r],n=(n+="<td>")+i.escape(null==(e=l[s])?"":e)+"</td>"}.call(this),n+="</tr>"}else for(var o in s=0,r)s++,l=r[o],n+="<tr>",function(){var a=t;if("number"==typeof a.length)for(var r=0,o=a.length;r<o;r++){var s=a[r];n=(n+="<td>")+i.escape(null==(e=l[s])?"":e)+"</td>"}else for(var r in o=0,a)o++,s=a[r],n=(n+="<td>")+i.escape(null==(e=l[s])?"":e)+"</td>"}.call(this),n+="</tr>"}.call(this),n+="</tbody></table>"}.call(this,"header"in a?a.header:"undefined"!=typeof header?header:void 0,"rows"in a?a.rows:"undefined"!=typeof rows?rows:void 0),n}},{20:20}],54:[function(t,e,n){"use strict";var i=t(1).events,a={articleSso:t(22),horizontalSwipe:t(47),htmlEmbed:t(48),pageTracking:t(65),instagram:t(49),liveEvent:t(61),liveBetting:t(59),liveEventEmbeddedContent:t(60),playbuzz:t(74),quiz:t(75),tweet:t(81),skinnySignup:t(77),barChart:t(24),interactiveHtml:t(52),poll:t(67),optaWidget:t(64),numberStatistic:t(30),splitBarChart:t(32),donutChart:t(28),pieChart:t(31),lineChart:t(29),circularImg:t(27),postcodeLookup:t(69),countdown:t(36),pubquizLeague:t(70),findMySeat:t(40),totaliser:t(80),embedPlaceholder:t(41),grid:t(44),converse:t(35),affiliatetext:t(21),lfcSignup:t(55)};window.TMCONFIG.publicSectionParams.scrollDepthTrack&&(a.trackScrollDepth=t(34)),i.fire(window,"component.register",{components:a}),e.exports=a},{1:1,21:21,22:22,24:24,27:27,28:28,29:29,30:30,31:31,32:32,34:34,35:35,36:36,40:40,41:41,44:44,47:47,48:48,49:49,52:52,55:55,59:59,60:60,61:61,64:64,65:65,67:67,69:69,70:70,74:74,75:75,77:77,80:80,81:81}],55:[function(t,e,n){"use strict";var i=t(1),a=t(9),r=i.component,o={},s=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function l(){u(),o.warning.classList.remove("hidden")}function c(t){var e=o.email.value;t.preventDefault(),u();var n={method:"POST",errorCallback:l};s.test(e)?a.ajax(o.data.endpointUrl+o.data.mailingListId+"?emailAddress="+e,function(t){"OK"===t.statusText&&(o.confirm.classList.remove("hidden"),o.email.classList.add("hidden"),o.title.classList.add("hidden"),o.signupBtn.classList.add("hidden"),o.element.parentNode.classList.remove("closed"),setTimeout(function(){o.element.classList.add("hidden")},3e3),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(0===e)return;var n=new Date;document.cookie="lfc-signup="+t+"; expires="+n.setDate(n.getDate()+e)+"; max-age="+24*e*60*60+"; path=/"}(e))},n):(u(),o.invalid.classList.remove("hidden"))}function u(){o.email.readOnly=!o.email.readOnly,o.signupBtn.disabled=!o.signupBtn.disabled}function d(t){var e=document.querySelector(".article-body > p:nth-of-type(10)");if(null==e){var n=Math.ceil(document.querySelectorAll(".article-body > p").length/2);e=document.querySelector(".article-body > p:nth-of-type("+n+")")}var i,a=(i="lfc-signup",(i=(document.cookie+";").match(new RegExp(i+"=.*;")))&&i[0].split(/=(.*);/)[1]);e&&!a&&(o.element=t.querySelector(".lfc-signup"),o.email=o.element.querySelector("input[type=text]"),o.form=o.element,o.title=o.element.querySelector(".title"),o.signupBtn=o.element.querySelector(".signup-btn"),o.confirm=o.element.querySelector(".confirm"),o.warning=o.element.querySelector(".warning"),o.invalid=o.element.querySelector(".invalid"),o.bottomLinks=o.element.querySelector(".bottom-links"),o.data=JSON.parse(t.getAttribute("data-json")),o.form.addEventListener("submit",c.bind(o.form)),o.email.addEventListener("focus",function(){o.warning.classList.add("hidden"),o.invalid.classList.add("hidden")}),t.parentNode.insertBefore(t,e.nextElementSibling),t.classList.add("closed"),o.element.classList.remove("hidden"))}e.exports=r.create({init:function(t){d(t)}})},{1:1,9:9}],56:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a={},r=t||{};return function(t){var r,o;if(a.image=e=function(t,a){this&&this.block,this&&this.attributes,n+='<figure class="in-article-image live-event-image">',n+='<div class="outer">',n=(n+='<div class="mod-image" data-mod="image">')+"<img"+(i.attr("src",t.url,!0,!0)+i.attr("alt",t.altText,!0,!0)+i.attr("content",t.url,!0,!0))+"></div></div>",(t.caption||t.imageCredit)&&(n+="<figcaption>",t.caption&&(n=(n+='<span class="caption">')+i.escape(null==(e=t.caption)?"":e)+"</span>"),t.imageCredit&&(n+='<span class="credit">',n+=" (Image: ",n+=i.escape(null==(e=t.imageCredit)?"":e),n+=")</span>"),n+="</figcaption>"),n+="</figure>"},a.tweet=e=function(t,e){this&&this.block,this&&this.attributes,n=n+'<div class="tweet" data-mod="tweet"'+i.attr("data-url",t,!0,!0)+"></div>"},a.pieChart=e=function(t){this&&this.block,this&&this.attributes,n+='<div class="chart-container">',n=(n=(n+='<h3 class="publication-font">')+i.escape(null==(e=t.attributes.title)?"":e)+"</h3>")+'<div class="pie-chart" data-mod="pieChart"'+i.attr("data-chart-data",t.attributes,!0,!0)+"></div>",n=(n+='<p class="chart-caption">')+i.escape(null==(e=t.attributes.caption)?"":e)+"</p></div>"},n=n+'<div class="live-event-entry"'+i.attr("id",t.id,!0,!0)+i.attr("data-type",t.type,!0,!0)+i.attr("data-post-time",t.postTime,!0,!0)+i.attr("data-last-modified-time",t.lastModifiedTime,!0,!0)+">",n+='<div class="entry-info">',t.prefix?n=(n+="<span>")+i.escape(null==(e=t.prefix)?"":e)+"</span>":t.hideTimestamp||(n=(n+="<time>")+i.escape(null==(r=t.createdDate,o=r.split("T")[1].split(".")[0],e=o.substring(0,o.length-3))?"":e)+"</time>"),"bet-comment"===t.type&&(n=(n+="<small>")+i.escape(null==(e="sponsored by")?"":e)+"</small>",n+='<div class="sponsor-logo"></div>',n+="<mark></mark>"),t.matchTime&&"0"!==t.matchTime&&"statistics"!==t.type&&"bet-comment"!==t.type&&(n=(n+="<small>")+i.escape(null==(e=t.matchTime+" mins")?"":e)+"</small>",n+="<mark>",n+="minute by minute</mark>"),"statistics"===t.type?(n=(n+="<small>")+i.escape(null==(e=t.matchTime+" mins")?"":e)+"</small>",n+="<mark>",n+="STATS</mark>"):"key-event"===t.type?(n+="<mark>",n+="KEY EVENT</mark>"):n=(n+="<mark>")+i.escape(null==(e=t.author)?"":e)+"</mark>",n+="</div>",n+='<div class="entry-content">',"bet-comment"==t.type&&(n+='<h3 class="publication-font">',n+="Live odds.  ",function(){var a=t.content;if("number"==typeof a.length)for(var r=0,o=a.length;r<o;r++){var s=a[r];n+='<span class="odds">',n+=i.escape(null==(e=s.label)?"":e),n+=" ",n+=i.escape(null==(e=s.odds)?"":e),n+=" </span>",n=(n+='<span class="dash">')+i.escape(null==(e="-")?"":e)+"</span>"}else for(var r in o=0,a)o++,s=a[r],n+='<span class="odds">',n+=i.escape(null==(e=s.label)?"":e),n+=" ",n+=i.escape(null==(e=s.odds)?"":e),n+=" </span>",n=(n+='<span class="dash">')+i.escape(null==(e="-")?"":e)+"</span>"}.call(this),n=(n+="</h3>")+'<a class="publication-theme-highlight" data-mod="liveBetting"'+i.attr("data-immediate",!0,!0,!0)+i.attr("href",t.eventIdUrl,!0,!0)+' target="_blank">',n+="Bet now</a>"),t.title&&t.title.length&&"statistics"!==t.type&&(n=(n+='<h3 class="publication-font">')+i.escape(null==(e=t.title)?"":e)+"</h3>"),"statistics"===t.type){var s={attributes:{title:"Overall Possession Ratio",theme:"green",caption:"Possession",subtype:"pieChart",subtypeData:{legendEnabled:!0,dataDisplayOption:"percentage",rawData:[{label:t.homeTeam,value:t.homeTeamPossession},{label:t.awayTeam,value:t.awayTeamPossession}]}}};a.pieChart(s)}(function(){var r=t.content;if("number"==typeof r.length)for(var o=0,s=r.length;o<s;o++)null!==(l=r[o])&&("text"===l.type&&(n=(n+="<p>")+(null==(e=l.text)?"":e)+"</p>"),"html"===l.type&&(n+=null==(e=l.text)?"":e),"image"===l.type&&a.image(l,!0),"instagram"===l.type&&(n=(n=(n+='<blockquote data-mod="instagram" data-instgrm-captioned data-instgrm-version="6" data-inview>')+"<a"+i.attr("href",l.url,!0,!0)+">")+i.escape(null==(e=l.url)?"":e)+"</a></blockquote>"),"tweet"===l.type&&a.tweet(l.url,!0),"escenic"===l.type&&(n=n+'<div class="liveEventEmbeddedContent" data-mod="liveEventEmbeddedContent"'+i.attr("data-embedded-content-path",l.url,!0,!0)+"></div>"),"blockquote"===l.type&&(n+='<blockquote class="live-event-quote section-theme-indicator">',n+=null==(e=l.text)?"":e,n=(n+="<cite>")+i.escape(null==(e=l.cite)?"":e)+"</cite></blockquote>"));else for(var o in s=0,r){var l;s++,null!==(l=r[o])&&("text"===l.type&&(n=(n+="<p>")+(null==(e=l.text)?"":e)+"</p>"),"html"===l.type&&(n+=null==(e=l.text)?"":e),"image"===l.type&&a.image(l,!0),"instagram"===l.type&&(n=(n=(n+='<blockquote data-mod="instagram" data-instgrm-captioned data-instgrm-version="6" data-inview>')+"<a"+i.attr("href",l.url,!0,!0)+">")+i.escape(null==(e=l.url)?"":e)+"</a></blockquote>"),"tweet"===l.type&&a.tweet(l.url,!0),"escenic"===l.type&&(n=n+'<div class="liveEventEmbeddedContent" data-mod="liveEventEmbeddedContent"'+i.attr("data-embedded-content-path",l.url,!0,!0)+"></div>"),"blockquote"===l.type&&(n+='<blockquote class="live-event-quote section-theme-indicator">',n+=null==(e=l.text)?"":e,n=(n+="<cite>")+i.escape(null==(e=l.cite)?"":e)+"</cite></blockquote>"))}}).call(this),n+="</div></div>"}.call(this,"entry"in r?r.entry:"undefined"!=typeof entry?entry:void 0),n}},{20:20}],57:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a={},r=t||{};return function(t,r){a.image=e=function(t,a){this&&this.block,this&&this.attributes,n+='<figure class="in-article-image live-event-image">',n+='<div class="outer">',n=(n+='<div class="mod-image" data-mod="image">')+"<img"+(i.attr("src",t.url,!0,!0)+i.attr("alt",t.altText,!0,!0)+i.attr("content",t.url,!0,!0))+"></div></div>",(t.caption||t.imageCredit)&&(n+="<figcaption>",t.caption&&(n=(n+='<span class="caption">')+i.escape(null==(e=t.caption)?"":e)+"</span>"),t.imageCredit&&(n+='<span class="credit">',n+=" (Image: ",n+=i.escape(null==(e=t.imageCredit)?"":e),n+=")</span>"),n+="</figcaption>"),n+="</figure>"},a.tweet=e=function(t,e){this&&this.block,this&&this.attributes,n=n+'<div class="tweet" data-mod="tweet"'+i.attr("data-url",t,!0,!0)+"></div>"};var o,s,l=["text","image","blockquote","tweet"];t.content=t.content.filter(function(t){if(null!==t){var e=l.indexOf(t.type);if(e>-1)return l.splice(e,1),!0}return!1}),n=n+'<div class="live-event-entry"'+i.attr("id",t.id,!0,!0)+i.attr("data-post-time",t.postTime,!0,!0)+i.attr("data-last-modified-time",t.lastModifiedTime,!0,!0)+">",t.hideTimestamp||(n=(n+='<time class="section-theme">')+i.escape(null==(o=t.createdDate,s=o.split("T")[1].split(".")[0],e=s.substring(0,s.length-3))?"":e)+"</time>"),t.title&&t.title.length&&(n+="<h3>",n=(n=(n+=" ")+"<a"+i.attr("href",r,!0,!0)+">")+i.escape(null==(e=t.title)?"":e)+"</a></h3>"),n+='<div class="entry-content">',function(){var i=t.content;if("number"==typeof i.length)for(var r=0,o=i.length;r<o;r++)null!==(s=i[r])&&("text"===s.type&&(n=(n+="<p>")+(null==(e=s.text)?"":e)+"</p>"),"image"===s.type&&(s.url=s.url.replace("s510b","s338b"),a.image(s,void 0)),"tweet"===s.type&&a.tweet(s.url,void 0),"blockquote"===s.type&&(n=(n+='<blockquote class="live-event-quote section-theme-indicator">')+(null==(e=s.text)?"":e)+"</blockquote>"));else for(var r in o=0,i){var s;o++,null!==(s=i[r])&&("text"===s.type&&(n=(n+="<p>")+(null==(e=s.text)?"":e)+"</p>"),"image"===s.type&&(s.url=s.url.replace("s510b","s338b"),a.image(s,void 0)),"tweet"===s.type&&a.tweet(s.url,void 0),"blockquote"===s.type&&(n=(n+='<blockquote class="live-event-quote section-theme-indicator">')+(null==(e=s.text)?"":e)+"</blockquote>"))}}.call(this),n+="</div></div>"}.call(this,"entry"in r?r.entry:"undefined"!=typeof entry?entry:void 0,"liveEventUrl"in r?r.liveEventUrl:"undefined"!=typeof liveEventUrl?liveEventUrl:void 0),n}},{20:20}],58:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a={},r=t||{};return function(t,r){var o=r.content.liveEvent.data.attributes.ingredients;if(o.length){var s=o[0],l=s.attributes.entries.slice(0,5),c=s.attributes.url;n=(n=n+"<div"+i.attr("class",i.classes(["live-event-section-view","channel-"+r.content.liveEvent.channel.uniqueName],[!1,!0]),!1,!0)+">")+'<div class="live-event-container" data-mod="liveEvent" data-immediate'+i.attr("data-pusher-config",t.stringify(s.attributes.pusher),!0,!0)+i.attr("data-chronos-request-url",s.attributes.chronosRequestUrl,!0,!0)+i.attr("data-chronos-opta-request-url",s.attributes.chronosOptaRequestUrl,!0,!0)+i.attr("data-embedded-url-endpoint",s.attributes.embeddedUrlEndpoint,!0,!0)+i.attr("data-chronos-domain",s.attributes.chronosDomain,!0,!0)+i.attr("data-section-view",!0,!0,!0)+">",n+='<div class="live-event-entries">',n=(n+='<h2 class="section-theme-highlight publication-font">')+"<a"+i.attr("href",c,!0,!0)+">",n+="live",n+="<span>",n+="breaking news blog</span></a></h2>",function(){var t=l;if("number"==typeof t.length)for(var r=0,o=t.length;r<o;r++){var s=t[r];function u(t){var e=t.split("T")[1].split(".")[0];return e.substring(0,e.length-3)}a.image=e=function(t,a){this&&this.block,this&&this.attributes,n+='<figure class="in-article-image live-event-image">',n+='<div class="outer">',n=(n+='<div class="mod-image" data-mod="image">')+"<img"+(i.attr("src",t.url,!0,!0)+i.attr("alt",t.altText,!0,!0)+i.attr("content",t.url,!0,!0))+"></div></div>",(t.caption||t.imageCredit)&&(n+="<figcaption>",t.caption&&(n=(n+='<span class="caption">')+i.escape(null==(e=t.caption)?"":e)+"</span>"),t.imageCredit&&(n+='<span class="credit">',n+=" (Image: ",n+=i.escape(null==(e=t.imageCredit)?"":e),n+=")</span>"),n+="</figcaption>"),n+="</figure>"},a.tweet=e=function(t,e){this&&this.block,this&&this.attributes,n=n+'<div class="tweet" data-mod="tweet"'+i.attr("data-url",t,!0,!0)+"></div>"};var d=["text","image","blockquote","tweet"];s.content=s.content.filter(function(t){if(null!==t){var e=d.indexOf(t.type);if(e>-1)return d.splice(e,1),!0}return!1}),n=n+'<div class="live-event-entry"'+i.attr("id",s.id,!0,!0)+i.attr("data-post-time",s.postTime,!0,!0)+i.attr("data-last-modified-time",s.lastModifiedTime,!0,!0)+">",s.hideTimestamp||(n=(n+='<time class="section-theme">')+i.escape(null==(e=u(s.createdDate))?"":e)+"</time>"),s.title&&s.title.length&&(n+="<h3>",n=(n=(n+=" ")+"<a"+i.attr("href",c,!0,!0)+">")+i.escape(null==(e=s.title)?"":e)+"</a></h3>"),n+='<div class="entry-content">',function(){var t=s.content;if("number"==typeof t.length)for(var i=0,r=t.length;i<r;i++)null!==(o=t[i])&&("text"===o.type&&(n=(n+="<p>")+(null==(e=o.text)?"":e)+"</p>"),"image"===o.type&&(o.url=o.url.replace("s510b","s338b"),a.image(o,void 0)),"tweet"===o.type&&a.tweet(o.url,void 0),"blockquote"===o.type&&(n=(n+='<blockquote class="live-event-quote section-theme-indicator">')+(null==(e=o.text)?"":e)+"</blockquote>"));else for(var i in r=0,t){var o;r++,null!==(o=t[i])&&("text"===o.type&&(n=(n+="<p>")+(null==(e=o.text)?"":e)+"</p>"),"image"===o.type&&(o.url=o.url.replace("s510b","s338b"),a.image(o,void 0)),"tweet"===o.type&&a.tweet(o.url,void 0),"blockquote"===o.type&&(n=(n+='<blockquote class="live-event-quote section-theme-indicator">')+(null==(e=o.text)?"":e)+"</blockquote>"))}}.call(this),n+="</div></div>"}else for(var r in o=0,t){function u(t){var e=t.split("T")[1].split(".")[0];return e.substring(0,e.length-3)}o++,s=t[r],a.image=e=function(t,a){this&&this.block,this&&this.attributes,n+='<figure class="in-article-image live-event-image">',n+='<div class="outer">',n=(n+='<div class="mod-image" data-mod="image">')+"<img"+(i.attr("src",t.url,!0,!0)+i.attr("alt",t.altText,!0,!0)+i.attr("content",t.url,!0,!0))+"></div></div>",(t.caption||t.imageCredit)&&(n+="<figcaption>",t.caption&&(n=(n+='<span class="caption">')+i.escape(null==(e=t.caption)?"":e)+"</span>"),t.imageCredit&&(n+='<span class="credit">',n+=" (Image: ",n+=i.escape(null==(e=t.imageCredit)?"":e),n+=")</span>"),n+="</figcaption>"),n+="</figure>"},a.tweet=e=function(t,e){this&&this.block,this&&this.attributes,n=n+'<div class="tweet" data-mod="tweet"'+i.attr("data-url",t,!0,!0)+"></div>"},d=["text","image","blockquote","tweet"],s.content=s.content.filter(function(t){if(null!==t){var e=d.indexOf(t.type);if(e>-1)return d.splice(e,1),!0}return!1}),n=n+'<div class="live-event-entry"'+i.attr("id",s.id,!0,!0)+i.attr("data-post-time",s.postTime,!0,!0)+i.attr("data-last-modified-time",s.lastModifiedTime,!0,!0)+">",s.hideTimestamp||(n=(n+='<time class="section-theme">')+i.escape(null==(e=u(s.createdDate))?"":e)+"</time>"),s.title&&s.title.length&&(n+="<h3>",n=(n=(n+=" ")+"<a"+i.attr("href",c,!0,!0)+">")+i.escape(null==(e=s.title)?"":e)+"</a></h3>"),n+='<div class="entry-content">',function(){var t=s.content;if("number"==typeof t.length)for(var i=0,r=t.length;i<r;i++)null!==(o=t[i])&&("text"===o.type&&(n=(n+="<p>")+(null==(e=o.text)?"":e)+"</p>"),"image"===o.type&&(o.url=o.url.replace("s510b","s338b"),a.image(o,void 0)),"tweet"===o.type&&a.tweet(o.url,void 0),"blockquote"===o.type&&(n=(n+='<blockquote class="live-event-quote section-theme-indicator">')+(null==(e=o.text)?"":e)+"</blockquote>"));else for(var i in r=0,t){var o;r++,null!==(o=t[i])&&("text"===o.type&&(n=(n+="<p>")+(null==(e=o.text)?"":e)+"</p>"),"image"===o.type&&(o.url=o.url.replace("s510b","s338b"),a.image(o,void 0)),"tweet"===o.type&&a.tweet(o.url,void 0),"blockquote"===o.type&&(n=(n+='<blockquote class="live-event-quote section-theme-indicator">')+(null==(e=o.text)?"":e)+"</blockquote>"))}}.call(this),n+="</div></div>"}}.call(this),n+="</div></div>",n=(n+='<div class="live-event-more">')+'<a class="read-full section-theme-button"'+i.attr("href",c,!0,!0)+">",n+="Read full live blog &#187;</a></div></div>"}}.call(this,"JSON"in r?r.JSON:"undefined"!=typeof JSON?JSON:void 0,"data"in r?r.data:"undefined"!=typeof data?data:void 0),n}},{20:20}],59:[function(t,e,n){"use strict";var i=t(1).component;e.exports=i.create({init:function(t){var e=window.TMCONFIG&&window.TMCONFIG.publicSectionParams["tracking.betting.code"];t.href=t.href+"?btag="+e}})},{1:1}],60:[function(t,e,n){"use strict";var i=t(1),a=t(9),r=i.events,o=i.component;e.exports=o.create({init:function(t){!function(t){var e=document.querySelector(".live-event-container").getAttribute("data-embedded-url-endpoint")+t.getAttribute("data-embedded-content-path");e=e.replace("output=json","");var n=t.parentNode;a.ajax(e,function(e){t.outerHTML=e.responseText,r.fire(document.body,"modules.ready"),o.activate(n)})}(t)}})},{1:1,9:9}],61:[function(t,e,n){"use strict";var i=t(1),a=t(9),r=i.component,o=i.events,s=t(56),l=t(57),c=[],u="",d="",p="",f="",h="",v=null,m="https://cdnjs.cloudflare.com/ajax/libs/pusher/3.0.0/pusher.min.js",g={},y=30,b=null,w=5,x=null,E=null,S=s,L=window,T=null;function A(){var t=v.querySelector(".live-event-entry:last-child");return parseInt(t.id,10)===c[c.length-1].id}function k(){var t=v.querySelectorAll(".live-event-entry");t&&(x=t[t.length-w],b=t[t.length-1])}function C(t){t.content.every(function(e){return"html"!==e.type||(a.processScripts(document.getElementById(t.id)),!1)})}function q(t){var e=!1;if(t.content.forEach(function(t){null===t&&(e=!0)}),!e){var n=document.getElementById(t.id);if(n)!function(t,e){var n=parseInt(t.getAttribute("data-last-modified-time"),10);parseInt(e.lastModifiedTime,10)>n&&(t.outerHTML=S({entry:e}),o.fire(document.body,"modules.ready"),r.activate(t))}(n,t),C(t);else{var i=v.querySelector(".live-event-entry:last-child");(null===i||parseInt(i.getAttribute("data-post-time"),10)<t.postTime)&&(!function(t){var e=v.querySelectorAll(".live-event-entry");0===e.length?(v.insertAdjacentHTML("afterbegin",S({entry:t})),o.fire(document.body,"modules.ready"),r.activate(v)):a.nodeListToArray(e).every(function(e){var n=parseInt(e.getAttribute("data-post-time"),10);if(t.postTime>n){var i=S({entry:t});return e.insertAdjacentHTML("beforebegin",i),o.fire(document.body,"modules.ready"),r.activate(e.previousSibling),!1}return!0});var n,i=document.getElementById(t.id).querySelector("h3>a");i&&(i.href=((n=h)&&n.length>0&&(n=n.split("?")),n&&n[0]))}(t),C(t))}}}function I(t,e){return t.postTime<e.postTime?1:t.postTime>e.postTime?-1:0}function M(t){-1===c.findIndex(function(e){return e.id===t.id})&&(o.fire(window,"analytics.track","liveEventPageView"),c.unshift(t))}function D(t){var e=-1,n="",i=0,a=parseInt(b.id,10);(e=c.findIndex(function(t){return t.id===a}))>-1&&(e+=1,i=!0===t?c.length:e+y,c.slice(e,i).forEach(function(t){n+=S({entry:t})}),n&&(v.insertAdjacentHTML("beforeend",n),o.fire(document.body,"modules.ready"),r.activate(v)))}function P(){if(t=x,L===window?t.getBoundingClientRect().bottom<=window.innerHeight:t.getBoundingClientRect().bottom<=L.getBoundingClientRect().bottom){if(D(),o.fire(window,"analytics.track","liveEventScroll"),A())return void L.removeEventListener("scroll",E,!1);k()}var t}function _(t){var e,n,i,a,r,o,s,l;i=window.pageYOffset||document.documentElement.scrollTop,o=null!==(a=document.querySelector("header .primary"))?a.offsetHeight:0,s=null!==(r=document.querySelector("header .secondary"))?r.offsetHeight:0,l=o+s,"a"===t.target.nodeName.toLowerCase()&&((e=document.getElementById(t.target.dataset.id))?(n=e.getBoundingClientRect(),window.scrollTo(0,n.top+i-l)):(L.removeEventListener("scroll",E),D(!0),setTimeout(function(){e=document.getElementById(t.target.dataset.id),n=e.getBoundingClientRect(),window.scrollTo(0,n.top+i-l)},1e3)))}function O(){var t;o.fire(document.body,"modules.ready"),r.activate(T),A()||(k(),E=a.debounce(P,200),L.addEventListener("scroll",E,!1)),(t=document.querySelector(".live-event-key-events"))&&t.addEventListener("click",_)}function B(){var t=new window.Pusher(g.key,{encrypted:g.encrypted});g.channels.forEach(function(e){var n=t.subscribe(e);n.bind("delete",function(t){var e=t.self.split("/").reverse()[0],n=document.getElementById(e);n.parentElement.removeChild(n)}),n.bind("update",function(t){var e=f+t.self;t.hasOwnProperty("id")?(q(t),M(t)):function(t){a.ajax(t,function(t){var e=JSON.parse(t.responseText);q(e),M(e)})}(e)})}),t.connection.bind("connected",function(){var t;(t=[]).push(a.ajaxPromise(u)),d&&t.push(a.ajaxPromise(d)),p&&t.push(a.ajaxPromise(p)),Promise.all(t).then(function(t){t.forEach(function(t){var e=JSON.parse(t.responseText);c=c.concat(e)}),(c=c.sort(I)).slice(0,y).forEach(q),O()})})}e.exports=r.create({init:function(t){T=t,g=JSON.parse(t.getAttribute("data-pusher-config")),v=t.querySelector(".live-event-entries"),u=t.getAttribute("data-chronos-request-url"),d=t.getAttribute("data-chronos-opta-request-url"),p=t.getAttribute("data-chronos-betting-request-url"),h=t.getAttribute("data-embedded-url-endpoint"),f=t.getAttribute("data-chronos-domain"),c=[],t.hasAttribute("data-section-view")&&(S=l,L=t.querySelector(".live-event-entries")),window.$script(m,function(){B()})},contexts:{pancake:{template:t(58)}}})},{1:1,56:56,57:57,58:58,9:9}],62:[function(t,e,n){var i=t(20);e.exports=function(t){var e="",n={},a=t||{};return function(t){if(n.standings=function(t){this&&this.block,this&&this.attributes,e+='<div class="opta-league-stats section-theme-indicator" data-mod="optaWidget">',e+="<h2>",e=(e+="League table</h2>")+"<opta-widget"+(i.attr("sport",t.sport,!0,!0)+i.attr("widget",t.widget,!0,!0)+i.attr("breakpoints",t.breakpoints,!0,!0)+i.attr("team_naming",t.team_naiming,!0,!0))+' navigation=""'+i.attr("team_padding",t.team_padding,!0,!0)+i.attr("default_nav",t.default_nav,!0,!0)+i.attr("template",t.template,!0,!0)+i.attr("side",t.side,!0,!0)+i.attr("data_detail",t.data_detail,!0,!0)+i.attr("show_key",t.show_key,!0,!0)+i.attr("points_in_first_column",t.points_in_first_column,!0,!0)+i.attr("competion_naming",t.competion_naming,!0,!0)+i.attr("sorting",t.sorting,!0,!0)+i.attr("show_live",t.show_live,!0,!0)+i.attr("live",t.live,!0,!0)+i.attr("show_crests",t.show_crests,!0,!0)+' show_logo="false" show_form="6"'+i.attr("competition",t.competition,!0,!0)+i.attr("season",t.season,!0,!0)+' date_format="dddd D MMMM YYYY h:mm a"></opta-widget></div>'},n.fixtures=function(t){this&&this.block,this&&this.attributes,e+='<div class="opta-fixtures section-theme-inherit-border section-theme-indicator" data-mod="optaWidget">',e+="<h2>",e=(e+="Fixtures</h2>")+'<opta-widget widget="fixtures"'+i.attr("sport",t.sport,!0,!0)+i.attr("template",t.template,!0,!0)+i.attr("live",t.live,!0,!0)+i.attr("competition",t.competition,!0,!0)+i.attr("season",t.season,!0,!0)+i.attr("match",t.match,!0,!0)+' team="" team_filter=""'+i.attr("date_from",t.data_from,!0,!0)+' date_to=""'+i.attr("days_ahead",t.days_ahead,!0,!0)+' days_before="" venue=""'+i.attr("show_venue",t.show_venue,!0,!0)+' group="" matchday="" round=""'+i.attr("match_status",t.match_status,!0,!0)+i.attr("grouping",t.grouping,!0,!0)+i.attr("show_grouping",t.show_grouping,!0,!0)+i.attr("limit",t.limit,!0,!0)+' navigation="" default_nav="1"'+i.attr("start_on_current",t.start_on_current,!0,!0)+i.attr("switch_current",t.switch_current,!0,!0)+' sub_grouping="date" show_subgrouping="false"'+i.attr("order_by",t.order_by,!0,!0)+i.attr("show_crests",t.show_crests,!0,!0)+i.attr("date_format",t.date_format,!0,!0)+i.attr("month_date_format",t.month_date_format,!0,!0)+i.attr("competition_naming",t.competition_naming,!0,!0)+i.attr("team_naming",t.team_naming,!0,!0)+' team_link="" match_link=""'+i.attr("pre_match",t.pre_match,!0,!0)+' show_live="false" show_logo="false" title="" show_title="false" breakpoints="400"></opta-widget></div>'},t&&t[0].attributes&&t[0].attributes.widget){var a=null,r=null;t.forEach(function(t){"fixtures"==t.attributes.widget?r=t:"standings"==t.attributes.widget&&(a=t)}),e+='<div class="pancake channel-sport">',a&&r?(e+='<div class="tabbed mod-tabs" data-mod="tabs">',e+='<ul class="tab-triggers section-theme-border">',e+="<li>",e+='<button class="section-theme section-theme-border" data-value="fixtures">',e+="Fixtures</button></li>",e+="<li>",e+='<button class="section-theme section-theme-border" data-value="standings">',e+="League table</button></li></ul>",e+='<div class="tab-content" data-value="fixtures">',n.fixtures(r.attributes),e+="</div>",e+='<div class="tab-content" data-value="standings">',n.standings(a.attributes),e+="</div></div>"):a?n.standings(a.attributes):r&&n.fixtures(r.attributes),e+="</div>"}}.call(this,"ingredients"in a?a.ingredients:"undefined"!=typeof ingredients?ingredients:void 0),e}},{20:20}],63:[function(t,e,n){"use strict";var i="https://secure.widget.cloud.opta.net/v3/css/v3.all.opta-widgets.css",a="https://secure.widget.cloud.opta.net/v3/v3.opta-widgets.js";e.exports={init:function(t){var e,n=window.TMCONFIG.publicSectionParams;(function(t){return!!t.optaSubscriptionId||(window.console.error("[opta-league-stats.isSectionParamsSet]: optaSubscriptionId section parameter is not set."),!1)})(n)&&(window.opta_settings||(window.opta_settings=window.opta_settings||{subscription_id:n.optaSubscriptionId,language:"en_GB",timezone:"Europe/London"}),window.$css(i),function(t){window.$script(a,"optajs",function(){Opta.events.subscribe("widget.drawn",function(){t.classList.add("opta-loaded")})})}(t),(e=document.querySelector('button[data-value="standings"]'))&&e.addEventListener("click",function(){window.scrollBy(0,1)}))}}},{}],64:[function(t,e,n){"use strict";var i=t(63),a=t(1).component;e.exports=a.create({init:function(t){i.init(t)},template:t(62),css:"article-service/opta/scss/opta.css?v=4ef6f75a3d9ca42d42c74503b1b87c23"})},{1:1,62:62,63:63}],65:[function(t,e,n){"use strict";var i=t(1).component.create({init:function(t){!function(t){var e=t.getAttribute("data-src"),n=(new Date).getTime();t.setAttribute("src",e+"&"+n)}(t)}});e.exports=i},{1:1}],66:[function(t,e,n){"use strict";var i=t(9);e.exports=function(t){var e=t,n=JSON.parse(e.dataset.pollConfig),a=n.attributes.options,r=new i.LocalStore("tm-poll");function o(){window.console.info("[pollFactory.logSuccess]: ajax request successful")}function s(t){window.console.error("[pollFactory.logError]: ajax request failed: "+t)}function l(){return!0===n.attributes.closed&&n.attributes.closed}function c(t){var e=0,i=0;a.every(function(e){return e.key!==t||(e.votes+=1,!1)}),n.attributes.totalVotes+=1,a.forEach(function(t){t.percentage=Math.floor(t.votes/n.attributes.totalVotes*100),e+=t.percentage}),e<100&&(i=100-e,a.every(function(t){return t.percentage+=1,i-=1}))}function u(){var t=e.querySelectorAll("button"),o=r.getItem(n.id),s=e.querySelector("h4");l()&&n.attributes.closedMessage?s.innerHTML=n.attributes.closedMessage:s.innerHTML="thanks for your vote",s.classList.remove("hidden"),i.nodeListToArray(t).forEach(function(t,e){var i=document.createElement("span");i.classList.add("percentage-bar"),i.style.width=a[e].percentage+"%",t.appendChild(i);var r=document.createElement("span");r.classList.add("percentage-value"),r.innerHTML=a[e].percentage+"%",t.appendChild(r),t.dataset.key===o&&t.classList.add("chosen"),n.attributes.hideResults&&t.classList.add("hidden")})}function d(t){var a;"button"===t.target.tagName.toLowerCase()&&(a=t.target.dataset.key,e.removeEventListener("click",d),function(t){r.setItem(n.id,t)}(a),c(a),function(t){var e={method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},data:"option="+t};return i.ajaxPromise(n.attributes.voteActionUrl,e)}(a).then(o).catch(s),e.classList.add("complete"),u())}return{init:function(){Boolean(r.getItem(n.id))?(e.classList.add("complete"),c(r.getItem(n.id)),u()):l()?(e.classList.add("complete"),u()):e.addEventListener("click",d),e.classList.add("loaded")}}}},{9:9}],67:[function(t,e,n){"use strict";var i=t(66),a=t(1).component;e.exports=a.create({init:function(t){i(t).init()},css:"article-service/poll/scss/poll.css?v=fc8a48fdcb491e7b6ee5b3f4c4f0c1fc"})},{1:1,66:66}],68:[function(t,e,n){"use strict";var i=function(t){return t*Math.PI/180};e.exports=function(t,e,n,a){var r=i(n-t),o=i(a-e),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(i(t))*Math.cos(i(n))*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371}},{}],69:[function(t,e,n){"use strict";var i,a=t(1).component,r=t(9),o=t(68);function s(t){!function(t){var e=[],n="";e.push(t.address1,t.address2,t.address3,t.address4,t.postcode),n+="<h3>"+t.pubname+"</h3>",n+=e.reduce(function(t,e){return""!==e&&(t+=e+"<br>"),t},""),n+='<a href="http://maps.google.com/?q='+t.pubname+","+t.postcode+'" target="_blank">View on map &rsaquo;</a>',i.output.innerHTML=n}(i.pubsList.reduce(function(e,n){return o(t.latitude,t.longitude,e.latitude,e.longitude)>o(t.latitude,t.longitude,n.latitude,n.longitude)?n:e}))}function l(){var t=i.element.querySelector("input").value;i.output.classList.add("postcode-lookup-show"),r.ajax("http://api.postcodes.io/postcodes/"+t,function(t){s(JSON.parse(t.response).result)},{errorCallback:function(){i.output.innerHTML="Please enter a valid postcode"}})}e.exports=a.create({init:function(t){(i={}).element=t,i.output=t.querySelector(".postcode-lookup-result"),r.ajax(t.dataset.url,function(t){var e,n;i.pubsList=JSON.parse(t.response),e=i.element.querySelector("input"),n=i.element.querySelector("button"),e.addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),l())}),n.addEventListener("click",function(){l()})})},css:"article-service/postcode-lookup/scss/postcode-lookup.css?v=16dfa9d1bba2bef142a63d95a5ad9785"})},{1:1,68:68,9:9}],70:[function(t,e,n){"use strict";var i=t(1).component,a=t(9),r=t(53);e.exports=i.create({init:function(t){var e,n=t.querySelector("button"),i=a.findAncestor(t,".html-embed");i&&i.hasAttribute("data-json")&&(e=JSON.parse(i.dataset.json),t.querySelector("table").outerHTML=r(e),n.addEventListener("click",function(){t.classList.toggle("show-more")}))},css:"article-service/pubquiz-league/scss/pubquiz-league.css?v=d342f17c7c7434d16d071a34705d38f4"})},{1:1,53:53,9:9}],71:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a={},r=t||{};return function(t,r){a.image=e=function(t){this&&this.block,this&&this.attributes,a["image-info"]=e=function(t){var a=this&&this.block;this&&this.attributes,n+="<figcaption>",(t.caption||t.credit)&&(t.caption&&(n=(n+='<span class="caption" itemprop="description">')+(null==(e=t.caption)?"":e)+"</span>"),t.credit&&(n+='<span class="credit" itemprop="author">',n+=" (Image: ",n+=i.escape(null==(e=t.credit)?"":e),n+=")</span>")),a&&a(),n+="</figcaption>"},a.spacer=e=function(t,e){this&&this.block,this&&this.attributes;var a=e/t*100;a?n=n+'<div class="spacer"'+i.attr("style",i.style("padding-top:"+a.toFixed(2)+"%;"),!0,!0)+"></div>":n+='<div class="spacer"></div>'},n=(n=(n=(n=n+'<figure class="in-article-image" data-mod="image"'+i.attr("data-orientation",r,!0,!0)+' itemprop="image"'+i.attr("itemscope",!0,!0,!0)+' itemtype="http://schema.org/ImageObject">')+'<meta itemprop="url"'+i.attr("content",t.src,!0,!0)+">")+'<meta itemprop="width"'+i.attr("content",t.width,!0,!0)+">")+'<meta itemprop="height"'+i.attr("content",t.height,!0,!0)+">",n+='<div class="outer">',a.spacer(t.width,t.height),n=(n+='<div class="mod-image">')+"<img"+(i.attr("data-src",t.src,!0,!0)+i.attr("alt",t.altText,!0,!0)+i.attr("content",t.src,!0,!0))+"></div></div>",(t.caption||t.credit)&&a["image-info"](t),n+="</figure>"},n=(n+="<p>")+(null==(e=t.resultText)?"":e)+"</p>",t.resultMedia&&"image"===t.resultMedia.type&&a.image(t.resultMedia)}.call(this,"data"in r?r.data:"undefined"!=typeof data?data:void 0,"orientation"in r?r.orientation:"undefined"!=typeof orientation?orientation:void 0),n}},{20:20}],72:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a={},r=t||{};return function(t,r){if(a["image-info"]=e=function(t){var a=this&&this.block;this&&this.attributes,n+="<figcaption>",(t.caption||t.credit)&&(t.caption&&(n=(n+='<span class="caption" itemprop="description">')+(null==(e=t.caption)?"":e)+"</span>"),t.credit&&(n+='<span class="credit" itemprop="author">',n+=" (Image: ",n+=i.escape(null==(e=t.credit)?"":e),n+=")</span>")),a&&a(),n+="</figcaption>"},a["image-count"]=e=function(t){this&&this.block,this&&this.attributes,n+='<span class="img-count">',n=(n+="<span>")+i.escape(null==(e=t.imgIndex)?"":e)+"</span>",n+=" of ",n=(n+="<span>")+i.escape(null==(e=t.numImages)?"":e)+"</span></span>"},a.spacer=e=function(t,e){this&&this.block,this&&this.attributes;var a=e/t*100;a?n=n+'<div class="spacer"'+i.attr("style",i.style("padding-top:"+a.toFixed(2)+"%;"),!0,!0)+"></div>":n+='<div class="spacer"></div>'},a.image=e=function(t){this&&this.block,this&&this.attributes,a["image-info"]=e=function(t){var a=this&&this.block;this&&this.attributes,n+="<figcaption>",(t.caption||t.credit)&&(t.caption&&(n=(n+='<span class="caption" itemprop="description">')+(null==(e=t.caption)?"":e)+"</span>"),t.credit&&(n+='<span class="credit" itemprop="author">',n+=" (Image: ",n+=i.escape(null==(e=t.credit)?"":e),n+=")</span>")),a&&a(),n+="</figcaption>"},a["image-count"]=e=function(t){this&&this.block,this&&this.attributes,n+='<span class="img-count">',n=(n+="<span>")+i.escape(null==(e=t.imgIndex)?"":e)+"</span>",n+=" of ",n=(n+="<span>")+i.escape(null==(e=t.numImages)?"":e)+"</span></span>"},a.spacer=e=function(t,e){this&&this.block,this&&this.attributes;var a=e/t*100;a?n=n+'<div class="spacer"'+i.attr("style",i.style("padding-top:"+a.toFixed(2)+"%;"),!0,!0)+"></div>":n+='<div class="spacer"></div>'},n=(n=(n=(n=n+'<figure class="in-article-image" data-mod="image"'+i.attr("data-orientation",r,!0,!0)+' itemprop="image"'+i.attr("itemscope",!0,!0,!0)+' itemtype="http://schema.org/ImageObject">')+'<meta itemprop="url"'+i.attr("content",t.src,!0,!0)+">")+'<meta itemprop="width"'+i.attr("content",t.width,!0,!0)+">")+'<meta itemprop="height"'+i.attr("content",t.height,!0,!0)+">",n+='<div class="outer">',a.spacer(t.width,t.height),n=(n+='<div class="mod-image">')+"<img"+(i.attr("data-src",t.src,!0,!0)+i.attr("alt",t.altText,!0,!0)+i.attr("content",t.src,!0,!0))+"></div></div>",(t.caption||t.credit)&&a["image-info"](t),n+="</figure>",t.customData&&(n=(n+='<span class="option-text">')+i.escape(null==(e=t.customData.label)?"":e)+"</span>")},a.video=e=function(a){this&&this.block,this&&this.attributes,a.videoData.leadVideoAutoplay=!1,a.suggestedData=null,a.videoData.videoHeadline=null;var r=!0;if(a||(a=t.attributes,r=!1),"brightcove"===a.playerType){n=n+'<div class="mod-video"'+i.attr("data-related",r,!0,!0)+' data-mod="video" data-placeholder>',n+='<div class="video-wrapper">';var o=a.videoData.autoplayTime||8,s=!0;"youtube"!==a.playerType||a.videoData.thumbnailUrl||(a.videoData.thumbnailUrl="//img.youtube.com/vi/"+a.videoData.videoId+"/0.jpg"),a.videoData.thumbnailUrl||(s=!1),n+='<div class="video-preloader">',s?(n=(n+='<div class="mod-image video-thumbnail" data-mod="image">')+"<img"+i.attr("data-src",a.videoData.thumbnailUrl,!0,!0)+" data-width=\"100%\" onerror=\"this.parentElement.classList.add('video-thumbnail--unavailable');this.style.display='none'\">",n=(n+="<noscript>")+'<img class="video-thumbnail"'+i.attr("src",a.videoData.thumbnailUrl,!0,!0)+"></noscript></div>"):n+='<div class="video-thumbnail video-thumbnail--unavailable"></div>',n+='<div class="video-preloader-content">',n+='<span class="video-preloader-text video-preloader-text-loading">',n+="Video Loading</span>",n+='<div class="video-preloader-text video-preloader-text-unavailable hidden">',n+="Video Unavailable</div></div>",n+='<div class="video-play-content hidden">',n+='<div class="vjs-play-button"></div>',n+='<div class="play-link">',n+='<span class="play-link-desktop">',n+="Click to play</span>",n+='<span class="play-link-mobile">',n+="Tap to play</span></div></div>",n=(n+='<div class="video-spinner hidden"></div>')+'<div class="video-timer hidden"'+i.attr("data-autoplay-time",o,!0,!0)+">",n+='<div class="circle-timer">',n+='<div class="triangle"></div>',n+='<div class="timer-right"></div>',n+='<div class="timer-slot">',n+='<div class="timer-left"></div></div></div>',n+='<div class="timer-action">',n+='<span class="timer-text">',n+="The video will start in ",n=(n+="<span>")+i.escape(null==(e=o)?"":e)+"</span>",n+='<span class="autoplay-cancel">',n+="Cancel</span></span>",n+='<div class="play-now">',n=(n+="Play now</div></div></div></div></div>")+'<div class="json-placeholder"'+i.attr("data-json",a,!0,!0)+"></div></div>"}else"youtube"===a.playerType?(n+='<div class="mod-video" data-mod="video" data-placeholder data-player-type="youtube">',n+='<div class="youtube-wrapper">',o=a.videoData.autoplayTime||8,s=!0,"youtube"!==a.playerType||a.videoData.thumbnailUrl||(a.videoData.thumbnailUrl="//img.youtube.com/vi/"+a.videoData.videoId+"/0.jpg"),a.videoData.thumbnailUrl||(s=!1),n+='<div class="video-preloader">',s?(n=(n+='<div class="mod-image video-thumbnail" data-mod="image">')+"<img"+i.attr("data-src",a.videoData.thumbnailUrl,!0,!0)+" data-width=\"100%\" onerror=\"this.parentElement.classList.add('video-thumbnail--unavailable');this.style.display='none'\">",n=(n+="<noscript>")+'<img class="video-thumbnail"'+i.attr("src",a.videoData.thumbnailUrl,!0,!0)+"></noscript></div>"):n+='<div class="video-thumbnail video-thumbnail--unavailable"></div>',n+='<div class="video-preloader-content">',n+='<span class="video-preloader-text video-preloader-text-loading">',n+="Video Loading</span>",n+='<div class="video-preloader-text video-preloader-text-unavailable hidden">',n+="Video Unavailable</div></div>",n+='<div class="video-play-content hidden">',n+='<div class="vjs-play-button"></div>',n+='<div class="play-link">',n+='<span class="play-link-desktop">',n+="Click to play</span>",n+='<span class="play-link-mobile">',n+="Tap to play</span></div></div>",n=(n+='<div class="video-spinner hidden"></div>')+'<div class="video-timer hidden"'+i.attr("data-autoplay-time",o,!0,!0)+">",n+='<div class="circle-timer">',n+='<div class="triangle"></div>',n+='<div class="timer-right"></div>',n+='<div class="timer-slot">',n+='<div class="timer-left"></div></div></div>',n+='<div class="timer-action">',n+='<span class="timer-text">',n+="The video will start in ",n=(n+="<span>")+i.escape(null==(e=o)?"":e)+"</span>",n+='<span class="autoplay-cancel">',n+="Cancel</span></span>",n+='<div class="play-now">',n=(n+="Play now</div></div></div></div></div>")+'<div class="json-placeholder"'+i.attr("data-json",a,!0,!0)+"></div></div>"):"videojs"===a.playerType&&(n+='<div class="mod-video" data-mod="video" data-placeholder>',n+='<div class="videojs-wrapper">',o=a.videoData.autoplayTime||8,s=!0,"youtube"!==a.playerType||a.videoData.thumbnailUrl||(a.videoData.thumbnailUrl="//img.youtube.com/vi/"+a.videoData.videoId+"/0.jpg"),a.videoData.thumbnailUrl||(s=!1),n+='<div class="video-preloader">',s?(n=(n+='<div class="mod-image video-thumbnail" data-mod="image">')+"<img"+i.attr("data-src",a.videoData.thumbnailUrl,!0,!0)+" data-width=\"100%\" onerror=\"this.parentElement.classList.add('video-thumbnail--unavailable');this.style.display='none'\">",n=(n+="<noscript>")+'<img class="video-thumbnail"'+i.attr("src",a.videoData.thumbnailUrl,!0,!0)+"></noscript></div>"):n+='<div class="video-thumbnail video-thumbnail--unavailable"></div>',n+='<div class="video-preloader-content">',n+='<span class="video-preloader-text video-preloader-text-loading">',n+="Video Loading</span>",n+='<div class="video-preloader-text video-preloader-text-unavailable hidden">',n+="Video Unavailable</div></div>",n+='<div class="video-play-content hidden">',n+='<div class="vjs-play-button"></div>',n+='<div class="play-link">',n+='<span class="play-link-desktop">',n+="Click to play</span>",n+='<span class="play-link-mobile">',n+="Tap to play</span></div></div>",n=(n+='<div class="video-spinner hidden"></div>')+'<div class="video-timer hidden"'+i.attr("data-autoplay-time",o,!0,!0)+">",n+='<div class="circle-timer">',n+='<div class="triangle"></div>',n+='<div class="timer-right"></div>',n+='<div class="timer-slot">',n+='<div class="timer-left"></div></div></div>',n+='<div class="timer-action">',n+='<span class="timer-text">',n+="The video will start in ",n=(n+="<span>")+i.escape(null==(e=o)?"":e)+"</span>",n+='<span class="autoplay-cancel">',n+="Cancel</span></span>",n+='<div class="play-now">',n=(n+="Play now</div></div></div></div></div>")+'<div class="json-placeholder"'+i.attr("data-json",a,!0,!0)+"></div></div>")},n=(n+='<span class="question publication-font">')+i.escape(null==(e=t.questionText)?"":e)+"</span>",t.relatedContent&&("image"===t.relatedContent.type&&a.image(t.relatedContent),"video"===t.relatedContent.type&&a.video(t.relatedContent.attributes)),t.options&&t.options.length>0){var o=void 0!==t.options[0].picture?"image":"default";if(n=n+'<ul class="options-list"'+i.attr("data-type",o,!0,!0)+">","default"===o)(function(){var a=t.options;if("number"==typeof a.length)for(var r=0,o=a.length;r<o;r++){var s=a[r];n=n+'<li class="option-default"'+i.attr("data-correct",s.correctAnswer.toString(),!0,!0)+' data-type="option">',n=(n+="<a>")+i.escape(null==(e=s.text)?"":e)+"</a></li>"}else for(var r in o=0,a)o++,s=a[r],n=n+'<li class="option-default"'+i.attr("data-correct",s.correctAnswer.toString(),!0,!0)+' data-type="option">',n=(n+="<a>")+i.escape(null==(e=s.text)?"":e)+"</a></li>"}).call(this);else if("image"===o){var s=t.options.length,l=1;(function(){var e=t.options;if("number"==typeof e.length)for(var r=0,o=e.length;r<o;r++)(c=e[r]).picture.customData={label:c.text},n=n+'<li class="option-image"'+i.attr("data-correct",c.correctAnswer.toString(),!0,!0)+' data-type="option">',n+="<a>",a.image(c.picture),a["image-count"]({imgIndex:l++,numImages:s}),n+="</a></li>";else for(var r in o=0,e){var c;o++,(c=e[r]).picture.customData={label:c.text},n=n+'<li class="option-image"'+i.attr("data-correct",c.correctAnswer.toString(),!0,!0)+' data-type="option">',n+="<a>",a.image(c.picture),a["image-count"]({imgIndex:l++,numImages:s}),n+="</a></li>"}}).call(this)}n+="</ul>"}}.call(this,"data"in r?r.data:"undefined"!=typeof data?data:void 0,"orientation"in r?r.orientation:"undefined"!=typeof orientation?orientation:void 0),n}},{20:20}],73:[function(t,e,n){"use strict";var i=t(1),a=t(9),r=i.component,o=i.events,s=t(72),l=t(71);function c(t,e,n){return n.currentPoints>=t&&n.currentPoints<=e}function u(t){t.resultScore.textContent=t.currentPoints+"/"+t.maxPoints,function(t){var e,n,i=t.remarks.length;if(i>0){for(e=0;e<i;e++)if(c(t.remarks[e].fromScore,t.remarks[e].upToScore,t)){n=t.remarks[e].remarkText;break}}else void 0!==t.data.attributes.resultText&&(n=t.data.attributes.resultText);n&&(t.resultMessage.innerHTML=n,t.resultMessage.classList.remove("hidden"))}(t),t.quizContent.classList.add("hidden"),t.resultScreen.classList.remove("hidden")}function d(t){o.fire(t,"modules.ready"),r.activate(t)}function p(t,e){var n,i,a=e.questionsElement.querySelectorAll(t.selector),r=a.length,o=t.classes.length;for(n=0;n<r;n++)for(i=0;i<o;i++)a[n].classList.add(t.classes[i])}function f(t){return t.questionNumber===t.totalQuestions}function h(t){t.element.textContent=t.current+" of "+t.maximum}function v(t){h({element:t.scoreElement,current:t.currentPoints,maximum:t.maxPoints})}function m(t){h({element:t.positionElement,current:t.questionNumber,maximum:t.totalQuestions})}function g(t,e,n){n.statusMsgElement.classList.add(e),n.statusMsgElement.textContent=t}function y(t,e){var n=t.querySelector(".option-text");n&&n.classList.add(e)}function b(t,e){var n,i="true"===t.getAttribute("data-correct");e.maxPoints+=1,e.questionAnswered=!0,"image"===e.optionType&&(y(t,"correct-border"),t=t.querySelector(".outer")),i?(e.currentPoints+=1,t.classList.add("option-"+e.optionType+"-preview"),t.classList.add("option-"+e.optionType+"-correct"),g("Right","status-message-correct",e)):(n=e.questionsElement.querySelector('[data-correct="true"]'),"image"===e.optionType&&(y(n,"correct-border"),n=n.querySelector(".outer")),n.classList.add("option-"+e.optionType+"-preview"),n.classList.add("option-"+e.optionType+"-correct"),t.classList.add("option-"+e.optionType+"-preview"),t.classList.add("option-"+e.optionType+"-incorrect"),"default"===e.optionType&&(n.classList.remove("hidden"),t.classList.remove("hidden")),g("Wrong","status-message-incorrect",e)),"default"===e.optionType?p({selector:"li:not(.option-"+e.optionType+"-preview)",classes:["hidden"]},e):"image"===e.optionType&&(p({selector:"[data-correct='false'] .outer",classes:["option-image-preview","option-image-incorrect"]},e),p({selector:"[data-correct='false'] .option-text",classes:["incorrect-border"]},e)),f(e)&&(e.nextActionButton.textContent="View results"),function(t){void 0!==t.questions[t.questionNumber-1].resultText&&(t.infoElement.innerHTML=l({data:t.questions[t.questionNumber-1]}),t.infoElement.classList.remove("hidden"),d(t.infoElement))}(e),v(e),e.statusElement.classList.remove("hidden")}function w(t){t.questionsElement.innerHTML=s({data:t.questions[t.questionNumber]}),t.questionNumber++,t.questionAnswered=!1,t.optionsList=t.questionsElement.querySelector(".options-list"),t.optionType=t.optionsList.getAttribute("data-type"),m(t)}function x(t){t.questionAnswered=!1,t.questionNumber=0,t.maxPoints=0,t.currentPoints=0}function E(t,e){if(t.preventDefault(),t.stopPropagation(),!e.questionAnswered){var n=a.findAncestor(t.target,'[data-type="option"]');n&&b(n,e)}}function S(t,e){t.preventDefault(),e.infoElement.classList.add("hidden"),e.statusElement.classList.add("hidden"),e.statusMsgElement.classList.remove("status-message-correct"),e.statusMsgElement.classList.remove("status-message-incorrect"),e.infoElement.innerHTML="",f(e)?u(e):(w(e),d(e.questionsElement))}function L(t,e){t.preventDefault(),e.nextActionButton.textContent="Next question",x(e),m(e),v(e),w(e),e.resultMessage.classList.add("hidden"),e.quizContent.classList.remove("hidden"),e.resultScreen.classList.add("hidden"),d(e.questionsElement)}e.exports={setData:function(t){t.data=JSON.parse(t.component.getAttribute("data-json")),t.questions=t.data.attributes.questions,t.totalQuestions=t.questions.length,t.remarks=t.data.attributes.remarks},cacheElements:function(t){t.quizContent=t.component.querySelector(".quiz-content"),t.scoreElement=t.quizContent.querySelector(".score span"),t.positionElement=t.quizContent.querySelector(".position span"),t.questionsElement=t.quizContent.querySelector(".questions"),t.optionsList=t.questionsElement.querySelector(".options-list"),t.optionType=t.optionsList.getAttribute("data-type"),t.statusElement=t.quizContent.querySelector(".status"),t.nextActionButton=t.statusElement.querySelector("a"),t.statusMsgElement=t.statusElement.querySelector("span"),t.infoElement=t.quizContent.querySelector(".info"),t.resultScreen=t.component.querySelector(".result"),t.resultScore=t.resultScreen.querySelector(".result-score"),t.resultMessage=t.resultScreen.querySelector(".result-message"),t.quizReplayButton=t.resultScreen.querySelector(".replay-quiz")},bindEvents:function(t){t.questionsElement.addEventListener("click",function(e){E(e,t)}),t.quizReplayButton.addEventListener("click",function(e){L(e,t)}),t.nextActionButton.addEventListener("click",function(e){S(e,t)})},reset:x,prepareResultScreen:u,handleOptions:E,nextAction:S,quizReplay:L}},{1:1,71:71,72:72,9:9}],74:[function(t,e,n){"use strict";var i=t(1).component,a=t(9).ImprTracker;function r(){a.init('div[data-mod="playbuzz"]:not([data-tracked])',50),PlayBuzz.core.render()}e.exports=i.create({init:function(){"undefined"==typeof PlayBuzz?$script("//cdn.playbuzz.com/widget/feed.js",r):r()}})},{1:1,9:9}],75:[function(t,e,n){"use strict";var i=t(73),a=t(1).component;e.exports=a.create({init:function(t){var e={component:t};i.setData(e),i.cacheElements(e),i.bindEvents(e),i.reset(e),e.questionNumber=1},css:"article-service/quiz/scss/quiz.css?v=713dec0b74e76e24beabae73153a44c7"})},{1:1,73:73}],76:[function(t,e,n){"use strict";var i=t(1),a=t(9),r=i.events,o=void 0,s=void 0,l=void 0,c=["facebook","whatsapp","linkedin"],u={facebook:"https://www.facebook.com/sharer/sharer.php?u=",whatsapp:"https://api.whatsapp.com/send?text=",linkedin:"https://www.linkedin.com/shareArticle?mini=true&url=",twitter:"https://twitter.com/share?text=",messenger:"fb-messenger://share?link=",flipboard:"https://share.flipboard.com/bookmarklet/popout?url="};function d(t){i.events.fire(window,"analytics.track",{name:"share",category:"social",value:t})}function p(t,e){return t+"?utm_source="+e+".com&utm_medium=social&utm_campaign=sharebar"}function f(t,e,n,i){var a=e.getClientRects()[0].top;t.classList.contains("has-sticky-topad")?n.style.top="0px":n.style.top=i.offsetHeight-1+"px",a-i.offsetHeight<0?e.classList.add("top-sharebar"):e.classList.remove("top-sharebar")}function h(t){var e=t.target;if(e.getAttribute("data-provider")){var n=e.getAttribute("data-provider");if(d(n),c.indexOf(n)>-1){var i=u[n]+encodeURIComponent(p(e.getAttribute("data-url"),n));window.open(i)}else v(e)}}function v(t){var e=t.getAttribute("data-provider"),n=u[e],i="";"twitter"===e?i=encodeURIComponent(t.getAttribute("data-social-headline"))+"&url="+encodeURIComponent(p(t.getAttribute("data-url"),t.getAttribute("data-provider"))):"messenger"===e?i="fb-messenger://share?link="+encodeURIComponent(p(t.getAttribute("data-url"),t.getAttribute("data-provider")))+"&app_id="+encodeURIComponent(window.TMCONFIG.facebook.appId):"flipboard"===e&&(i="https://share.flipboard.com/bookmarklet/popout?url="+encodeURIComponent(p(t.getAttribute("data-url"),t.getAttribute("data-provider")))+"&utm_medium=articleshare&utmcampaign=tools=v=2=&title="+encodeURIComponent(t.getAttribute("data-social-headline"))),i&&window.open(n+i)}function m(t){var e=t.target;if(e.getAttribute("data-provider")){var n=e.getAttribute("data-provider");d(n),c.indexOf(n)>-1?gigya.socialize.postBookmark({description:e.getAttribute("data-leadtext"),facebookDialogType:"feed",provider:n,title:e.getAttribute("data-social-headline"),url:p(e.getAttribute("data-url"),n),userAction:l,shortURLs:"never"}):v(e)}}function g(t,e){var n=t.querySelector(".sharebar");gigya.socialize.getProviderShareCounts({URL:e,enabledProviders:c.toString(),callback:function(t){!function(t,e){var n=0,i=void 0,a=void 0,r=void 0,o=void 0;for(i in e)e.hasOwnProperty(i)&&(n+=e[i]);(r=t.querySelectorAll(".count-shares")).length>0&&r.forEach(function(t){(a=t.querySelector(".count-num"))&&n>0&&((o=document.createElement("strong")).innerHTML=n,a.appendChild(o),a.innerHTML+=" shares",a.classList.remove("hidden"))})}(n,t.shareCounts)}})}function y(t){a.nodeListToArray(document.querySelectorAll(".sharebar .count-comments")).forEach(function(e){var n=e.querySelector(".count-num"),i=e.querySelector(".count-text");t.data.commentsCount>0&&(n.innerHTML=t.data.commentsCount,n.classList.remove("hidden"),1===t.data.commentsCount&&(i.innerHTML="Comment"))})}e.exports={init:function(t){var e,n,i,a,c,u,d,p=(o=window.TMCONFIG)&&o.features||window.TMFeatures||{};try{s=o.gigya.apikey}catch(t){window.console.error("[sharing] : cannot get valid gigya apiKey")}return e=t.el,n=e.querySelector(".sharebar"),i=document.querySelector("header .primary"),a=document.body,c=e.querySelector(".byline"),u=n.querySelector(".email"),d=encodeURIComponent(u.getAttribute("data-social-headline")),u.href="mailto:?subject="+d+"&body="+d+" - "+encodeURIComponent(u.getAttribute("data-url")+"?utm_source=sharebar&utm_medium=email&utm_campaign=sharebar"),f(a,c,n,i),window.addEventListener("scroll",function(){f(a,c,n,i)}),n.querySelector(".email").classList.add("publication-theme-highlight"),p.removeSSO?function(t){var e=t.querySelector(".sharebar");r.delegate(e,"a","click",h)}(t.el):window.addEventListener("sso.ready",function(){var e,n,i;g(t.el,t.url),e=t.el,t.url,n=e.querySelector(".sharebar"),i={src:function(t){return t.getAttribute("data-share-image")}(n),type:"image"},(l=new gigya.socialize.UserAction).addMediaItem(i),r.delegate(n,"a","click",m),r.listen(document.body,"gigya.comments.count",y)}),s}}},{1:1,9:9}],77:[function(t,e,n){"use strict";var i=t(1),a=t(9),r=i.component,o=i.events,s={};function l(){o.listen(document.body,"dataLayer.ready",function(){var t;window.TMDATA.update({skinny:{info:{data:(new Date).toISOString().replace(/T.*/i,"")+"_"+(t=s.data.displayName,t&&t[0].toUpperCase()+t.slice(1))}}})})}function c(t){var e=s.email;e.addEventListener("change",t),e.addEventListener("input",t),e.addEventListener("keyup",t)}function u(){s.warning.style.display="block",s.warning.classList.contains("hidden")&&s.warning.classList.remove("hidden");c(function(){s.warning.classList.add("hidden")})}function d(t){var e=s.email.value;t.preventDefault();var n={method:"POST",errorCallback:u};/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?a.ajax(s.data.endpointUrl+s.data.mailingListId+"?emailAddress="+e,function(t){"OK"===t.statusText&&(s.confirm.style.display="block",s.email.classList.add("hidden"),s.title.classList.add("hidden"),s.bottomLinks.classList.add("hidden"),s.subscribeBtn.classList.add("hidden"),o.fire(s.subscribeBtn,"newsletter.success"))},n):(s.invalid.style.display="block",s.invalid.classList.contains("hidden")&&s.invalid.classList.remove("hidden"),c(function(){s.invalid.classList.add("hidden")}))}function p(){var t;(t=s.email).addEventListener("focus",function(){"Enter your email"===t.placeholder&&(t.placeholder="")}),t.addEventListener("blur",function(){""===t.placeholder&&(t.placeholder="Enter your email")}),s.form.addEventListener("submit",d.bind(s.form))}function f(t){s.element=t,s.email=s.element.querySelector("input[type=text]"),s.form=s.element,s.title=s.element.querySelector(".skinny-header"),s.subscribeBtn=s.element.querySelector("button"),s.confirm=s.element.querySelector(".confirm"),s.warning=s.element.querySelector(".warning"),s.invalid=s.element.querySelector(".invalid"),s.bottomLinks=s.element.querySelector(".bottom-links"),s.data=JSON.parse(s.element.getAttribute("data-json")),l(),p()}e.exports=r.create({init:function(t){f(t)}}),e.exports.testable={subscribe:d,options:s,populateSourceData:l,bindListeners:p,domInit:f}},{1:1,9:9}],78:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a={},r=t||{};return function(t){var r={},o={},s={},l={};t.forEach(function(t){"Conservative"===t.label&&(r=t),"Labour"===t.label&&(o=t),"Lib Dems"===t.label&&(s=t),"SNP"===t.label&&(l=t)}),a.mainParty=e=function(t,a,r,o){this&&this.block,this&&this.attributes,n=n+"<div"+i.attr("class",i.classes([t],[!0]),!1,!0)+">",n+='<div class="picture"></div>',n+='<div class="info">',n+=" ",n+="<h6>",n+=i.escape(null==(e=a)?"":e),n+=" ",n=(n=(n+="<span>")+i.escape(null==(e=r)?"":e)+"</span></h6>")+'<progress class="votes" max="400"'+i.attr("value",o.value,!0,!0)+"></progress>",n+='<div class="diamond current">',n+=" ",n=(n=(n+="<span>")+i.escape(null==(e=o.value)?"":e)+"</span></div>")+'<div class="diamond majority"'+i.attr("color",o.colour,!0,!0)+"></div>",n+='<div class="slash hidden"></div></div></div>'},a.mainParty("conservative","Conservatives","Theresa May",r),a.mainParty("labour","Labour","Jeremy Corbyn",o),a.mainParty("snp","snp","Nicola Sturgeon",l),a.mainParty("lib","Lib Dems ","Tim Farron",s),a.party=e=function(t){this&&this.block,this&&this.attributes,"Conservative"!==t.label&&"Labour"!==t.label&&"SNP"!==t.label&&"Lib Dems"!==t.label&&(n=(n=(n=(n+='<div class="party">')+"<h6"+i.attr("style",i.style("color:"+t.colour),!0,!0)+">")+i.escape(null==(e=t.label)?"":e)+"</h6>")+'<div class="diamond"'+i.attr("style",i.style("background-color:"+t.colour),!0,!0)+">",n=(n+="<span>")+i.escape(null==(e=t.value)?"":e)+"</span></div></div>")},n+='<div class="parties">',function(){var e=t;if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];a.party(r)}else for(var n in i=0,e)i++,r=e[n],a.party(r)}.call(this),n+="</div>"}.call(this,"parties"in r?r.parties:"undefined"!=typeof parties?parties:void 0),n}},{20:20}],79:[function(t,e,n){var i=t(20);e.exports=function(t){var e,n="",a={},r=t||{};return function(t,r){n+='<div class="pancake">',n+=" ";var o,s,l=[],c=null;if(r?c=r[0].attributes:t&&(c=t.attributes),s=c.title,o=c.relatedArticleUrl,l=c.subtypeData.data,n+='<div class="totaliser" data-mod="totaliser" data-url="https://elections-data-2017.mirror.co.uk/election-totaliser-seats/index.json">',n=(n+="<h2>")+i.escape(null==(e=s)?"":e)+"</h2>",n+='<h6 id="max">',n+="326 needed for majority</h6>",l.length){n+='<div class="partiesContainer">';var u={},d={},p={},f={};l.forEach(function(t){"Conservative"===t.label&&(u=t),"Labour"===t.label&&(d=t),"Lib Dems"===t.label&&(p=t),"SNP"===t.label&&(f=t)}),a.mainParty=e=function(t,a,r,o){this&&this.block,this&&this.attributes,n=n+"<div"+i.attr("class",i.classes([t],[!0]),!1,!0)+">",n+='<div class="picture"></div>',n+='<div class="info">',n+=" ",n+="<h6>",n+=i.escape(null==(e=a)?"":e),n+=" ",n=(n=(n+="<span>")+i.escape(null==(e=r)?"":e)+"</span></h6>")+'<progress class="votes" max="400"'+i.attr("value",o.value,!0,!0)+"></progress>",n+='<div class="diamond current">',n+=" ",n=(n=(n+="<span>")+i.escape(null==(e=o.value)?"":e)+"</span></div>")+'<div class="diamond majority"'+i.attr("color",o.colour,!0,!0)+"></div>",n+='<div class="slash hidden"></div></div></div>'},a.mainParty("conservative","Conservatives","Theresa May",u),a.mainParty("labour","Labour","Jeremy Corbyn",d),a.mainParty("snp","snp","Nicola Sturgeon",f),a.mainParty("lib","Lib Dems ","Tim Farron",p),a.party=e=function(t){this&&this.block,this&&this.attributes,"Conservative"!==t.label&&"Labour"!==t.label&&"SNP"!==t.label&&"Lib Dems"!==t.label&&(n=(n=(n=(n+='<div class="party">')+"<h6"+i.attr("style",i.style("color:"+t.colour),!0,!0)+">")+i.escape(null==(e=t.label)?"":e)+"</h6>")+'<div class="diamond"'+i.attr("style",i.style("background-color:"+t.colour),!0,!0)+">",n=(n+="<span>")+i.escape(null==(e=t.value)?"":e)+"</span></div></div>")},n+='<div class="parties">',function(){var t=l;if("number"==typeof t.length)for(var e=0,n=t.length;e<n;e++){var i=t[e];a.party(i)}else for(var e in n=0,t)n++,i=t[e],a.party(i)}.call(this),n+="</div></div>"}o&&(n+='<div class="related-url">',n+=" ",n+="<h6>",n=(n+=" ")+"<a"+i.attr("href",o,!0,!0)+' target="_top">',n+="See full results</a></h6></div>"),n+="</div></div>"}.call(this,"data"in r?r.data:"undefined"!=typeof data?data:void 0,"ingredients"in r?r.ingredients:"undefined"!=typeof ingredients?ingredients:void 0),n}},{20:20}],80:[function(t,e,n){"use strict";var i=t(1).component,a=t(9),r="",o=null,s=t(78),l=1e4;function c(t){var e=document.querySelector("article-body");return t.parentNode===e}function u(t,e){a.ajaxPromise(t).then(function(t){var n=JSON.parse(t.responseText);o.innerHTML=s({parties:n}),function(t){for(var e=t.getElementsByClassName("current"),n=t.getElementsByClassName("majority"),i=t.getElementsByClassName("slash"),a=0;a<e.length;a++){var r=e[a].querySelector("span").innerHTML,o=100*r/400-(c(t)?3:2)+"%";e[a].style.marginLeft=o,r>=326&&(n[a].style.backgroundColor=n[a].getAttribute("color"),n[a].style.opacity=.4),r>=400&&(e[a].style.marginLeft="98%",window.innerWidth<=400&&window.innerHeight<=700||i[a].classList.toggle("hidden"))}}(e)})}e.exports=i.create({init:function(t){o=t.querySelector(".partiesContainer"),u(r=t.getAttribute("data-url"),t),setInterval(function(){u(r,t)},l),window.parent&&window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*")},contexts:{pancake:{template:t(79)}},css:"article-service/totaliser/scss/totaliser.css?v=dd612ddd082630c3760dd5b459fcfdb1"})},{1:1,78:78,79:79,9:9}],81:[function(t,e,n){"use strict";var i=t(1).component,a=t(9);function r(t,e){a.jsonp("https://api.twitter.com/1/statuses/oembed.json?omit_script=true&id="+t,function(t){e.innerHTML=t.html,window.twttr?window.twttr.widgets.load():$script("https://platform.twitter.com/widgets.js",function(){window.twttr.widgets.load()})})}e.exports=i.create({init:function(t){r(t.getAttribute("data-url").split("/").reverse()[0],t)}})},{1:1,9:9}]},{},[54]);
//# sourceMappingURL=article-service.min.js.map