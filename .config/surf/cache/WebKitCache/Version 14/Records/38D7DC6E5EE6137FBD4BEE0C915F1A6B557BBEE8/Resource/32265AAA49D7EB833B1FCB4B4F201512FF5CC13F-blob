(window.beeketingWPJP=window.beeketingWPJP||[]).push([[134],{1e3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(45)),a=o(i(1001));function o(t){return t&&t.__esModule?t:{default:t}}var r=n.default.extend({template:"<choosen-position></choosen-position>",components:{ChoosenPosition:a.default}});e.default=r},1001:function(t,e,i){var n,a,o={};n=i(1002),Object.keys(n).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.warn("[vue-loader] modules/countdown_cart/components/choosenPosition.vue: named exports in *.vue files are ignored."),a=i(1003),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(o).forEach(function(t){var e=o[t];r.computed[t]=function(){return e}})},1002:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),a=o(i(516));function o(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{isClosePopup:!1}},ready:function(){(0,n.default)("body").addClass("bkt--disable-scroll")},methods:{closeWidget:function(){this.isClosePopup=!0,(0,n.default)("body").removeClass("bkt--disable-scroll"),(0,n.default)("*").click(function(t){t.preventDefault()})}},components:{CcartWidgetPosition:a.default}}},1003:function(t,e,i){t.exports='\n<ccart-widget-position :is-close-popup="isClosePopup">\n  <template slot="popup">\n    <div class="ccart-introduce">\n      <img class="icon-close" src="'+i(1004)+'" v-on:click="closeWidget" alt="Close">\n      <h3>Place widget in a custom position</h3>\n      <p class="title-intro">You will find this icon in several places when moving your cursor around</p>\n      <img src="'+i(1005)+'" alt="gif-intro">\n      <p>Click on one of them to place your widget</p>\n      <p class="alert-intro">Please notice that this setting is only for product pages.</p>\n      <button class="bkt--btn bkt--btn-primary btn-choose" v-on:click="closeWidget">Choose widget position</button>\n    </div>\n  </template>\n</ccart-widget-position>\n'},1004:function(t,e,i){t.exports=i.p+"d66e101cff171b72471e690ffe795672.svg"},1005:function(t,e,i){t.exports=i.p+"e25a2733e4752478daf88ee26ec05974.gif"},1006:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(11));var o,u=function(){};u.extend=function(t,e){var i=u.prototype.extend;u._prototyping=!0;var n=new this;i.call(n,t),n.base=function(){},delete u._prototyping;var a=n.constructor,o=n.constructor=function(){if(!u._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,a.apply(this,arguments),delete this._constructing;else if(null!==arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=n,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:a.valueOf()},i.call(o,e),"function"==typeof o.init&&o.init(),o},u.prototype={extend:function(t,e){if(1<arguments.length){var i=this[t];if(i&&"function"==typeof e&&(!i.valueOf||i.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var n=e.valueOf();(e=function(){var t=this.base||u.prototype.base;this.base=i;var e=n.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:n},e.toString=u.toString}this[t]=e}else if(t){var a=u.prototype.extend;u._prototyping||"function"==typeof this||(a=this.extend||a);for(var o={toSource:null},r=["constructor","toString","valueOf"],s=u._prototyping?0:1;l=r[s++];)t[l]!=o[l]&&a.call(this,l,t[l]);for(var l in t)o[l]||a.call(this,l,t[l])}return this}},u=u.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,i){for(var n in t)void 0===this.prototype[n]&&e.call(i,t[n],n,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),function(i){(o=function(t,e,i){return e instanceof Object&&e instanceof Date==!1&&(i=e,e=0),new o.Factory(t,e,i)}).Lang={},o.Base=u.extend({buildDate:"2014-12-12",version:"0.7.7",constructor:function(t,e){"object"!==(void 0===t?"undefined":(0,a.default)(t))&&(t={}),"object"!==(void 0===e?"undefined":(0,a.default)(e))&&(e={}),this.setOptions(i.extend(!0,{},t,e))},callback:function(t){if("function"==typeof t){for(var e=[],i=1;i<=arguments.length;i++)arguments[i]&&e.push(arguments[i]);t.apply(this,e)}},log:function(t){window.console&&console.log&&console.log(t)},getOption:function(t){return!!this[t]&&this[t]},getOptions:function(){return this},setOption:function(t,e){this[t]=e},setOptions:function(t){for(var e in t)void 0!==t[e]&&this.setOption(e,t[e])}})}(t),function(r){o.Face=o.Base.extend({autoStart:!0,dividers:[],factory:!1,lists:[],constructor:function(t,e){this.dividers=[],this.lists=[],this.base(e),this.factory=t},build:function(){this.autoStart&&this.start()},createDivider:function(t,e,i){"boolean"!=typeof e&&e||(i=e,e=t);var n=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join("");i&&(n=""),t=this.factory.localize(t);var a=['<span class="'+this.factory.classes.divider+" "+(e||"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(t||"")+"</span>",n,"</span>"],o=r(a.join(""));return this.dividers.push(o),o},createList:function(t,e){"object"===(void 0===t?"undefined":(0,a.default)(t))&&(e=t,t=0);var i=new o.List(this.factory,t,e);return this.lists.push(i),i},reset:function(){this.factory.time=new o.Time(this.factory,this.factory.original?Math.round(this.factory.original):0,{minimumDigits:this.factory.minimumDigits}),this.flip(this.factory.original,!1)},appendDigitToClock:function(t){t.$el.append(!1)},addDigit:function(t){var e=this.createList(t,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});this.appendDigitToClock(e)},start:function(){},stop:function(){},autoIncrement:function(){this.factory.countdown?this.decrement():this.increment()},increment:function(){this.factory.time.addSecond()},decrement:function(){0==this.factory.time.getTimeSeconds()?this.factory.stop():this.factory.time.subSecond()},flip:function(t,n){var a=this;r.each(t,function(t,e){var i=a.lists[t];i?(n||e==i.digit||i.play(),i.select(e)):a.addDigit(e)})}})}(t),function(n){o.Factory=o.Base.extend({animationRate:1e3,autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",countdown:!1,defaultClockFace:"HourlyCounter",defaultLanguage:"english",$el:!1,face:!0,lang:!1,language:"english",minimumDigits:0,original:!1,running:!1,time:!1,timer:!1,$wrapper:!1,constructor:function(t,e,i){i||(i={}),this.lists=[],this.running=!1,this.base(i),this.$el=n(t).addClass(this.classes.wrapper),this.$wrapper=this.$el,this.original=e instanceof Date?e:e?Math.round(e):0,this.time=new o.Time(this,this.original,{minimumDigits:this.minimumDigits,animationRate:this.animationRate}),this.timer=new o.Timer(this,i),this.loadLanguage(this.language),this.loadClockFace(this.clockFace,i),this.autoStart&&this.start()},loadClockFace:function(t,e){var i,n=!1;return t=t.ucfirst()+"Face",this.face.stop&&(this.stop(),n=!0),this.$el.html(""),this.time.minimumDigits=this.minimumDigits,(i=o[t]?new o[t](this,e):new o[this.defaultClockFace+"Face"](this,e)).build(),this.face=i,n&&this.start(),this.face},loadLanguage:function(t){var e;return e=o.Lang[t.ucfirst()]?o.Lang[t.ucfirst()]:o.Lang[t]?o.Lang[t]:o.Lang[this.defaultLanguage],this.lang=e},localize:function(t,e){var i=this.lang;if(!t)return null;var n=t.toLowerCase();return"object"==(void 0===e?"undefined":(0,a.default)(e))&&(i=e),i&&i[n]?i[n]:t},start:function(t){var e=this;e.running||e.countdown&&!(e.countdown&&0<e.time.time)?e.log("Trying to start timer when countdown already at 0"):(e.face.start(e.time),e.timer.start(function(){e.flip(),"function"==typeof t&&t()}))},stop:function(t){for(var e in this.face.stop(),this.timer.stop(t),this.lists)this.lists.hasOwnProperty(e)&&this.lists[e].stop()},reset:function(t){this.timer.reset(t),this.face.reset()},setTime:function(t){this.time.time=t,this.flip(!0)},getTime:function(t){return this.time},setCountdown:function(t){var e=this.running;this.countdown=!!t,e&&(this.stop(),this.start())},flip:function(t){this.face.flip(!1,t)}})}(t),function(e){o.List=o.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$el:!1,$obj:!1,items:[],lastDigit:0,constructor:function(t,e,i){this.factory=t,this.digit=e,this.lastDigit=e,this.$el=this.createList(),this.$obj=this.$el,0<e&&this.select(e),this.factory.$el.append(this.$el)},select:function(t){if(void 0===t?t=this.digit:this.digit=t,this.digit!=this.lastDigit){var e=this.$el.find("."+this.classes.before).removeClass(this.classes.before);this.$el.find("."+this.classes.active).removeClass(this.classes.active).addClass(this.classes.before),this.appendListItem(this.classes.active,this.digit),e.remove(),this.lastDigit=this.digit}},play:function(){this.$el.addClass(this.factory.classes.play)},stop:function(){var t=this;setTimeout(function(){t.$el.removeClass(t.factory.classes.play)},this.factory.timer.interval)},createListItem:function(t,e){return['<li class="'+(t||"")+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>","</a>","</li>"].join("")},appendListItem:function(t,e){var i=this.createListItem(t,e);this.$el.append(i)},createList:function(){var t=this.getPrevDigit()?this.getPrevDigit():this.digit;return e(['<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'">',this.createListItem(this.classes.before,t),this.createListItem(this.classes.active,this.digit),"</ul>"].join(""))},getNextDigit:function(){return 9==this.digit?0:this.digit+1},getPrevDigit:function(){return 0==this.digit?9:this.digit-1}})}(t),function(i){String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},i.fn.FlipClock=function(t,e){return new o(i(this),t,e)},i.fn.flipClock=function(t,e){return i.fn.FlipClock(t,e)}}(t),function(r){o.Time=o.Base.extend({time:0,factory:!1,minimumDigits:0,constructor:function(t,e,i){"object"!=(void 0===i?"undefined":(0,a.default)(i))&&(i={}),i.minimumDigits||(i.minimumDigits=t.minimumDigits),this.base(i),this.factory=t,e&&(this.time=e)},convertDigitsToArray:function(t){var e=[];t=t.toString();for(var i=0;i<t.length;i++)t[i].match(/^\d*$/g)&&e.push(t[i]);return e},digit:function(t){var e=this.toString(),i=e.length;return!!e[i-t]&&e[i-t]},digitize:function(t){var n=[];if(r.each(t,function(t,e){1==(e=e.toString()).length&&(e="0"+e);for(var i=0;i<e.length;i++)n.push(e.charAt(i))}),n.length>this.minimumDigits&&(this.minimumDigits=n.length),this.minimumDigits>n.length)for(var e=n.length;e<this.minimumDigits;e++)n.unshift("0");return n},getDateObject:function(){return this.time instanceof Date?this.time:new Date((new Date).getTime()+1e3*this.getTimeSeconds())},getDayCounter:function(t){var e=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];return t&&e.push(this.getSeconds(!0)),this.digitize(e)},getDays:function(t){var e=this.getTimeSeconds()/60/60/24;return t&&(e%=7),Math.floor(e)},getHourCounter:function(){return this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)])},getHourly:function(){return this.getHourCounter()},getHours:function(t){var e=this.getTimeSeconds()/60/60;return t&&(e%=24),Math.floor(e)},getMilitaryTime:function(t,e){void 0===e&&(e=!0),t||(t=this.getDateObject());var i=[t.getHours(),t.getMinutes()];return!0===e&&i.push(t.getSeconds()),this.digitize(i)},getMinutes:function(t){var e=this.getTimeSeconds()/60;return t&&(e%=60),Math.floor(e)},getMinuteCounter:function(){return this.digitize([this.getMinutes(),this.getSeconds(!0)])},getTimeSeconds:function(t){return t||(t=new Date),this.time instanceof Date?this.factory.countdown?Math.max(this.time.getTime()/1e3-t.getTime()/1e3,0):t.getTime()/1e3-this.time.getTime()/1e3:this.time},getTime:function(t,e){void 0===e&&(e=!0),t||(t=this.getDateObject()),console.log(t);var i=t.getHours(),n=[12<i?i-12:0===i?12:i,t.getMinutes()];return!0===e&&n.push(t.getSeconds()),this.digitize(n)},getSeconds:function(t){var e=this.getTimeSeconds();return t&&(60==e?e=0:e%=60),Math.ceil(e)},getWeeks:function(t){var e=this.getTimeSeconds()/60/60/24/7;return t&&(e%=52),Math.floor(e)},removeLeadingZeros:function(i,n){var a=0,o=[];return r.each(n,function(t,e){t<i?a+=parseInt(n[t],10):o.push(n[t])}),0===a?o:n},addSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()+t):this.time+=t},addSecond:function(){this.addSeconds(1)},subSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()-t):this.time-=t},subSecond:function(){this.subSeconds(1)},toString:function(){return this.getTimeSeconds().toString()}})}(t),function(t){o.Timer=o.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1e3,animationRate:1e3,constructor:function(t,e){this.base(e),this.factory=t,this.callback(this.callbacks.init),this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(t){clearInterval(this.timer),this.count=0,this._setInterval(t),this.callback(this.callbacks.reset)},start:function(t){this.factory.running=!0,this._createTimer(t),this.callback(this.callbacks.start)},stop:function(t){this.factory.running=!1,this._clearInterval(t),this.callback(this.callbacks.stop),this.callback(t)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(t){this._setInterval(t)},_destroyTimer:function(t){this._clearInterval(),this.timer=!1,this.callback(t),this.callback(this.callbacks.destroy)},_interval:function(t){this.callback(this.callbacks.interval),this.callback(t),this.count++},_setInterval:function(t){var e=this;e._interval(t),e.timer=setInterval(function(){e._interval(t)},this.interval)}})}(),function(n){o.TwentyFourHourClockFace=o.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t){var i=this,e=this.factory.$el.find("ul");this.factory.time.time||(this.factory.original=new Date,this.factory.time=new o.Time(this.factory,this.factory.original)),(t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds)).length>e.length&&n.each(t,function(t,e){i.createList(e)}),this.createDivider(),this.createDivider(),n(this.dividers[0]).insertBefore(this.lists[this.lists.length-2].$el),n(this.dividers[1]).insertBefore(this.lists[this.lists.length-4].$el),this.base()},flip:function(t,e){this.autoIncrement(),t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds),this.base(t,e)}})}(t),function(n){o.CounterFace=o.Face.extend({shouldAutoIncrement:!1,constructor:function(e,t){"object"!=(void 0===t?"undefined":(0,a.default)(t))&&(t={}),e.autoStart=!!t.autoStart,t.autoStart&&(this.shouldAutoIncrement=!0),e.increment=function(){e.countdown=!1,e.setTime(e.getTime().getTimeSeconds()+1)},e.decrement=function(){e.countdown=!0;var t=e.getTime().getTimeSeconds();0<t&&e.setTime(t-1)},e.setValue=function(t){e.setTime(t)},e.setCounter=function(t){e.setTime(t)},this.base(e,t)},build:function(){var i=this,t=this.factory.$el.find("ul"),e=this.factory.getTime().digitize([this.factory.getTime().time]);e.length>t.length&&n.each(e,function(t,e){i.createList(e).select(e)}),n.each(this.lists,function(t,e){e.play()}),this.base()},flip:function(t,e){this.shouldAutoIncrement&&this.autoIncrement(),t||(t=this.factory.getTime().digitize([this.factory.getTime().time])),this.base(t,e)},reset:function(){this.factory.time=new o.Time(this.factory,this.factory.original?Math.round(this.factory.original):0),this.flip()}})}(t),function(a){o.DailyCounterFace=o.Face.extend({showSeconds:!0,constructor:function(t,e){this.base(t,e)},build:function(t){var i=this,e=this.factory.$el.find("ul"),n=0;(t=t||this.factory.time.getDayCounter(this.showSeconds)).length>e.length&&a.each(t,function(t,e){i.createList(e)}),this.showSeconds?a(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el):n=2,a(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4+n].$el),a(this.createDivider("Hours")).insertBefore(this.lists[this.lists.length-6+n].$el),a(this.createDivider("Days",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getDayCounter(this.showSeconds)),this.autoIncrement(),this.base(t,e)}})}(t),function(a){o.HourlyCounterFace=o.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t,e){var i=this,n=this.factory.$el.find("ul");(e=e||this.factory.time.getHourCounter()).length>n.length&&a.each(e,function(t,e){i.createList(e)}),a(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el),a(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4].$el),t||a(this.createDivider("Hours",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getHourCounter()),this.autoIncrement(),this.base(t,e)},appendDigitToClock:function(t){this.base(t),this.dividers[0].insertAfter(this.dividers[0].next())}})}(t),function(t){o.MinuteCounterFace=o.HourlyCounterFace.extend({clearExcessDigits:!1,constructor:function(t,e){this.base(t,e)},build:function(){this.base(!0,this.factory.time.getMinuteCounter())},flip:function(t,e){t||(t=this.factory.time.getMinuteCounter()),this.base(t,e)}})}(),function(e){o.TwelveHourClockFace=o.TwentyFourHourClockFace.extend({meridium:!1,meridiumText:"AM",build:function(){var t=this.factory.time.getTime(!1,this.showSeconds);this.base(t),this.meridiumText=this.getMeridium(),this.meridium=e(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join("")),this.meridium.insertAfter(this.lists[this.lists.length-1].$el)},flip:function(t,e){this.meridiumText!=this.getMeridium()&&(this.meridiumText=this.getMeridium(),this.meridium.find("a").html(this.meridiumText)),this.base(this.factory.time.getTime(!1,this.showSeconds),e)},getMeridium:function(){return 12<=(new Date).getHours()?"PM":"AM"},isPM:function(){return"PM"==this.getMeridium()},isAM:function(){return"AM"==this.getMeridium()}})}(t),function(t){o.Lang.Arabic={years:"سنوات",months:"شهور",days:"أيام",hours:"ساعات",minutes:"دقائق",seconds:"ثواني"},o.Lang.ar=o.Lang.Arabic,o.Lang["ar-ar"]=o.Lang.Arabic,o.Lang.arabic=o.Lang.Arabic}(),function(t){o.Lang.Danish={years:"År",months:"Måneder",days:"Dage",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},o.Lang.da=o.Lang.Danish,o.Lang["da-dk"]=o.Lang.Danish,o.Lang.danish=o.Lang.Danish}(),function(t){o.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"},o.Lang.de=o.Lang.German,o.Lang["de-de"]=o.Lang.German,o.Lang.german=o.Lang.German}(),function(t){o.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},o.Lang.en=o.Lang.English,o.Lang["en-us"]=o.Lang.English,o.Lang.english=o.Lang.English}(),function(t){o.Lang.Spanish={years:"A&#241;os",months:"Meses",days:"D&#205;as",hours:"Horas",minutes:"Minutos",seconds:"Segundo"},o.Lang.es=o.Lang.Spanish,o.Lang["es-es"]=o.Lang.Spanish,o.Lang.spanish=o.Lang.Spanish}(),function(t){o.Lang.Finnish={years:"Vuotta",months:"Kuukautta",days:"Päivää",hours:"Tuntia",minutes:"Minuuttia",seconds:"Sekuntia"},o.Lang.fi=o.Lang.Finnish,o.Lang["fi-fi"]=o.Lang.Finnish,o.Lang.finnish=o.Lang.Finnish}(),function(t){o.Lang.French={years:"Ans",months:"Mois",days:"Jours",hours:"Heures",minutes:"Minutes",seconds:"Secondes"},o.Lang.fr=o.Lang.French,o.Lang["fr-ca"]=o.Lang.French,o.Lang.french=o.Lang.French}(),function(t){o.Lang.Italian={years:"Anni",months:"Mesi",days:"Giorni",hours:"Ore",minutes:"Minuti",seconds:"Secondi"},o.Lang.it=o.Lang.Italian,o.Lang["it-it"]=o.Lang.Italian,o.Lang.italian=o.Lang.Italian}(),function(t){o.Lang.Latvian={years:"Gadi",months:"Mēneši",days:"Dienas",hours:"Stundas",minutes:"Minūtes",seconds:"Sekundes"},o.Lang.lv=o.Lang.Latvian,o.Lang["lv-lv"]=o.Lang.Latvian,o.Lang.latvian=o.Lang.Latvian}(),function(t){o.Lang.Dutch={years:"Jaren",months:"Maanden",days:"Dagen",hours:"Uren",minutes:"Minuten",seconds:"Seconden"},o.Lang.nl=o.Lang.Dutch,o.Lang["nl-be"]=o.Lang.Dutch,o.Lang.dutch=o.Lang.Dutch}(),function(t){o.Lang.Norwegian={years:"År",months:"Måneder",days:"Dager",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},o.Lang.no=o.Lang.Norwegian,o.Lang.nb=o.Lang.Norwegian,o.Lang["no-nb"]=o.Lang.Norwegian,o.Lang.norwegian=o.Lang.Norwegian}(),function(t){o.Lang.Portuguese={years:"Anos",months:"Meses",days:"Dias",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},o.Lang.pt=o.Lang.Portuguese,o.Lang["pt-br"]=o.Lang.Portuguese,o.Lang.portuguese=o.Lang.Portuguese}(),function(t){o.Lang.Russian={years:"лет",months:"месяцев",days:"дней",hours:"часов",minutes:"минут",seconds:"секунд"},o.Lang.ru=o.Lang.Russian,o.Lang["ru-ru"]=o.Lang.Russian,o.Lang.russian=o.Lang.Russian}(),function(t){o.Lang.Swedish={years:"År",months:"Månader",days:"Dagar",hours:"Timmar",minutes:"Minuter",seconds:"Sekunder"},o.Lang.sv=o.Lang.Swedish,o.Lang["sv-se"]=o.Lang.Swedish,o.Lang.swedish=o.Lang.Swedish}(),e.default=o}).call(this,i(3))},181:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=O(i(47)),n=O(i(48)),u=O(i(317)),c=O(i(122)),d=O(i(9)),f=O(i(76)),h=O(i(16)),a=O(i(3)),r=O(i(25)),g=O(i(70)),s=O(i(46)),l=O(i(119)),p=i(27),m=O(i(74)),v=O(i(300)),b=O(i(4)),w=O(i(118)),y=i(313),k=O(i(972)),_=O(i(996)),T=O(i(1e3)),S=O(i(352)),C=O(i(50)),I=O(i(1006)),P=O(i(330)),x=O(i(522));function O(t){return t&&t.__esModule?t:{default:t}}var E={init:function(){window.FlipClock=I.default,this.trackingCartData(),this.initTimerLabel(),this.listenPageChangeWhenLoadAjax(),l.default.isInTestGroup("ccart_on_checkout_page_august_2018").then(function(t){if("product"===w.default.getContext().type||P.default.getAppSettings().isBackendPreview||t&&("checkout"===w.default.getContext().type||"process-checkout"===w.default.getContext().type)){(0,b.default)("Countdown cart initialized!");var e=r.default.current(),i=e.element.getMainAddCartForm();"disabled"===e.element.getAddCartButton(i).attr("disabled")&&(window.productIsOutOfStock=!0);var n=w.default.getAppBlock(y.APP_CODE);if(S.default.isModeSelectWidgetPosition())return v.default.get(n,new T.default),void m.default.loadCSS(m.default.getAssetUrl(y.APP_CODE+"/assets/styles/choosen-position.css"));v.default.get(n,new k.default),m.default.loadCSS(m.default.getAssetUrl(y.APP_CODE+"/assets/styles/styles.css"))}})},trackingCartData:function(){s.default.listen(p.CART_READY,function(){var t=g.default.current(),e=C.default.get(y.CCART_CART_TOKEN);(0,b.default)("X_CART_READY",t.token,e),t.token&&e&&t.token!==e&&((0,b.default)("X_CART_ update decrease quantity"),C.default.set(y.CCART_TRACKING_DECREASE_QUANTITY,C.default.get(y.CCART_TRACKING_CART_DATA)))}),s.default.listen(p.CART_UPDATE,function(){var t=g.default.current(),e=JSON.parse(C.default.get(y.CCART_TRACKING_CART_DATA))||(0,h.default)({}),i=[];if(t.items.length){var n=!0,a=!1,o=void 0;try{for(var r,s=(0,c.default)(t.items);!(n=(r=s.next()).done);n=!0){var l=r.value;i=[].concat((0,u.default)(i),[(0,h.default)({id:l.productRefId,quantity:l.quantity})])}}catch(t){a=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}e=(0,h.default)({},e,(0,f.default)({},t.token,i)),C.default.set(y.CCART_TRACKING_CART_DATA,(0,d.default)(e))}})},initTimerLabel:function(){var a=this;l.default.isInTestGroup("ccart_countdown_timer_label").then(function(){var e=(0,n.default)(o.default.mark(function t(e){var i,n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||"weebly"===r.default.currentKey()){t.next=19;break}if(P.default.getAppSettings().isBackendPreview)return t.next=4,_.default.initPreview();t.next=7;break;case 4:return m.default.loadCSS(m.default.getAssetUrl(y.APP_CODE+"/assets/styles/countdown-timer-label.css")),s.default.listen("reload_ccart_timer_label_preview",function(t){_.default.initPreview(t.settings,t.isMobile)}),t.abrupt("return");case 7:if(!_.default.isEnableLabel()){t.next=19;break}if(i=w.default.getContext().type,-1!==["home","collection"].indexOf(i))return t.next=13,_.default.init();t.next=19;break;case 13:m.default.loadCSS(m.default.getAssetUrl(y.APP_CODE+"/assets/styles/countdown-timer-label.css")),s.default.listen(p.CCART_APPLY_COUNTDOWN_TIMER_PRODUCT_LIST,function(){_.default.displayCountdownTimer()}),_.default.detectLoadMoreAction(),_.default.initCountdownTimerRelatedElement(),n=void 0,s.default.listen(p.AJAX_COMPLETED,function(){clearTimeout(n),n=setTimeout(function(){_.default.initCountdownTimerRelatedElement()},1500)});case 19:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},listenPageChangeWhenLoadAjax:function(){var i=this;l.default.isInTestGroup(y.CCART_SHOW_ON_CHECKOUT_NON_SHOPIFY).then(function(t){if(t&&"weebly"===r.default.currentKey()){if("checkout"===w.default.getContext().type){var e=setInterval(function(){(0,a.default)(".wsite-checkout .wsite-checkout-spinner.wsite-checkout-spinner--centered").is(":visible")||(clearInterval(e),x.default.init())},500);i.checkoutButtonNextStepForReload()}s.default.listen(p.AJAX_CHANGE_PAGE,function(t){clearInterval(window.bkIntervalCountTimer),"checkout"===t.page&&setTimeout(function(){x.default.init(),i.checkoutButtonNextStepForReload(),m.default.loadCSS(m.default.getAssetUrl(y.APP_CODE+"/assets/styles/styles.css"))},1e3)})}})},checkoutButtonNextStepForReload:function(){(0,a.default)(r.default.current().element.getCheckoutButtonNextStep()).click(function(){setTimeout(function(){x.default.init()},1e3)})}};e.default=E},307:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(6)),a=o(i(25));function o(t){return t&&t.__esModule?t:{default:t}}var r={getUrlLandingPage:function(t,e){return"https://beeketing.com/"+e+"?utm_channel=referral&utm_medium=poweredby&utm_term=customized"+t+"widget&utm_fromapp="+t+"&shopname="+(n.default.getParam("shop").shop.name||window.location.hostname)+"&platform="+a.default.currentKey()}};e.default=r},311:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(i(16)),r=a(i(28)),h=a(i(9)),s=a(i(3)),u=a(i(6)),g=a(i(25)),n=a(i(120));function a(t){return t&&t.__esModule?t:{default:t}}var l={getEndpoint:function(){return u.default.getGlobalSetting("beeketing_api")},getGoApiEndpoint:function(){return u.default.getParam("loader","gapiBasePath")},isEnable:function(){return this.getEndpoint()},sendRequest:function(t,e,i,n,a){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];s.default.ajax(t,{method:e,data:o?(0,h.default)(i):i,dataType:"json",timeout:n,contentType:o?"application/json":"application/x-www-form-urlencoded; charset=UTF-8",success:function(t){a(t)},error:function(){a(null)}})},request:function(t,e,i,n){var a=u.default.getParam("shop","shop"),o=this.getEndpoint()+"/"+e+".json",r=i;r.api_key=a.api_key;this.sendRequest(o,t,r,3e3,n)},gApiRequest:function(t,e,i,n){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],r=u.default.getParam("shop","shop"),s=this.getGoApiEndpoint()+"/"+e+a,l=i;l.api_key=r.api_key;this.sendRequest(s,t,l,1e4,n,o)},getProductByRefId:function(t,e,i,n){this.getProductByRefIds([t],function(t){t&&t.length?e(t[0]):e(null)},i,n)},getProductByRefIds:function(t,u,c,d){var f=this;l.isEnable()?this.gApiRequest("GET","product/products",{ref_id:t.join(",")},function(t){var e=[],i=void 0;if(t)for(var n=0;n<t.length;n++){i=t[n],c&&(i.variants=f.excludeUnavailableVariants(i.variants));var a=0,o=void 0;i.large_image_url=i.image_url,i.medium_image_url=g.default.current().request.getSizedImageUrl(i.image_url,"medium"),i.small_image_url=g.default.current().request.getSizedImageUrl(i.image_url,"small"),i.images=i.images&&i.images.length?i.images:[{src:i.image_url}];for(var r={},s=0;s<i.images.length;s++)i.images[s].ref_id&&(r[i.images[s].ref_id]=i.images[s].src);for(var l=0;l<i.variants.length;l++)i.variants[l].attributes&&(i.variants[l].parsed_attributes=(0,h.default)(i.variants[l].attributes)),o=i.image_url,i.variants[l].image_ref_id&&r[i.variants[l].image_ref_id]&&(o=r[i.variants[l].image_ref_id]),i.variants[l].image_url=o,i.variants[l].medium_image_url=o,i.variants[l].large_image_url=o,0<i.variants[l].inventory_quantity&&(a+=i.variants[l].inventory_quantity);"undefined"!==i.quantity&&i.quantity||(i.quantity=a),i.url=g.default.current().product_util.getProductUrl(i.handle),d?e.push(i):!i.variants.length||i.tags&&-1!==i.tags.indexOf("hidden")||e.push(i)}u(e)},".json"):u([])},excludeUnavailableVariants:function(t){for(var e=[],i=0;i<t.length;i++)this.isAvailableVariant(t[i])&&e.push(t[i]);return e},isAvailableVariant:function(t){return!n.default.isHiddenVariantTitle(t.title)&&(!t.inventory_management||"null"===t.inventory_management||"deny"!==t.inventory_policy||void 0===t.inventory_quantity||0<t.inventory_quantity)},cached:{},getJson:function(i){var n=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new r.default(function(e,t){void 0===n.cached[i]?s.default.ajax({url:i,dataType:"json",data:(0,o.default)({api_key:u.default.getParam("shop","shop").api_key},a),cache:!0,timeout:1e4,success:function(t){l.cached[i]=t,e(t)},error:function(){t(null)}}):e(n.cached[i])})},updateSubscription:function(t,e,i){var n={contact_ref_id:t,subscription:e,cart_token:i};this.gApiRequest("POST","pusher/subscription",n,function(){},".json")},getProductsByHandles:function(t,e){var i="product/handle/"+u.default.getParam("shop","shop").id;this.gApiRequest("POST",i,{handle:t},function(t){t.success&&t.data.length&&e(t.data)},"",!0)}};e.default=l},313:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.APP_CODE="countdown_cart",e.LS_COUNTDOWN_TIMER="ls_countdown_timer",e.CCART_CART_TOKEN="ccart_cart_token",e.CCART_TRACKING_CART_DATA="ccart_tracking_cart_data",e.CCART_TRACKING_DECREASE_QUANTITY="ccart_tracking_decrease_quantity",e.CCART_WIDGET_POSITION_CHOOSEN="countdown_cart_widget_position_choosen",e.CCART_PRODUCT_STATS_LOCAL_STORAGE_KEY="ccart_ps",e.COUNTDOWN_TIMER_MINIMUM_WIDTH=160,e.CCART_RETRY_FIND_ATTACKED_ELEMENT="ccart_retry_find_attacked_element",e.CCART_SHOW_DIFFERENCE_COUNTDOWN_TIMER="ccart_show_difference_countdown_timer",e.CCART_COUNTDOWN_TIMER_LABEL_UNDER_PRODUCT_IMAGE="ccart_countdown_timer_label_under_product_image",e.CCART_TIMER_LABEL_UNDER_IMAGE_READY="ccart_timer_label_under_image_ready",e.CCART_TEST_SETINTERVAL_STYLE_TIMER="ccart_test_setinterval_style_timer",e.CCART_UPDATE_FONT_2018="CCart_update_font_2018",e.CCART_SHOW_ON_CHECKOUT_NON_SHOPIFY="show-on-checkout-page-non-shopify"},330:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(6)),a=i(313),o=r(i(140));function r(t){return t&&t.__esModule?t:{default:t}}var s={getPowerUser:function(){return this.getAppSettings().isPowerUser},getAppSettings:function(){var t=n.default.getParam("shop").settings.apps[a.APP_CODE];return t.isBackendPreview?window.currentShopSettings.settings.apps[a.APP_CODE]:t},getSocialProofSettings:function(){return this.getAppSettings().socialProof},getCountdownTimerSettings:function(){return this.getAppSettings().countdownTimer},getStockCountdownSettings:function(){return this.getAppSettings().stockCountdown},getProductStatsUrl:function(){var t=n.default.getParam("shop","shop").api_key;return o.default.getProductStatsUrl(t)},getCreatedAt:function(){return this.getAppSettings().createdAt},getShopPlatform:function(){return n.default.getParam("shop").shop.platform},getTimers:function(){return this.getCountdownTimerSettings().timers?this.getCountdownTimerSettings().timers:[]}};e.default=s},352:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(118)),a=s(i(974)),o=s(i(119)),r=i(313);function s(t){return t&&t.__esModule?t:{default:t}}var l={fontMessage:function(t){var i=this,e=t.match(/style="[^"]+"|(\+)/gim);null!=e&&e.forEach(function(t){t.slice(7,t.length-1).replace(/&quot;/g,"").split(";").forEach(function(t){var e=t.split(":");"font-family"===e[0]&&o.default.isInTestGroup(r.CCART_UPDATE_FONT_2018).then(function(t){t&&i.loadFont(e[1])})})})},loadFont:function(t){if(-1===t.indexOf("Arial")&&-1===t.indexOf("Courier New")&&-1===t.indexOf("Georgia")&&-1===t.indexOf("Tahoma")&&-1===t.indexOf("Times New Roman")&&-1===t.indexOf("Verdana")){var e=t.split(" ").join("+");a.default.load({google:{families:[e]}})}},getStylesInString:function(t){var i={},e=[];return null!=(e=t.match(/color="(#[\w\d]+)"/g))&&e.forEach(function(t){var e=t.slice(7,t.length-1);i.color=e}),null!=(e=t.match(/face="[^"]+"/g))&&e.forEach(function(t){var e=t.slice(6,t.length-1);i.fontFamily=e}),null!=(e=t.match(/style="[^"]+"|(\+)/g))&&e.forEach(function(t){var e=t.slice(7,t.length-1).split(":");"text-align"===e[0]&&(i.textAlign=e[1].trim()),"font-size"===e[0]&&(i.fontSize=e[1].trim(),i.fontSize=i.fontSize.match(/\d+/g)[0]+"px"),"color"===e[0]&&(i.color=e[1].trim()),"font-family"===e[0]&&(i.fontFamily=e[1].trim())}),-1<t.indexOf("u>")&&(i.textDecoration="underline"),(-1<t.indexOf("b>")||-1<t.indexOf("strong>"))&&(i.fontWeight="bold"),(-1<t.indexOf("i>")||-1<t.indexOf("em>"))&&(i.fontStyle="italic"),i},isModeSelectWidgetPosition:function(){var t=JSON.parse(sessionStorage.getItem("widget_choosen_position_feature"));return!("product"!==n.default.getContext().type||!t||t.appPage!==r.CCART_WIDGET_POSITION_CHOOSEN)},convertTimerSettingToTimestamp:function(t){var e=t.type,i=t.value,n=void 0;return"seconds"===e&&(n=parseInt(i,10)),"minutes"===e&&(n=60*parseInt(i,10)),"hours"===e&&(n=60*parseInt(i,10)*60),"days"===e&&(n=60*parseInt(i,10)*60*24),n}};e.default=l},367:function(t,k,_){"use strict";(function(f){Object.defineProperty(k,"__esModule",{value:!0});var g=t(_(35)),p=t(_(122)),r=t(_(9)),e=t(_(26)),i=t(_(34)),n=t(_(70)),h=t(_(6)),s=t(_(119)),m=t(_(330)),l=t(_(388)),v=t(_(352)),u=_(313),b=t(_(477)),a=t(_(479)),c=t(_(478)),d=t(_(476)),w=t(_(15));function t(t){return t&&t.__esModule?t:{default:t}}var y=t(_(36)).default.assetsPath+"/"+u.APP_CODE+"/assets/images/",o=function(){function t(){(0,e.default)(this,t)}return(0,i.default)(t,[{key:"initialize",value:function(){var n=this,e=m.default.getCountdownTimerSettings(),a=JSON.parse((0,r.default)(m.default.getSocialProofSettings())),o=m.default.getStockCountdownSettings(),i=this.getProductRefIDs();e.enable&&e.showOnCheckoutPage&&s.default.isInTestGroup(u.CCART_SHOW_DIFFERENCE_COUNTDOWN_TIMER).then(function(t){t?e.is_use_dynamic_countdown_timer?i.forEach(function(t,e){n.countdownTimerPreInit(!0,t,e)}):n.countdownTimerPreInit(!1):n.isValidToShowCountDownTimer(e,i)&&n.countdownTimerPreInit(!1)}),(o.enable&&o.showOnCheckoutPage||a.displayOptions.enable&&a.displayOptions.showOnCheckoutPage)&&i.forEach(function(e,i){l.default.getStatistic(e,function(t){setTimeout(function(){n.stockCountdownAndSocialProofPreInit(a,o,t,e,!0,i)},300)})})}},{key:"getProductRefIDs",value:function(){return this.getProductRefIDFromCart()}},{key:"getProductRefIDFromCart",value:function(){var e=[];return n.default.current().items.forEach(function(t){-1===e.indexOf(t.productRefId)&&e.push(t.productRefId)}),e}},{key:"countdownTimerPreInit",value:function(t,e,i){return!1}},{key:"countdownTimerDifferencePreInit",value:function(t,e){return!1}},{key:"countdownTimerInit",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",n=m.default.getCountdownTimerSettings(),a=f.extend(b.default);if(t){for(var o=n.timers.length?n.timers:[],r=void 0,s=void 0,l=void 0,u=o.length-1;0<=u;u--)if(-1!==o[u].target_product_ref_ids.indexOf(e)){r=o[u].timer_started_at,s=o[u].id,l=v.default.convertTimerSettingToTimestamp({type:o[u].duration_type,value:o[u].duration});break}if(s){var c="count-down-"+e;i&&(c="count-down-"+i),new a({el:c,propsData:{settings:n,productId:e,isMobile:w.default.isSmallScreen(),isPowerUser:m.default.getPowerUser(),isPoweredBy:h.default.getGlobalSetting("ccart_powered_by"),sortPosition:0,imgPath:y,secondsSpecific:l,timeStart:r,isDynamicTimer:!0,timerId:s}})}else{var d=document.getElementById("bk-cdown-timer-"+e);d&&d.remove()}}else new a({el:"count-down",propsData:{settings:n,isMobile:w.default.isSmallScreen(),isPowerUser:m.default.getPowerUser(),isPoweredBy:h.default.getGlobalSetting("ccart_powered_by"),sortPosition:0,imgPath:y}})}},{key:"stockCountdownAndSocialProofPreInit",value:function(t,e,i,n){!(4<arguments.length&&void 0!==arguments[4])||arguments[4],arguments[5];return!1}},{key:"socialProofEmbedInit",value:function(t,e,i){if(t.displayOptions.enable&&t.displayOptions.showOnCheckoutPage){var n=t;n.displayOptions.widget_layout="embed",n.widgets=n.widgets.filter(function(t){return-1!==["purchased_items"].indexOf(t.event)}),new(f.extend(a.default))({el:"social-proof-embed-"+i,propsData:{stats:e,iconPath:y,widgets:n.widgets,displayOptions:n.displayOptions,isMobile:w.default.isSmallScreen(),isPowerUser:m.default.getPowerUser(),isPoweredBy:h.default.getGlobalSetting("ccart_powered_by"),sortPosition:0,isBackendPreview:!1}})}}},{key:"stockCountdownInit",value:function(t,e,i,n,a){if(t.enable&&t.showOnCheckoutPage&&e.real_stock_number){var o=d.default.caculateStockCountDownDecreaseQuantity(i);new(f.extend(c.default))({el:"stock-countdown-"+a,propsData:{settings:t,stats:e,isPowerUser:m.default.getPowerUser(),isPoweredBy:h.default.getGlobalSetting("ccart_powered_by"),isMobile:w.default.isSmallScreen(),sortPosition:0,decreaseQuantity:o,useAnimation:n}})}}},{key:"getProductRefIdsFromSetting",value:function(t){var e=[];if("product"===t.page.type&&t.page.productIds.length){var i=!0,n=!1,a=void 0;try{for(var o,r=(0,p.default)(t.page.productIds);!(i=(o=r.next()).done);i=!0){var s=o.value;e.push((0,g.default)(s).find(function(t){return"ref_id"===t})?s.ref_id:Number(s))}}catch(t){n=!0,a=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw a}}}if(t.page.collectionIds.length&&t.page.collectionProductIds&&t.page.collectionProductIds.length&&"collection"===t.page.type){var l=!0,u=!1,c=void 0;try{for(var d,f=(0,p.default)(t.page.collectionProductIds);!(l=(d=f.next()).done);l=!0){var h=d.value;e.push((0,g.default)(h).find(function(t){return"ref_id"===t})?h.ref_id:Number(h))}}catch(t){u=!0,c=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}return e}},{key:"isValidToShowCountDownTimer",value:function(t,e){var i=this.getProductRefIdsFromSetting(t);if(t.page&&t.page.enable&&i.length){for(var n=0;n<e.length;n++)if(-1!==i.indexOf(parseInt(e[n],10)))return!0;return!1}return!0}},{key:"isValidToShowStockCountDown",value:function(t,e){var i=this.getProductRefIdsFromSetting(t);return!(t.page&&t.page.enable&&i.length)||-1!==i.indexOf(parseInt(e,10))}}]),t}();k.default=o}).call(this,_(45))},388:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=a(i(308)),F=a(i(9)),B=a(i(317)),R=a(i(16)),m=a(i(47)),v=a(i(35)),n=a(i(48)),b=a(i(6)),w=a(i(50)),y=a(i(311)),j=a(i(368)),$=a(i(330)),k=i(313);function a(t){return t&&t.__esModule?t:{default:t}}var o={getStatistic:function(d,f){var h=this,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",p=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"total";return(0,n.default)(m.default.mark(function t(){var e,i,n,a,o,r,s,l,u,c;return m.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e={quantity:-1,stat:-1},i=function(){if(-1!==e.quantity&&-1!==e.stat){var t=h.adjustStat(d,e.stat,e.quantity);f(t)}},y.default.getProductByRefId(d,function(t){t?(e.quantity=t.quantity,!e.quantity&&t.variants.length&&(e.quantity=null)):e.quantity=null,i()},!0,!0),!(n=b.default.getParam("shop","shop").id)||!d){t.next=22;break}if(a=Math.floor(Date.now()/1e3),o=k.CCART_PRODUCT_STATS_LOCAL_STORAGE_KEY+"_"+n+"_"+d+"_"+p,s=!(r=void 0),(l=w.default.get(o))&&4===(u=l.split(",")).length&&(s=300<a-u[0],r={view:u[1],add_to_cart:u[2],order:u[3]}),s)return c=b.default.getParam("loader","gapiBasePath")+"/ccart/product-stats/"+n+"/"+d+"?time_range="+g+"&time_type="+p,t.prev=12,t.next=15,y.default.getJson(c);t.next=21;break;case 15:(r=t.sent)&&(0,v.default)(r).length&&w.default.set(o,[a,r.view,r.add_to_cart,r.order].join(",")),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(12);case 21:r&&(0,v.default)(r).length&&(r.product_id=d,e.stat=[r.view,r.add_to_cart,r.order]);case 22:-1===e.stat&&(e.stat=null),i();case 24:case"end":return t.stop()}},t,h,[[12,19]])}))()},getStatValueByField:function(t,e){if(!t)return 0;return t[["viewed","added","purchased"].indexOf(e)]||0},adjustStat:function(e,t,i){for(var n=$.default.getSocialProofSettings(),a=$.default.getStockCountdownSettings(),o=new Date,r=0,s=0,l=0,u=0,c=void 0,d=(0,j.default)(""+e).toString(),f=d.length,h=0;h<f;h++)r+=c=d.charCodeAt(h),s+=c,l+=c,u+=c,h%2&&(s+=c),h%2||(l+=c),h%3&&(u+=c);r%=100,s%=100,l%=100,u%=100;var g=$.default.getCreatedAt(),p=g?(o.getTime()/1e3-g)/86400:0;p=parseInt(p,10);for(var m=0,v=0,b=0,w=!1,y=!1,k=!0,_=void 0,T=void 0,S=void 0,C={},I=0;I<n.widgets.length;I++)switch(_=Number(n.widgets[I].adjustFrom),T=Number(n.widgets[I].adjustTo),k=n.widgets[I].isEnable,S="shopify"!==$.default.getShopPlatform()&&n.widgets[I].enableAdjust,C[n.widgets[I].value]={max:T,min:_},n.widgets[I].value){case"viewed_items":var P=this.getStatValueByField(t,"viewed");m=S?this.adjustNumber(_,T,p,l,1e3,2e3):P,m=parseInt(m,10);break;case"added_items_to_cart":w=k;var x=this.getStatValueByField(t,"added");v=S?this.adjustNumber(_,T,p,s,500,1e3):x,v=parseInt(v,10);break;case"purchased_items":y=k;var O=this.getStatValueByField(t,"purchased");b=S?this.adjustNumber(_,T,p,r,10,500):O,b=parseInt(b,10)}var E=0,L=0;if("percentage"===a.type&&"shopify"!==$.default.getShopPlatform()){100===a.randomFrom&&100===a.randomTo&&null!==i?E=5+(L=parseInt(i,10))%10:L=null!==i?(E=this.adjustNumber(a.randomFrom,a.randomTo,0,r,2,10),parseInt(i*(E/100),10)):(E=this.adjustNumber(a.randomFrom,a.randomTo,0,r,2,10),this.adjustStock(10,40,u%10,1,10));var D=(localStorage.getItem("ccart_closest_product_stock")?JSON.parse(localStorage.getItem("ccart_closest_product_stock")):[]).filter(function(t){return t.productRefId===e});L=D.length?D[0].stock:L}else"number"===a.type&&"shopify"!==$.default.getShopPlatform()?(L=this.adjustStock(a.randomFrom,a.randomTo,u%10,1,10),i?(100<(E=parseInt(L/i*100,10))&&(E=100),E<5&&(E=5)):E=20+L%10):E=20+(L=null===i?this.adjustStock(a.randomFrom,a.randomTo,u%10,1,10):parseInt(i,10)||0)%10;var A=localStorage.getItem("ccart_closest_product_stock")?JSON.parse(localStorage.getItem("ccart_closest_product_stock")):[],M=(0,R.default)({productRefId:e,stock:L}),N=[].concat((0,B.default)(A));return A.filter(function(t){return t.productRefId===e}).length&&N.length||(N=[].concat((0,B.default)(N),[M])),localStorage.setItem("ccart_closest_product_stock",(0,F.default)(N)),v<b&&w&&y&&(v=parseInt(1.6*b,10)),{viewed_items:m,added_items_to_cart:v,purchased_items:b,stock_number:L,real_stock_number:i,stock_percentage:E,product_id:e}},adjustNumber:function(t,e,i,n,a,o,r){var s=parseInt(t,10),l=parseInt(e,10);(0,d.default)(s)&&(s=a),(0,d.default)(l)&&(l=o);var u=l<s?l:s,c=l<s?s:l;return u<1&&(u=1),r&&(u<r&&(u=r),c<r&&(c=1.4*r)),parseInt(u+i*(c-u)/1e3+n/150*(c-u),10)},adjustStock:function(t,e,i,n,a){var o=parseInt(t,10)||n,r=parseInt(e,10)||a,s=r<o?r:o;return parseInt(s+((r<o?o:r)-s)*i/10,10)}};e.default=o},476:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(3)),r=o(i(70)),a=o(i(25)),s=i(313),l=o(i(50));function o(t){return t&&t.__esModule?t:{default:t}}var u={caculateStockCountDownDecreaseQuantity:function(e){var t=0,i=l.default.get(s.CCART_TRACKING_CART_DATA),n=r.default.current();if(i)for(var a in i=JSON.parse(i))if(a!==n.token||a===n.token&&!n.items.length){var o=i[a].filter(function(t){return Number(t.id)===Number(e)});t+=o.length?o[0].quantity:0}return t},getElementNeedAppend:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".product-form__item",e=null;if(t.split(",").forEach(function(t){(0,n.default)(t).length&&!e&&((0,n.default)(t)[0].offsetWidth||(0,n.default)(t)[0].offsetHeight)&&(e=t)}),!e){var i=a.default.current().element.getMainAddCartForm();e=i.get(0)}return e}};e.default=u},477:function(t,e,i){var n,a,o={};n=i(976),Object.keys(n).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.warn("[vue-loader] modules/countdown_cart/components/countdown_timer.vue: named exports in *.vue files are ignored."),a=i(977),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(o).forEach(function(t){var e=o[t];r.computed[t]=function(){return e}})},478:function(t,e,i){var n,a,o={};n=i(981),Object.keys(n).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.warn("[vue-loader] modules/countdown_cart/components/stock_countdown.vue: named exports in *.vue files are ignored."),a=i(982),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(o).forEach(function(t){var e=o[t];r.computed[t]=function(){return e}})},479:function(t,e,i){var n,a,o={};n=i(983),Object.keys(n).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.warn("[vue-loader] modules/countdown_cart/components/SocialProofEmbed.vue: named exports in *.vue files are ignored."),a=i(984),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(o).forEach(function(t){var e=o[t];r.computed[t]=function(){return e}})},521:function(i,n,a){var o,r;/*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*//*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*/!function(t,e){void 0===(r="function"==typeof(o=function(){var b,o,s={},w={},e={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:e.currentLocale,zeroFormat:e.zeroFormat,nullFormat:e.nullFormat,defaultFormat:e.defaultFormat,scalePercentBy100:e.scalePercentBy100};function r(t,e){this._input=t,this._value=e}return(b=function(t){var e,i,n,a;if(b.isNumeral(t))e=t.value();else if(0===t||void 0===t)e=0;else if(null===t||o.isNaN(t))e=null;else if("string"==typeof t)if(l.zeroFormat&&t===l.zeroFormat)e=0;else if(l.nullFormat&&t===l.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(i in s)if((a="function"==typeof s[i].regexps.unformat?s[i].regexps.unformat():s[i].regexps.unformat)&&t.match(a)){n=s[i].unformat;break}e=(n=n||b._.stringToNumber)(t)}else e=Number(t)||null;return new r(t,e)}).version="2.0.6",b.isNumeral=function(t){return t instanceof r},b._=o={numberToFormat:function(t,e,i){var n,a,o,r,s,l,u,c,d=w[b.options.currentLocale],f=!1,h=!1,g="",p="",m=!1;if(t=t||0,o=Math.abs(t),b._.includes(e,"(")?(f=!0,e=e.replace(/[\(|\)]/g,"")):(b._.includes(e,"+")||b._.includes(e,"-"))&&(l=b._.includes(e,"+")?e.indexOf("+"):t<0?e.indexOf("-"):-1,e=e.replace(/[\+|\-]/g,"")),b._.includes(e,"a")&&(a=!!(a=e.match(/a(k|m|b|t)?/))&&a[1],b._.includes(e," a")&&(g=" "),e=e.replace(new RegExp(g+"a[kmbt]?"),""),1e12<=o&&!a||"t"===a?(g+=d.abbreviations.trillion,t/=1e12):o<1e12&&1e9<=o&&!a||"b"===a?(g+=d.abbreviations.billion,t/=1e9):o<1e9&&1e6<=o&&!a||"m"===a?(g+=d.abbreviations.million,t/=1e6):(o<1e6&&1e3<=o&&!a||"k"===a)&&(g+=d.abbreviations.thousand,t/=1e3)),b._.includes(e,"[.]")&&(h=!0,e=e.replace("[.]",".")),r=t.toString().split(".")[0],s=e.split(".")[1],u=e.indexOf(","),n=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length,s?(r=(p=b._.includes(s,"[")?(s=(s=s.replace("]","")).split("["),b._.toFixed(t,s[0].length+s[1].length,i,s[1].length)):b._.toFixed(t,s.length,i)).split(".")[0],p=b._.includes(p,".")?d.delimiters.decimal+p.split(".")[1]:"",h&&0===Number(p.slice(1))&&(p="")):r=b._.toFixed(t,0,i),g&&!a&&1e3<=Number(r)&&g!==d.abbreviations.trillion)switch(r=String(Number(r)/1e3),g){case d.abbreviations.thousand:g=d.abbreviations.million;break;case d.abbreviations.million:g=d.abbreviations.billion;break;case d.abbreviations.billion:g=d.abbreviations.trillion}if(b._.includes(r,"-")&&(r=r.slice(1),m=!0),r.length<n)for(var v=n-r.length;0<v;v--)r="0"+r;return-1<u&&(r=r.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),0===e.indexOf(".")&&(r=""),c=r+p+(g||""),f?c=(f&&m?"(":"")+c+(f&&m?")":""):0<=l?c=0===l?(m?"-":"+")+c:c+(m?"-":"+"):m&&(c="-"+c),c},stringToNumber:function(t){var e,i,n,a=w[l.currentLocale],o=t,r={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&t===l.zeroFormat)i=0;else if(l.nullFormat&&t===l.nullFormat||!t.replace(/[^0-9]+/g,"").length)i=null;else{for(e in i=1,"."!==a.delimiters.decimal&&(t=t.replace(/\./g,"").replace(a.delimiters.decimal,".")),r)if(n=new RegExp("[^a-zA-Z]"+a.abbreviations[e]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),o.match(n)){i*=Math.pow(10,r[e]);break}i*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),i*=Number(t)}return i},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,i){return t.slice(0,i)+e+t.slice(i)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var i,n=Object(t),a=n.length>>>0,o=0;if(3===arguments.length)i=arguments[2];else{for(;o<a&&!(o in n);)o++;if(a<=o)throw new TypeError("Reduce of empty array with no initial value");i=n[o++]}for(;o<a;o++)o in n&&(i=e(i,n[o],o,n));return i},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){var i=o.multiplier(e);return i<t?t:i},1)},toFixed:function(t,e,i,n){var a,o,r,s,l=t.toString().split("."),u=e-(n||0);return a=2===l.length?Math.min(Math.max(l[1].length,u),e):u,r=Math.pow(10,a),s=(i(t+"e+"+a)/r).toFixed(a),e-a<n&&(o=new RegExp("\\.?0{1,"+(n-(e-a))+"}$"),s=s.replace(o,"")),s}},b.options=l,b.formats=s,b.locales=w,b.locale=function(t){return t&&(l.currentLocale=t.toLowerCase()),l.currentLocale},b.localeData=function(t){if(!t)return w[l.currentLocale];if(t=t.toLowerCase(),!w[t])throw new Error("Unknown locale : "+t);return w[t]},b.reset=function(){for(var t in e)l[t]=e[t]},b.zeroFormat=function(t){l.zeroFormat="string"==typeof t?t:null},b.nullFormat=function(t){l.nullFormat="string"==typeof t?t:null},b.defaultFormat=function(t){l.defaultFormat="string"==typeof t?t:"0.0"},b.register=function(t,e,i){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=i},b.validate=function(t,e){var i,n,a,o,r,s,l,u;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{l=b.localeData(e)}catch(t){l=b.localeData(b.locale())}return a=l.currency.symbol,r=l.abbreviations,i=l.delimiters.decimal,n="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,!(null!==(u=t.match(/^[^\d]+/))&&(t=t.substr(1),u[0]!==a)||null!==(u=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),u[0]!==r.thousand&&u[0]!==r.million&&u[0]!==r.billion&&u[0]!==r.trillion)||(s=new RegExp(n+"{2}"),t.match(/[^\d.,]/g)||2<(o=t.split(i)).length||(o.length<2?!o[0].match(/^\d+.*\d$/)||o[0].match(s):1===o[0].length?!o[0].match(/^\d+$/)||o[0].match(s)||!o[1].match(/^\d+$/):!o[0].match(/^\d+.*\d$/)||o[0].match(s)||!o[1].match(/^\d+$/))))},b.fn=r.prototype={clone:function(){return b(this)},format:function(t,e){var i,n,a,o=this._value,r=t||l.defaultFormat;if(e=e||Math.round,0===o&&null!==l.zeroFormat)n=l.zeroFormat;else if(null===o&&null!==l.nullFormat)n=l.nullFormat;else{for(i in s)if(r.match(s[i].regexps.format)){a=s[i].format;break}n=(a=a||b._.numberToFormat)(o,r,e)}return n},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var a=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([this._value,t],function(t,e,i,n){return t+Math.round(a*e)},0)/a,this},subtract:function(t){var a=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([t],function(t,e,i,n){return t-Math.round(a*e)},Math.round(this._value*a))/a,this},multiply:function(t){return this._value=o.reduce([this._value,t],function(t,e,i,n){var a=o.correctionFactor(t,e);return Math.round(t*a)*Math.round(e*a)/Math.round(a*a)},1),this},divide:function(t){return this._value=o.reduce([this._value,t],function(t,e,i,n){var a=o.correctionFactor(t,e);return Math.round(t*a)/Math.round(e*a)}),this},difference:function(t){return Math.abs(b(this._value).subtract(t).value())}},b.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),function(){b.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,e,i){var n,a=b._.includes(e," BPS")?" ":"";return t*=1e4,e=e.replace(/\s?BPS/,""),n=b._.numberToFormat(t,e,i),n=b._.includes(n,")")?((n=n.split("")).splice(-1,0,a+"BPS"),n.join("")):n+a+"BPS"},unformat:function(t){return+(1e-4*b._.stringToNumber(t)).toFixed(15)}})}(),function(){var l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},u={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},t=l.suffixes.concat(u.suffixes.filter(function(t){return l.suffixes.indexOf(t)<0})).join("|");t="("+t.replace("B","B(?!PS)")+")",b.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(t)},format:function(t,e,i){var n,a,o,r=b._.includes(e,"ib")?u:l,s=b._.includes(e," b")||b._.includes(e," ib")?" ":"";for(e=e.replace(/\s?i?b/,""),n=0;n<=r.suffixes.length;n++)if(a=Math.pow(r.base,n),o=Math.pow(r.base,n+1),null===t||0===t||a<=t&&t<o){s+=r.suffixes[n],0<a&&(t/=a);break}return b._.numberToFormat(t,e,i)+s},unformat:function(t){var e,i,n=b._.stringToNumber(t);if(n){for(e=l.suffixes.length-1;0<=e;e--){if(b._.includes(t,l.suffixes[e])){i=Math.pow(l.base,e);break}if(b._.includes(t,u.suffixes[e])){i=Math.pow(u.base,e);break}}n*=i||1}return n}})}(),function(){b.register("format","currency",{regexps:{format:/(\$)/},format:function(t,e,i){var n,a,o=b.locales[b.options.currentLocale],r={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(e=e.replace(/\s?\$\s?/,""),n=b._.numberToFormat(t,e,i),0<=t?(r.before=r.before.replace(/[\-\(]/,""),r.after=r.after.replace(/[\-\)]/,"")):t<0&&!b._.includes(r.before,"-")&&!b._.includes(r.before,"(")&&(r.before="-"+r.before),a=0;a<r.before.length;a++)switch(r.before[a]){case"$":n=b._.insert(n,o.currency.symbol,a);break;case" ":n=b._.insert(n," ",a+o.currency.symbol.length-1)}for(a=r.after.length-1;0<=a;a--)switch(r.after[a]){case"$":n=a===r.after.length-1?n+o.currency.symbol:b._.insert(n,o.currency.symbol,-(r.after.length-(1+a)));break;case" ":n=a===r.after.length-1?n+" ":b._.insert(n," ",-(r.after.length-(1+a)+o.currency.symbol.length-1))}return n}})}(),function(){b.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,e,i){var n=("number"!=typeof t||b._.isNaN(t)?"0e+0":t.toExponential()).split("e");return e=e.replace(/e[\+|\-]{1}0/,""),b._.numberToFormat(Number(n[0]),e,i)+"e"+n[1]},unformat:function(t){var e=b._.includes(t,"e+")?t.split("e+"):t.split("e-"),i=Number(e[0]),n=Number(e[1]);return n=b._.includes(t,"e-")?n*=-1:n,b._.reduce([i,Math.pow(10,n)],function(t,e,i,n){var a=b._.correctionFactor(t,e);return t*a*(e*a)/(a*a)},1)}})}(),function(){b.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,e,i){var n=b.locales[b.options.currentLocale],a=b._.includes(e," o")?" ":"";return e=e.replace(/\s?o/,""),a+=n.ordinal(t),b._.numberToFormat(t,e,i)+a}})}(),function(){b.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,e,i){var n,a=b._.includes(e," %")?" ":"";return b.options.scalePercentBy100&&(t*=100),e=e.replace(/\s?\%/,""),n=b._.numberToFormat(t,e,i),n=b._.includes(n,")")?((n=n.split("")).splice(-1,0,a+"%"),n.join("")):n+a+"%"},unformat:function(t){var e=b._.stringToNumber(t);return b.options.scalePercentBy100?.01*e:e}})}(),function(){b.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,i){var n=Math.floor(t/60/60),a=Math.floor((t-60*n*60)/60),o=Math.round(t-60*n*60-60*a);return n+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),i=0;return 3===e.length?(i+=60*Number(e[0])*60,i+=60*Number(e[1]),i+=Number(e[2])):2===e.length&&(i+=60*Number(e[0]),i+=Number(e[1])),Number(i)}})}(),b})?o.call(n,a,n,i):o)||(i.exports=r)}()},522:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=f(i(3)),a=f(i(6)),r=f(i(4)),s=f(i(986)),l=f(i(987)),u=f(i(988)),o=f(i(993)),c=f(i(994)),d=f(i(995));function f(t){return t&&t.__esModule?t:{default:t}}var h={init:function(){var t=this.getCurrentPlatform(),e=new s.default,i=new l.default,n=new u.default,a=new c.default,o=new d.default;switch(t){case"shopify":e.initialize();break;case"wordpress":i.initialize();break;case"weebly":o.initialize();break;case"seoshop":n.initialize();case"bigcommerce":this.initBigcommerce();break;case"magento":a.initialize();break;default:(0,r.default)("Platform not supported")}},getCurrentPlatform:function(){return a.default.getParam("shop","shop").platform?a.default.getParam("shop","shop").platform:""},initBigcommerce:function(){var t=new o.default,e=setInterval(function(){(0,n.default)(".loadingNotification").is(":visible")||(clearInterval(e),t.getElementsFromDom(),t.initialize())},500)}};e.default=h},523:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={timeExpired:!0,second:0,days:0,hours:0,minutes:0}},972:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=p(i(16)),a=p(i(45)),o=p(i(119)),r=p(i(46)),s=p(i(25)),l=p(i(973)),u=p(i(985)),c=p(i(522)),d=p(i(388)),f=i(313),h=p(i(118)),g=p(i(330));function p(t){return t&&t.__esModule?t:{default:t}}var m=a.default.extend({ready:function(){if("checkout"===h.default.getContext().type||"process-checkout"===h.default.getContext().type)o.default.isInTestGroup(f.CCART_SHOW_ON_CHECKOUT_NON_SHOPIFY).then(function(t){t?"weebly"!==s.default.currentKey()&&c.default.init():u.default.initialize()});else{var t=h.default.getContext().payload.id;if(g.default.getAppSettings().isBackendPreview){var e=(0,n.default)({viewed_items:400,added_items_to_cart:300,purchased_items:50});l.default.initialize(e)}else d.default.getStatistic(t,function(t){l.default.initialize(t)})}r.default.trigger("init-ccart")}});e.default=m},973:function(t,l,u){"use strict";(function(E){Object.defineProperty(l,"__esModule",{value:!0});var L=a(u(122)),D=a(u(9)),A=a(u(47)),M=a(u(35)),t=a(u(48)),N=a(u(3)),F=a(u(118)),n=a(u(46)),B=a(u(6)),R=a(u(119)),j=a(u(352)),$=a(u(330)),H=a(u(476)),i=a(u(975)),W=u(313),z=a(u(477)),o=a(u(978)),I=a(u(478)),r=a(u(479)),U=a(u(15)),e=a(u(36));function a(t){return t&&t.__esModule?t:{default:t}}var G=!1,V=e.default.assetsPath+"/"+W.APP_CODE+"/assets/images/",s={initialize:function(e){var i=this;return(0,t.default)(A.default.mark(function t(){return A.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.default.isInTestGroup(W.CCART_RETRY_FIND_ATTACKED_ELEMENT);case 2:if(i.isInRetryFindElementAbTest=t.sent,-1!==(0,M.default)($.default.getAppSettings()).indexOf("socialProof")&&(i.socialProofInit(e),i.socialProofEmbedInit(e)),-1!==(0,M.default)($.default.getAppSettings()).indexOf("countdownTimer"))return t.next=7,i.countdownTimerInit(e);t.next=7;break;case 7:-1!==(0,M.default)($.default.getAppSettings()).indexOf("stockCountdown")&&i.stockCountdownInit(e),n.default.trigger("ccart-initialized-widget");case 9:case"end":return t.stop()}},t,i)}))()},socialProofEmbedInit:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse((0,D.default)($.default.getSocialProofSettings())),i=$.default.getAppSettings(),n=H.default.getElementNeedAppend(e.displayOptions.position_embed),a=void 0;(i.isBackendPreview&&(n="#ccart-preview"),!n||n.length)&&(e.displayOptions.enable&&(a=1),(e.displayOptions.enable||i.isBackendPreview)&&((0,N.default)(n).append("<social-proof-embed/>"),new(E.extend(r.default))({el:"social-proof-embed",propsData:{stats:t,iconPath:V,widgets:e.widgets,displayOptions:e.displayOptions,isMobile:U.default.isSmallScreen(),isPowerUser:$.default.getPowerUser(),isPoweredBy:B.default.getGlobalSetting("ccart_powered_by"),sortPosition:a,isBackendPreview:i.isBackendPreview}})))},socialProofInit:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse((0,D.default)($.default.getSocialProofSettings())),i=$.default.getAppSettings(),n="body",a=void 0;(i.isBackendPreview&&(n="#ccart-preview"),e.displayOptions.enable&&(a=1),e.displayOptions.enable||i.isBackendPreview)&&((0,N.default)(n).append("<social-proof/>"),new(E.extend(o.default))({el:"social-proof",propsData:{isPowerUser:$.default.getPowerUser(),widgets:e.widgets,displayOptions:e.displayOptions,stats:t,iconPath:V,isMobile:U.default.isSmallScreen(),isPoweredBy:B.default.getGlobalSetting("ccart_powered_by"),isBackendPreview:i.isBackendPreview,sortPosition:a}}))},countdownTimerInit:function(){var O=this;return(0,t.default)(A.default.mark(function t(){var e,a,o,i,n,r,s,l,u,c,d,f,h,g,p,m,v,b,w,y,k,_,T,S,C,I,P,x;return A.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.default.isInTestGroup(W.CCART_SHOW_DIFFERENCE_COUNTDOWN_TIMER);case 2:if(e=t.sent,a=JSON.parse((0,D.default)($.default.getCountdownTimerSettings())),o=$.default.getAppSettings(),i="",n="<count-down/>",r=void 0,i=o.isBackendPreview?"#ccart-timer-preview":((0,N.default)("#bk-countdown-timer").remove(),H.default.getElementNeedAppend(a.placePositions)),s=(0,N.default)(i),a.enable||o.isBackendPreview){t.next=12;break}return t.abrupt("return");case 12:if(O.isInRetryFindElementAbTest?s.length?s.append(n):O.generateDefaultAttackedElement().after(n):s.append(n),r=o.isBackendPreview||$.default.getSocialProofSettings().displayOptions.enable?2:1,l=E.extend(z.default),u=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=arguments[3];return new l({el:"count-down",propsData:{settings:a,isMobile:U.default.isSmallScreen(),isPowerUser:$.default.getPowerUser(),isPoweredBy:B.default.getGlobalSetting("ccart_powered_by"),sortPosition:r,isBackendPreview:o.isBackendPreview,imgPath:V,secondsSpecific:t,timeStart:e,isDynamicTimer:i,timerId:n},events:{"time-expired":function(t){G=t}}})},c=F.default.getContext().payload.id,!o.isBackendPreview){t.next=21;break}u(),t.next=77;break;case 21:if(!e){t.next=33;break}if(d=$.default.getTimers(),f=d.length,a.is_use_dynamic_countdown_timer){t.next=28;break}u(),t.next=31;break;case 28:if(f){t.next=30;break}return t.abrupt("return");case 30:for(h=0;h<f;h++)-1!==d[h].target_product_ref_ids.indexOf(Number(c))&&u(j.default.convertTimerSettingToTimestamp({type:d[h].duration_type,value:d[h].duration}),d[h].timer_started_at,!0,d[h].id);case 31:t.next=77;break;case 33:if(g=[],!a.page.productIds.length||"product"!==a.page.type){t.next=55;break}for(p=a.page.productIds,v=!(m=!0),b=void 0,t.prev=39,w=(0,L.default)(p);!(m=(y=w.next()).done);m=!0)k=y.value,g.push((0,M.default)(k).find(function(t){return"ref_id"===t})?k.ref_id:Number(k));t.next=47;break;case 43:t.prev=43,t.t0=t.catch(39),v=!0,b=t.t0;case 47:t.prev=47,t.prev=48,!m&&w.return&&w.return();case 50:if(t.prev=50,v)throw b;t.next=53;break;case 53:return t.finish(50);case 54:return t.finish(47);case 55:if(!a.page.collectionProductIds||!a.page.collectionProductIds.length||"collection"!==a.page.type){t.next=76;break}for(_=a.page.collectionProductIds,S=!(T=!0),C=void 0,t.prev=60,I=(0,L.default)(_);!(T=(P=I.next()).done);T=!0)x=P.value,g.push((0,M.default)(x).find(function(t){return"ref_id"===t})?x.ref_id:Number(x));t.next=68;break;case 64:t.prev=64,t.t1=t.catch(60),S=!0,C=t.t1;case 68:t.prev=68,t.prev=69,!T&&I.return&&I.return();case 71:if(t.prev=71,S)throw C;t.next=74;break;case 74:return t.finish(71);case 75:return t.finish(68);case 76:a.page&&a.page.enable?"product"===a.page.type?a.page.productIds.length&&-1===g.indexOf(parseInt(c,10))||u():"collection"===a.page.type&&(a.page.collectionIds.length&&-1===g.indexOf(parseInt(c,10))||u()):u();case 77:case"end":return t.stop()}},t,O,[[39,43,47,55],[48,,50,54],[60,64,68,76],[69,,71,75]])}))()},stockCountdownInit:function(t){var e=$.default.getStockCountdownSettings(),i=H.default.getElementNeedAppend(e.placePositions),n=(0,N.default)(i),a="<stock-countdown/>",o=0;if(e.enable&&t.real_stock_number){if(this.isInRetryFindElementAbTest)if(n.length)n.append(a);else{var r=this.generateDefaultAttackedElement();r.siblings("#bk-countdown-timer").length&&(r=(0,N.default)("#bk-countdown-timer")),r.after(a)}else n.append(a);$.default.getSocialProofSettings().displayOptions.enable||$.default.getCountdownTimerSettings().enable&&!G||(o=1);var s=F.default.getContext().payload.id,l=H.default.caculateStockCountDownDecreaseQuantity(s),u=E.extend(I.default),c=function(){return new u({el:"stock-countdown",propsData:{settings:e,stats:t,isPowerUser:$.default.getPowerUser(),isPoweredBy:B.default.getGlobalSetting("ccart_powered_by"),isMobile:U.default.isSmallScreen(),sortPosition:o,decreaseQuantity:l}})},d=[];if(e.page.productIds.length&&"product"==e.page.type){var f=e.page.productIds,h=!0,g=!1,p=void 0;try{for(var m,v=(0,L.default)(f);!(h=(m=v.next()).done);h=!0){var b=m.value;d.push((0,M.default)(b).find(function(t){return"ref_id"===t})?b.ref_id:Number(b))}}catch(t){g=!0,p=t}finally{try{!h&&v.return&&v.return()}finally{if(g)throw p}}}if(e.page.collectionProductIds&&e.page.collectionProductIds.length&&"collection"==e.page.type){var w=e.page.collectionProductIds,y=!0,k=!1,_=void 0;try{for(var T,S=(0,L.default)(w);!(y=(T=S.next()).done);y=!0){var C=T.value;d.push((0,M.default)(C).find(function(t){return"ref_id"===t})?C.ref_id:Number(C))}}catch(t){k=!0,_=t}finally{try{!y&&S.return&&S.return()}finally{if(k)throw _}}}e.page&&e.page.enable?"product"==e.page.type?e.page.productIds.length&&-1===d.indexOf(parseInt(s,10))||c():"collection"==e.page.type&&(e.page.collectionIds.length&&-1===d.indexOf(parseInt(s,10))||c()):c()}},generateDefaultAttackedElement:function(){var t=void 0,e=(0,N.default)("[default-countdown-attacked=true]");return e.length?t=e:(t=i.default.getGeneralAddToCartElement()).attr("default-countdown-attacked",!0),t}};l.default=s}).call(this,u(45))},974:function(ot,rt,st){(function(nt){var at;!function(){function n(t,e,i){return t.call.apply(t.bind,arguments)}function a(e,i,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,n),e.apply(i,t)}}return function(){return e.apply(i,arguments)}}function g(t,e,i){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:a).apply(null,arguments)}var r=Date.now||function(){return+new Date};function e(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var s=!!window.FontFace;function l(t,e,i,n){if(e=t.c.createElement(e),i)for(var a in i)i.hasOwnProperty(a)&&("style"==a?e.style.cssText=i[a]:e.setAttribute(a,i[a]));return n&&e.appendChild(t.c.createTextNode(n)),e}function u(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),a=0;a<e.length;a+=1){for(var o=!1,r=0;r<n.length;r+=1)if(e[a]===n[r]){o=!0;break}o||n.push(e[a])}for(e=[],a=0;a<n.length;a+=1){for(o=!1,r=0;r<i.length;r+=1)if(n[a]===i[r]){o=!0;break}o||e.push(n[a])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function o(t,e){for(var i=t.className.split(/\s+/),n=0,a=i.length;n<a;n++)if(i[n]==e)return!0;return!1}function c(t,e,i){function n(){r&&a&&(r(o),r=null)}e=l(t,"link",{rel:"stylesheet",href:e,media:"all"});var a=!1,o=null,r=i||null;s?(e.onload=function(){a=!0,n()},e.onerror=function(){a=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout(function(){a=!0,n()},0),u(t,"head",e)}function d(t,e,i,n){var a=t.c.getElementsByTagName("head")[0];if(a){var o=l(t,"script",{src:e}),r=!1;return o.onload=o.onreadystatechange=function(){r||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(r=!0,i&&i(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&a.removeChild(o))},a.appendChild(o),setTimeout(function(){r||(r=!0,i&&i(Error("Script load timeout")))},n||5e3),o}return null}function f(){this.a=0,this.c=null}function h(t){return t.a++,function(){t.a--,v(t)}}function m(t,e){t.c=e,v(t)}function v(t){0==t.a&&t.c&&(t.c(),t.c=null)}function b(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function y(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function k(t){return t.a+t.f}function _(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function T(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function S(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new b("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function C(t){if(t.g){var e=o(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),p(t.f,i,n)}I(t,"inactive")}function I(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,k(i)):t.h[e]())}function P(){this.c={}}function x(t,e){this.c=t,this.f=e,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function O(t){u(t.c,"body",t.a)}function E(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+y(t.c)+";font-style:"+_(t)+";font-weight:"+t.f+"00;"}function L(t,e,i,n,a,o){this.g=t,this.j=e,this.a=n,this.c=i,this.f=a||3e3,this.h=o||void 0}function D(t,e,i,n,a,o,r){this.v=t,this.B=e,this.c=i,this.a=n,this.s=r||"BESbswy",this.f={},this.w=a||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new x(this.c,this.s),this.h=new x(this.c,this.s),this.j=new x(this.c,this.s),this.m=new x(this.c,this.s),t=E(t=new w(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=t,t=E(t=new w(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=t,t=E(t=new w("serif",k(this.a))),this.j.a.style.cssText=t,t=E(t=new w("sans-serif",k(this.a))),this.m.a.style.cssText=t,O(this.g),O(this.h),O(this.j),O(this.m)}b.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var n=this.c.o.document,a=this,o=r(),t=new nt(function(i,t){!function e(){r()-o>=a.f?t():n.fonts.load(function(t){return _(t)+" "+t.f+"00 300px "+y(t.c)}(a.a),a.h).then(function(t){1<=t.length?i():setTimeout(e,25)},function(){t()})}()}),i=null,e=new nt(function(t,e){i=setTimeout(e,a.f)});nt.race([e,t]).then(function(){i&&(clearTimeout(i),i=null),a.g(a.a)},function(){a.j(a.a)})};var A={D:"serif",C:"sans-serif"},M=null;function N(){if(null===M){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);M=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return M}function F(t,e,i){for(var n in A)if(A.hasOwnProperty(n)&&e===t.f[A[n]]&&i===t.f[A[n]])return!0;return!1}function B(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=N()&&F(t,i,n)),e?r()-t.A>=t.w?N()&&F(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?R(t,t.v):R(t,t.B):function(t){setTimeout(g(function(){B(this)},t),50)}(t):R(t,t.v)}function R(t,e){setTimeout(g(function(){i(this.g.a),i(this.h.a),i(this.j.a),i(this.m.a),e(this.a)},t),0)}function j(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}D.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=r(),B(this)};var $=null;function H(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&p(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),I(t,"active")):C(t.a))}function t(t){this.j=t,this.a=new P,this.h=0,this.f=this.g=!0}function W(t,u,c,d,f){var h=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=f||null,e=d||{};if(0===c.length&&h)C(u.a);else{u.f+=c.length,h&&(u.j=h);var i,n=[];for(i=0;i<c.length;i++){var a=c[i],o=e[a.c],r=u.a,s=a;if(r.g&&p(r.f,[r.a.c("wf",s.c,k(s).toString(),"loading")]),I(r,"fontloading",s),(r=null)===$)if(window.FontFace){s=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var l=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);$=s?42<parseInt(s[1],10):!l}else $=!1;r=$?new L(g(u.g,u),g(u.h,u),u.c,a,u.s,o):new D(g(u.g,u),g(u.h,u),u.c,a,u.s,t,o),n.push(r)}for(i=0;i<n.length;i++)n[i].start()}},0)}function z(t,e){this.c=t,this.a=e}function U(t,e){this.c=t,this.a=e}function G(t,e){this.c=t||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=e||""}j.prototype.g=function(t){var e=this.a;e.g&&p(e.f,[e.a.c("wf",t.c,k(t).toString(),"active")],[e.a.c("wf",t.c,k(t).toString(),"loading"),e.a.c("wf",t.c,k(t).toString(),"inactive")]),I(e,"fontactive",t),this.m=!0,H(this)},j.prototype.h=function(t){var e=this.a;if(e.g){var i=o(e.f,e.a.c("wf",t.c,k(t).toString(),"active")),n=[],a=[e.a.c("wf",t.c,k(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,k(t).toString(),"inactive")),p(e.f,n,a)}I(e,"fontinactive",t),H(this)},t.prototype.load=function(t){this.c=new e(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(n,t,e){var i=[],a=e.timeout;!function(t){t.g&&p(t.f,[t.a.c("wf","loading")]),I(t,"loading")}(t);var i=function(t,e,i){var n,a=[];for(n in e)if(e.hasOwnProperty(n)){var o=t.c[n];o&&a.push(o(e[n],i))}return a}(n.a,e,n.c),o=new j(n.c,t,a);for(n.h=i.length,t=0,e=i.length;t<e;t++)i[t].load(function(t,e,i){W(n,o,t,e,i)})}(this,new S(this.c,t),t)},z.prototype.load=function(r){var e=this,s=e.a.projectId,t=e.a.version;if(s){var l=e.c.o;d(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+s+".js"+(t?"?v="+t:""),function(t){t?r([]):(l["__MonotypeConfiguration__"+s]=function(){return e.a},function t(){if(l["__mti_fntLst"+s]){var e,i=l["__mti_fntLst"+s](),n=[];if(i)for(var a=0;a<i.length;a++){var o=i[a].fontfamily;null!=i[a].fontStyle&&null!=i[a].fontWeight?(e=i[a].fontStyle+i[a].fontWeight,n.push(new w(o,e))):n.push(new w(o))}r(n)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+s}else r([])},U.prototype.load=function(t){var e,i,n=this.a.urls||[],a=this.a.families||[],o=this.a.testStrings||{},r=new f;for(e=0,i=n.length;e<i;e++)c(this.c,n[e],h(r));var s=[];for(e=0,i=a.length;e<i;e++)if((n=a[e].split(":"))[1])for(var l=n[1].split(","),u=0;u<l.length;u+=1)s.push(new w(n[0],l[u]));else s.push(new w(n[0]));m(r,function(){t(s,o)})};function V(t){this.f=t,this.a=[],this.c={}}var q={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},K={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},J={i:"i",italic:"i",n:"n",normal:"n"},Y=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Z(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function X(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}Z.prototype.load=function(t){var e=new f,i=this.c,n=new G(this.a.api,this.a.text),a=this.a.families;!function(t,e){for(var i=e.length,n=0;n<i;n++){var a=e[n].split(":");3==a.length&&t.f.push(a.pop());var o="";2==a.length&&""!=a[1]&&(o=":"),t.a.push(a.join(o))}}(n,a);var o=new V(a);!function(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),a=n[0].replace(/\+/g," "),o=["n4"];if(2<=n.length){var r;if(r=[],s=n[1])for(var s,l=(s=s.split(",")).length,u=0;u<l;u++){var c;if((c=s[u]).match(/^[\w-]+$/))if(null==(f=Y.exec(c.toLowerCase())))c="";else{if(c=null==(c=f[2])||""==c?"n":J[c],null==(f=f[1])||""==f)f="4";else var d=K[f],f=d||(isNaN(f)?"4":f.substr(0,1));c=[c,f].join("")}else c="";c&&r.push(c)}0<r.length&&(o=r),3==n.length&&(r=[],0<(n=(n=n[2])?n.split(","):r).length&&(n=q[n[0]])&&(t.c[a]=n))}for(t.c[a]||(n=q[a])&&(t.c[a]=n),n=0;n<o.length;n+=1)t.a.push(new w(a,o[n]))}}(o),c(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),h(e)),m(e,function(){t(o.a,o.c,Q)})},X.prototype.load=function(r){var t=this.a.id,s=this.c.o;t?d(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)r([]);else if(s.Typekit&&s.Typekit.config&&s.Typekit.config.fn){t=s.Typekit.config.fn;for(var e=[],i=0;i<t.length;i+=2)for(var n=t[i],a=t[i+1],o=0;o<a.length;o++)e.push(new w(n,a[o]));try{s.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}r(e)}},2e3):r([])},tt.prototype.load=function(o){var t=this.f.id,e=this.c.o,r=this;t?(e.__webfontfontdeckmodule__||(e.__webfontfontdeckmodule__={}),e.__webfontfontdeckmodule__[t]=function(t,e){for(var i=0,n=e.fonts.length;i<n;++i){var a=e.fonts[i];r.a.push(new w(a.name,T("font-weight:"+a.weight+";font-style:"+a.style)))}o(r.a)},d(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+t+".js",function(t){t&&o([])})):o([])};var et=new t(window);et.a.c.custom=function(t,e){return new U(e,t)},et.a.c.fontdeck=function(t,e){return new tt(e,t)},et.a.c.monotype=function(t,e){return new z(e,t)},et.a.c.typekit=function(t,e){return new X(e,t)},et.a.c.google=function(t,e){return new Z(e,t)};var it={load:g(et.load,et)};void 0===(at=function(){return it}.call(rt,st,rt,ot))||(ot.exports=at)}()}).call(this,st(54))},975:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=a(i(3)),n=a(i(25)),s=a(i(121)),l=a(i(75));function a(t){return t&&t.__esModule?t:{default:t}}e.default={getGeneralAddToCartElement:function(){var t=this.getAddToCartForm();if(!1===t)return!1;var e=n.default.current().element.getAddCartButton(t.get(0));return this.findBestAttackedElement((0,c.default)(e))},findBestAttackedElement:function(t){for(var e=t,i=0;i<5;i++){if(0<e.siblings().length||e.parent().is("form"))return e;e=e.parent()}return e},getAddToCartForm:function(){for(var t=(0,c.default)("form:visible"),e=-1,i=void 0,n=this.getMainImageInfo().multipleSlideImagesWrapper,a=0;a<t.length;a++){var o=(0,c.default)(t.get(a));if(!this.isExcludedForm(o)){var r=this.getGeneralParentLevel(o,n);r<0||e<=r&&(e=r,i=o)}}return i},isExcludedForm:function(t){var e=n.default.current().element.getAddCartButton(t.get(0));return!(0,c.default)(e).length||(this.isExcludedElement(t)||this.isExcludedElement((0,c.default)(e)))},isExcludedElement:function(t){for(var e=["search","login","log in","contact","email","sign","sign up"],i=0;i<e.length;i++)for(var n=0;n<t.length;n++){var a=(0,c.default)(t.get(n)),o=a.attr("class"),r=a.attr("action"),s=a.attr("name"),l=a.attr("value");if(o&&-1!==o.toLowerCase().indexOf(e[i]))return!0;if(s&&-1!==s.toLowerCase().indexOf(e[i]))return!0;if(l&&-1!==l.toLowerCase().indexOf(e[i]))return!0;if(r&&-1!==r.toLowerCase().indexOf(e[i]))return!0}return!1},getGeneralParentLevel:function(t,e){if(c.default.contains(e.get(0),t.get(0)))return 0;for(var i=(0,c.default)("body"),n=t,a=0;a<10;a++){if(c.default.contains(n.get(0),e.get(0))){i=n;break}var o=n.parent();if(!o.length)return-1;if(c.default.contains(o.get(0),e.get(0))){var r=n.prev();if(!r.length)return-1;if(r.is(e)||c.default.contains(r.get(0),e.get(0))){i=n;break}}n=o}for(var s=0,l=i,u=0;u<20&&!l.is("body")&&(l=l.parent()).length;u++)s++;return s},getMainImageInfo:function(){var a=this,o=[],r=null,t=this.getAllOnScreenImage();return(0,s.default)(t,function(t){var e=a.getWrapperElement(t),i=a.getWrapperElement(e);if(!i.find("h1,h2").length&&!t.parents("header").length){var n=t.width()+t.height();!a.isExcludeImage(t)&&(null===r||r<n)&&(r=n),o.push({$image:t,multipleSlideImagesWrapper:i,singleSlideImageWrapper:e,imageSize:n,isExclude:a.isExcludeImage(t)})}}),(0,l.default)(o,{imageSize:r,isExclude:!1})},getAllOnScreenImage:function(){var t=(0,c.default)("img"),n=[],a=(0,c.default)(window).height();return t.each(function(t,e){var i=(0,c.default)(e);i&&i.offset().top<a&&n.push(i)}),n},getWrapperElement:function(t){for(var e=t,i=t.parent(),n=0;n<=10;n++){if(i.find("h1,h2,header").length){i=e;break}if(i.siblings().not("script,style,noscript").length)break;i=(e=i).parent()}return"A"===i.prop("tagName")?i.parent():i},isExcludeImage:function(t){return t.hasClass("zoomImg")||!t.is(":visible")}}},976:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(i(35)),s=v(i(16)),l=v(i(122)),u=v(i(9)),n=v(i(119)),c=v(i(50)),d=v(i(20)),a=(v(i(6)),v(i(4))),o=v(i(46)),f=v(i(3)),h=v(i(118)),g=i(313),p=v(i(307)),m=v(i(352));function v(t){return t&&t.__esModule?t:{default:t}}e.default={props:{settings:Object,isMobile:Boolean,isPoweredBy:String,isBackendPreview:Boolean,isPowerUser:Boolean,sortPosition:Number,imgPath:String,secondsSpecific:{type:Number,default:0},timeStart:{type:Number,default:0},isDynamicTimer:{type:Boolean,default:!1},timerId:{type:Number,default:0},productId:{type:Number,default:0}},data:function(){return{days:0,hours:0,minutes:0,seconds:0,timeExpired:!1,clockReady:!1,backendPreview:"",intervalId:0,urlLanding:p.default.getUrlLandingPage(g.APP_CODE,"powered-by-countdown-cart")}},ready:function(){var i=this,t=(0,f.default)(this.$root.$el.previousElementSibling),e=t.children();if(("left"===t.css("float")&&(this.$root.$el.style.float="left"),e.each(function(t,e){"left"===(0,f.default)(e).css("float")&&(i.$root.$el.style.float="left")}),this.isNotRepeatCountdownTimer()&&!this.isDynamicTimer)&&d.default.get("ccart_repeat_countdown_timer_expired_"+h.default.getContext().payload.id))return this.timeExpired=!0,void this.$dispatch("time-expired",this.timeExpired);this.start(),o.default.trigger("ccart-fetched"),o.default.listen("ccart:theme-change",function(t){i.settings=JSON.parse((0,u.default)(t)),i.start()}),o.default.listen("ccart:settings-change",function(t){i.settings=JSON.parse((0,u.default)(t))}),o.default.listen("ccart:device-change",function(t){i.isMobile=t,i.start()})},computed:{wrapperId:function(){return this.isDynamicTimer?"number-wrapper"+this.productId:"number-wrapper"},labelIcon:function(){return this.imgPath+"holiday_theme/countdown_timer/"+this.settings.holidayTheme+"_icon.svg"},themeHasIconLabel:function(){var t=!1,e=!0,i=!1,n=void 0;try{for(var a,o=(0,l.default)(["cyber_monday","thanks_giving","happy_new_year","valentine"]);!(e=(a=o.next()).done);e=!0){var r=a.value;r===this.settings.holidayTheme&&(t=!0)}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}return t},message:function(){var t=this.settings.message||"";return t=t.trim(),t=t.replace(/<b[^r>]*>/,'<b style="font-weight: bold;">'),t=t.replace(/<i[^>]*>/,'<i style="font-style: italic;">'),t=t.replace(/<u[^>]*>/,'<u style="text-decoration: underline;">'),t=t.replace(/(\s*<\/?br>\s*)+((\s*<\/[^>]+>\s*)+)$/,"$'$2"),m.default.fontMessage(t),t},numberStyles:function(){var t=this.getStyleInString(this.settings.number);return"small"===this.settings.widgetSize?t.fontSize="16px":"medium"===this.settings.widgetSize?t.fontSize=this.isMobile?"18px":"26px":"big"===this.settings.widgetSize&&(t.fontSize=this.isMobile?"22px":"36px"),30<parseInt(t.fontSize,10)?(0,f.default)(".flip-clock-dot").addClass("big_size"):(0,f.default)(".flip-clock-dot").removeClass("big_size"),"dark2"===this.settings.theme&&(t.color="#fff"),t},labelStyles:function(){var t=this.getStyleInString(this.settings.label);return"small"===this.settings.widgetSize?t.fontSize="10px":"medium"===this.settings.widgetSize?t.fontSize="14px":"big"===this.settings.widgetSize&&(t.fontSize="18px"),t},widgetPositionStyle:function(){return{textAlign:this.settings.widgetPosition}},backgroundColor:function(){return"dark2"===this.settings.theme?"":this.settings.backgroundColor},getClassFromCheckoutPage:function(){if("checkout"===h.default.getContext().type)return"countdown-timer-checkout"}},methods:{start:function(){var e=this,i=0,n=!1,a=setInterval(function(){var t=document.head.querySelector('link[href*="'+g.APP_CODE+'/assets/styles/styles.css"]');t&&Boolean(t.sheet)&&(n=!0),(n||100<i)&&(clearInterval(a),e.preRunClock()),i++},10)},preRunClock:function(){var l=this,u=this.calculateTimeFromSetting();u<1&&(this.isBackendPreview?u=1800:(this.timeExpired=!0,this.$dispatch("time-expired",this.timeExpired))),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=0),this.$nextTick(function(){"light"!==l.settings.theme&&("checkout"===h.default.getContext().type&&(l.settings.is_use_dynamic_countdown_timer?(clearInterval(window["bkIntervalCountTimer"+l.productId]),window["bkIntervalCountTimer"+l.productId]=0):(clearInterval(window.bkIntervalCountTimer),window.bkIntervalCountTimer=0)),l.runClock(u));var r=0,s=setInterval(function(){r++;var t=Math.floor(u/24/60/60),e=Math.floor(u-86400*t),i=Math.floor(e/3600),n=Math.floor(e-3600*i),a=Math.floor(n/60),o=u%60;o<10&&(o="0"+o),l.seconds=o,l.days=l.addZeroNumber(t),l.hours=l.addZeroNumber(i),l.minutes=l.addZeroNumber(a),0===u?l.isBackendPreview?(u=l.calculateTimeFromSetting(),"light"!==l.settings.theme&&setTimeout(function(){l.runClock(u)},500)):(l.timeExpired=!0,clearInterval(s),l.isNotRepeatCountdownTimer()||d.default.set("ccart_repeat_countdown_timer_expired_"+h.default.getContext().payload.id,1)):u--,l.clockReady=!0,10===r&&(r=0),(0,f.default)(".down, .up","#clock-wrapper").css({background:""+l.backgroundColor}),(0,f.default)("#bk-countdown-timer ul.flip li").attr("style","line-height: "+(0,f.default)("ul.flip li").height()+"px !important")},1e3);l.intervalId=s})},calculateTimeFromSetting:function(){var t=0,e=(new Date).getTime()/1e3;if(this.isDynamicTimer){var i=this.secondsSpecific,n=c.default.get("bkt-timer-start");return n=n?JSON.parse(n):(0,s.default)({}),-1===(0,r.default)(n).indexOf(String(this.timerId))&&(n[this.timerId]=this.timeStart),i<e-(t=n[this.timerId])&&(this.isNotRepeatCountdownTimer()||(t=e,n[this.timerId]=e)),c.default.set("bkt-timer-start",(0,u.default)(n),100,1),Math.floor(i-(e-t))}(t=this.isNotRepeatCountdownTimer()?this.settings.countdownClock.timeStart:c.default.get("cdcart_start")||0)&&(t=parseInt(t,10));var a=void 0;switch(this.settings.countdownClock.type){case"days":a=86400;break;case"minutes":a=60;break;case"hours":default:a=3600}var o=a*(parseInt(this.settings.countdownClock.value,10)||1);return o<e-t&&(this.isNotRepeatCountdownTimer()||(t=e,c.default.set("cdcart_start",t,100,1))),Math.floor(o-(e-t))},isNotRepeatCountdownTimer:function(){return!this.settings.repeatCountdownTimer&&this.settings.countdownClock.timeStart},addZeroNumber:function(t){var e=t;return e<10&&(e="0"+e),e},setStyleClock:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];(0,f.default)("#bk-countdown-timer .flip-clock-divider").css("height",t.outerHeight()),(0,f.default)("#bk-countdown-timer ul.flip li").attr("style","line-height: "+t.outerHeight()+"px !important"),(0,f.default)("#bk-countdown-timer #label-wrapper .bk-clock-label").css("width",2*t.outerWidth()+4),e&&(0,f.default)(".down, .up","#"+this.wrapperId).css({background:""+this.backgroundColor})},runClock:function(t){var e=this;(0,a.default)("ccart Before init clock");(0,f.default)("#"+this.wrapperId).FlipClock(t,{countdown:!0,clockFace:"DailyCounter"});(0,a.default)("Finish init clock");var i=(0,f.default)("#bk-countdown-timer #"+this.wrapperId+" ul.flip");i.prepend('<span class="fake-number">0</span>'),n.default.isInTestGroup(g.CCART_TEST_SETINTERVAL_STYLE_TIMER).then(function(t){if(t&&!e.isBackendPreview)return(0,f.default)(".down, .up","#"+e.wrapperId).css({background:""+e.backgroundColor}),e.setStyleClock(i,!0),void(e.settings.is_use_dynamic_countdown_timer?window["bkIntervalCountTimer"+e.productId]=setInterval(function(){e.setStyleClock(i,!0)},500):window.bkIntervalCountTimer=setInterval(function(){e.setStyleClock(i,!0)},500));setTimeout(function(){e.setStyleClock(i)},500),(0,f.default)(".down, .up","#"+e.wrapperId).css({background:""+e.backgroundColor}),"checkout"===h.default.getContext().type&&((0,f.default)(".down, .up","#"+e.wrapperId).css({background:""+e.backgroundColor}),setInterval(function(){e.setStyleClock(i,!0)},500))})},getStyleInString:function(t){var i={},e=[];return null!=(e=t.match(/color="(#[\w\d]+)"/gim))&&e.forEach(function(t){var e=t.slice(7,t.length-1);i.color=e}),null!=(e=t.match(/face="([\w\d\s]+)"/gim))&&e.forEach(function(t){var e=t.slice(6,t.length-1);i.fontFamily=e}),null!=(e=t.match(/style="[^"]+"|(\+)/gim))&&e.forEach(function(t){t.slice(7,t.length-1).replace(/&quot;/g,"").split(";").forEach(function(t){var e=t.split(":");"text-align"===e[0]&&(i.textAlign=e[1].trim()),"font-size"===e[0]&&(i.fontSize=e[1].trim(),i.fontSize=i.fontSize.match(/\d+/g)[0]+"px"),"font-style"===e[0]&&(i.fontStyle=e[1].trim()),"font-weight"===e[0]&&(i.fontWeight=e[1].trim()),"text-decoration"===e[0]&&(i.textDecoration=e[1].trim()),"color"===e[0]&&(i.color=e[1].trim()),"font-family"===e[0]&&(i.fontFamily=e[1].trim(),n.default.isInTestGroup(g.CCART_UPDATE_FONT_2018).then(function(t){t&&m.default.loadFont(i.fontFamily)}))})}),-1<t.indexOf("u>")&&(i.textDecoration="underline"),(-1<t.indexOf("b>")||-1<t.indexOf("strong>"))&&(i.fontWeight="bold"),(-1<t.indexOf("i>")||-1<t.indexOf("em>"))&&(i.fontStyle="italic"),i},getTimerStartedStorageName:function(t){return"bkt-timer-"+t+"-started-at"}}}},977:function(t,e){t.exports='\n<div id="bk-countdown-timer">\n  <div v-if="!timeExpired" :class="backendPreview" :style="widgetPositionStyle">\n    <div class="countdown-timer-wrapper" :class="getClassFromCheckoutPage">\n      <div class="wrapper-message">\n        <p class="message" v-if="message">{{{message}}}</p>\n        <a href="{{ urlLanding }}" v-if="!isPowerUser && isPoweredBy && !isBackendPreview" class="bkt--powered" target="_blank">\n          <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            <defs>\n              <linearGradient x1="50%" y1="0%" x2="50%" y2="97.8256177%" id="linearGradient-1">\n                <stop stop-color="#445FFF" offset="0%"></stop>\n                <stop stop-color="#8008FF" offset="100%"></stop>\n              </linearGradient>\n            </defs>\n            <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">\n              <g id="Icons/Powered-by-Beeketing" transform="translate(1.000000, 1.000000)" stroke="url(#linearGradient-1)">\n                <polygon id="Power" points="10 0 0 11 9 11 8 18 18 7 9 7"></polygon>\n              </g>\n            </g>\n          </svg>\n          <span v-if="sortPosition == 1 && !isMobile && !isBackendPreview">by <i class="bk-specical-txt">Beeketing</i></span>\n        </a>\n      </div>\n      <div v-if="settings.theme != \'light\'" id="clock-wrapper" :class="settings.theme == \'holiday_theme\' ? settings.holidayTheme : settings.theme">\n        <div :class="{\'wrapper-holiday_theme\': settings.theme == \'holiday_theme\'}">\n          <img class="label_icon" :src="labelIcon" alt="holiday" v-if="settings.theme === \'holiday_theme\' && themeHasIconLabel">\n          <div class="number-wrapper" :id="wrapperId" :style="numberStyles"></div>\n          <div id="label-wrapper">\n            <div class="bk-clock-label" :style="labelStyles">{{ settings.countdownClock.labelDays }}</div>\n            <div class="bk-clock-label" :style="labelStyles">{{ settings.countdownClock.labelHrs }}</div>\n            <div class="bk-clock-label" :style="labelStyles">{{ settings.countdownClock.labelMins }}</div>\n            <div class="bk-clock-label" :style="labelStyles">{{ settings.countdownClock.labelSecs }}</div>\n          </div>\n        </div>\n      </div>\n      <ul v-if="settings.theme == \'light\'" class="bk-normal-clock">\n        <li class="bk-wrapper-days">\n          <div class="bk-days bk-time" :style="numberStyles">{{ days }}</div>\n          <p class="bk-label-time" :style="labelStyles">{{ settings.countdownClock.labelDays }}</p>\n        </li>\n        <li class="bk-wrapper-isolate" :style="numberStyles">:</li>\n        <li class="bk-wrapper-hours">\n          <div class="bk-hours bk-time" :style="numberStyles">{{ hours }}</div>\n          <p class="bk-label-time" :style="labelStyles">{{ settings.countdownClock.labelHrs }}</p>\n        </li>\n        <li class="bk-wrapper-isolate" :style="numberStyles">:</li>\n        <li class="bk-wrapper-mins">\n          <div class="bk-mins bk-time" :style="numberStyles">{{ minutes }}</div>\n          <p class="bk-label-time" :style="labelStyles">{{ settings.countdownClock.labelMins }}</p>\n        </li>\n        <li class="bk-wrapper-isolate" :style="numberStyles">:</li>\n        <li class="bk-wrapper-secs">\n          <div class="bk-secs bk-time" :style="numberStyles">{{ seconds }}</div>\n          <p class="bk-label-time" :style="labelStyles">{{ settings.countdownClock.labelSecs }}</p>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n'},978:function(t,e,i){var n,a,o={};n=i(979),Object.keys(n).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.warn("[vue-loader] modules/countdown_cart/components/social_proof.vue: named exports in *.vue files are ignored."),a=i(980),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(o).forEach(function(t){var e=o[t];r.computed[t]=function(){return e}})},979:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(i(16)),r=c(i(9)),n=c(i(35)),a=c(i(46)),s=c(i(521)),l=i(313),u=c(i(307));function c(t){return t&&t.__esModule?t:{default:t}}e.default={props:{isPowerUser:Boolean,widgets:Array,displayOptions:Object,stats:Object,iconPath:String,isMobile:Boolean,isPoweredBy:String,isBackendPreview:Boolean,sortPosition:Number},data:function(){return{conditionToShow:!0,showOnMobile:this.displayOptions.showOnMobile,availableWidget:!0,stroke:"dark"===this.displayOptions.theme?"white":"url(#linearGradient-1)",widgetSliderPosition:{},readyToShow:!1,hideSocialProof:!0,urlLanding:u.default.getUrlLandingPage(l.APP_CODE,"powered-by-countdown-cart"),timeToHide:0,fetched:!1}},watch:{displayOptions:{handler:function(t){this.timeToHide=parseInt(t.displayTime,10),this.$set("fetched","side-box"===t.widget_layout)},deep:!0},readyToShow:function(t){t&&a.default.trigger("ccart-ready")}},ready:function(){var t=this;this.start(),window.addEventListener("orientationchange",function(){t.widgetSliderPosition={},0===window.orientation?t.$set("isMobile",!0):t.$set("isMobile",!1),t.start()},!1)},methods:{setWidgetSliderPosition:function(){if(this.isMobile||this.isBackendPreview)this.$set("widgetSliderPosition",{});else{var t=parseInt(this.displayOptions.positionSlider,10),e=void 0;e="right"===this.displayOptions.desktopPosition||"left"===this.displayOptions.desktopPosition?50<=t?"bottom":"top":50<=t?"right":"left",t=50<=t?100-t:t,this.$set("widgetSliderPosition."+e,t+"%")}this.$set("readyToShow",!0)},start:function(){var t=this;this.$set("fetched","side-box"===this.displayOptions.widget_layout||-1===(0,n.default)(this.displayOptions).indexOf("widget_layout")),setTimeout(function(){t.showSocialProof()},this.isBackendPreview?0:5e3),this.showOnMobile||!this.isMobile||this.isBackendPreview||(this.conditionToShow=!1),this.setWidgetSliderPosition(),this.listenDisplayChangePreview(),this.listenWidgetChangePreview(),this.listenDeviceChangePreview()},listenDeviceChangePreview:function(){var e=this;a.default.listen("change-device",function(t){e.$set("isMobile",t),e.start()})},listenWidgetChangePreview:function(){var e=this;a.default.listen("change-widget",function(t){e.$set("widgets",t)})},listenDisplayChangePreview:function(){var e=this;a.default.listen("change-display",function(t){e.$set("displayOptions",t)})},showSocialProof:function(){var t=this;if(this.$set("hideSocialProof",!1),this.timeToHide=parseInt(this.displayOptions.displayTime,10),!this.isBackendPreview)var e=setInterval(function(){t.timeToHide-=1,0===t.timeToHide&&(clearInterval(e),t.$set("hideSocialProof",!0))},1e3)},hideSocialProofFunc:function(){this.isBackendPreview||this.$set("hideSocialProof",!this.hideSocialProof)}},computed:{showPowered:function(){return!this.isPowerUser&&this.isPoweredBy},showTimeToHide:function(){return 0<this.timeToHide},countdownCloseText:function(){var t=this.displayOptions.countdownCloseText;return t=t?t.replace("{countdown number}",this.timeToHide):"Closing in "+this.timeToHide+" seconds"},settingWidget:function(){var t="";t=this.isMobile?this.displayOptions.mobilePosition+" ":this.displayOptions.desktopPosition+" ",this.isBackendPreview&&(t+=" backend-preview ");var e="basic_theme"===this.displayOptions.theme?this.displayOptions.basicTheme:this.displayOptions.theme;return t+="holiday_theme"===this.displayOptions.theme?this.displayOptions.holidayTheme:e},convertedWidgets:function(){var n=this,t=JSON.parse((0,r.default)(this.widgets)),a=[];return t.forEach(function(t){var e=0;if(!1!==t.isEnable&&0<(e=n.stats[t.event])){e=(0,s.default)(e).format("0,0"),(0,o.default)(t,{message:t.message.replace("{{number}}",e)});var i=Number(t.icon.match(/\d+/g)[0]);21<i&&i<31?(0,o.default)(t,{iconConverted:""+n.iconPath+t.icon+".svg"}):(0,o.default)(t,{iconConverted:""+n.iconPath+t.icon+".png"}),"1"===e&&(0,o.default)(t,{message:t.message.replace("people have","person has")}),a.push(t)}}),a}}}},980:function(t,e){t.exports='\n<div id="bk-social-proof">\n  <div\n    v-if="fetched"\n    v-show="conditionToShow && convertedWidgets.length"\n    :style="widgetSliderPosition"\n    :class="[\'social-proof-container\', readyToShow ? \'\' : \'not-ready\', settingWidget, {\'bkt--social_hide\': hideSocialProof}, {\'lt-2\': convertedWidgets.length < 2}, { \'is-mobile\': isMobile }]"\n  >\n    <ul class="social-proof-wrapper">\n      <li v-for="widget in convertedWidgets">\n        <div class="wrapper-image">\n          <img class="icon-widget" v-lazy="widget.iconConverted"/>\n        </div>\n        <span class="message-widget">{{widget.message}}</span>\n      </li>\n      <li class="powered" v-if="showPowered || showTimeToHide">\n        <span v-if="showTimeToHide" class="time-to-hide">{{ countdownCloseText }}</span>\n        <a href="{{ urlLanding }}" target="_blank" v-if="showPowered">\n          <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            <defs>\n              <linearGradient x1="50%" y1="0%" x2="50%" y2="97.8256177%" id="linearGradient-1">\n                <stop stop-color="#445FFF" offset="0%"></stop>\n                <stop stop-color="#8008FF" offset="100%"></stop>\n              </linearGradient>\n            </defs>\n            <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">\n              <g id="Icons/Powered-by-Beeketing" transform="translate(1.000000, 1.000000)" :stroke="stroke">\n                <polygon id="Power" points="10 0 0 11 9 11 8 18 18 7 9 7"></polygon>\n              </g>\n            </g>\n          </svg><span v-if="sortPosition == 1"> by <span class="bk-special-txt">Beeketing</span></span>\n        </a>\n      </li>\n      <div for="hide-social_proof" :class="[\'social-proof_direction\', { \'is-mobile\': isMobile }]" @click="hideSocialProofFunc">\n        <span></span>\n        <span></span>\n      </div>\n      <li :class="[\'social-proof_direction__shadow\', { \'is-mobile\': isMobile }]"></li>\n    </ul>\n  </div>\n</div>\n'},981:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(3)),a=i(313),o=u(i(307)),r=u(i(330)),s=u(i(352)),l=u(i(118));function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:{settings:Object,stats:Object,isPowerUser:Boolean,isPoweredBy:String,isMobile:Boolean,sortPosition:Number,decreaseQuantity:Number,useAnimation:{type:Boolean,default:!0}},data:function(){return{urlLanding:o.default.getUrlLandingPage(a.APP_CODE,"powered-by-countdown-cart")}},ready:function(){var i=this,t=(0,n.default)(this.$root.$el.previousElementSibling),e=t.children();"left"===t.css("float")&&"bk-countdown-timer"!==t.attr("id")&&(this.$root.$el.style.float="left"),"left"===t.prev().css("float")&&"bk-countdown-timer"===t.attr("id")&&0===t.children().length&&(this.$root.$el.style.float="left"),"left"===t.css("float")&&"bk-countdown-timer"===t.attr("id")&&0!==t.children().length&&(this.$root.$el.style.float="left"),e.each(function(t,e){"left"===(0,n.default)(e).css("float")&&(i.$root.$el.style.float="left")}),this.useAnimation?setTimeout(function(){(0,n.default)(".progress-bar span").css("width",i.stats.stock_percentage+"%")},3e3):(0,n.default)(".progress-bar span").css("width",this.stats.stock_percentage+"%")},computed:{theme:function(){return this.settings.useHolidayTheme===this.settings.specialProgressBar.colorId?this.settings.theme:""},message:function(){var t=this.settings.message||"",e="actualNumber"!==this.settings.type&&"shopify"!==r.default.getShopPlatform()?this.decreaseQuantity:0,i=this.stats.stock_number-e;return i<=0&&(i=1),"percentage"===this.settings.type&&(i=this.stats.stock_percentage),t=t.trim(),t=t.replace(/{{stock_number}}/g,i),t=t.replace(/{{selling_number}}/g,this.stats.stock_number),t=t.replace(/(<\/?br>)+$/,""),t=t.replace(/<b[^>]*>/,'<b style="font-weight: bold;">'),t=t.replace(/<i[^>]*>/,'<i style="font-style: italic;">'),t=t.replace(/(\s*<\/?br>\s*)+((\s*<\/[^>]+>\s*)+)$/,"$'$2"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),s.default.fontMessage(t),t},runningColor:function(){return this.settings.specialProgressBar&&""!=this.settings.specialProgressBar.colorLeft&&""!=this.settings.specialProgressBar.colorRight&&""!=this.settings.specialProgressBar.colorId?{background:"linear-gradient(325.12deg, "+this.settings.specialProgressBar.colorLeft+" , "+this.settings.specialProgressBar.colorRight+")"}:{background:""+this.settings.runningColor}},backgroundColor:function(){return{background:""+this.settings.backgroundColor}},getClassFromCheckoutPage:function(){if("checkout"===l.default.getContext().type)return"stock-countdown-checkout"}}}},982:function(t,e){t.exports='\n<div class="bk-stock-countdown" :class="getClassFromCheckoutPage">\n  <div class="stock-countdown-message">\n    <div class="message">{{{message}}}</div>\n    <a href="{{ urlLanding }}" v-if="!isPowerUser && isPoweredBy" class="bkt--powered" target="_blank">\n      <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <defs>\n          <linearGradient x1="50%" y1="0%" x2="50%" y2="97.8256177%" id="linearGradient-1">\n            <stop stop-color="#445FFF" offset="0%"></stop>\n            <stop stop-color="#8008FF" offset="100%"></stop>\n          </linearGradient>\n        </defs>\n        <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">\n          <g id="Icons/Powered-by-Beeketing" transform="translate(1.000000, 1.000000)" stroke="url(#linearGradient-1)">\n            <polygon id="Power" points="10 0 0 11 9 11 8 18 18 7 9 7"></polygon>\n          </g>\n        </g>\n      </svg>\n      <span v-if="sortPosition == 1 && !isMobile"> by <i class="bk-special-txt">Beeketing</i></span>\n    </a>\n  </div>\n  <div v-if="settings.progressBarEnable" :class="[\'progress-bar blue stripes\', theme]" :style="backgroundColor">\n    <span :style="[runningColor]" :class="{\'no-transition\': !useAnimation}"></span>\n  </div>\n</div>\n'},983:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(3)),a=s(i(46)),o=s(i(118)),r=s(i(521));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:{isPowerUser:Boolean,widgets:Array,displayOptions:Object,stats:Object,iconPath:String,isMobile:Boolean,isPoweredBy:String,isBackendPreview:Boolean,sortPosition:Number},data:function(){return{fetched:!this.isBackendPreview&&this.displayOptions&&"embed"===this.displayOptions.widget_layout}},watch:{widgets:{handler:function(){var t=this;this.$nextTick(function(){t.fixStyleWithHeightWidget()})},deep:!0},displayOptions:{handler:function(t){var e=this;this.$set("fetched","embed"===t.widget_layout),this.$nextTick(function(){e.fixStyleWithHeightWidget()})},deep:!0},fetched:function(t){t&&(a.default.trigger("ccart-ready"),this.fixStyleWithHeightWidget())}},ready:function(){this.resolveConflictWithTheme(),this.setFetchedApp(),this.listenDisplayChangePreview(),this.listenWidgetChangePreview(),this.fixStyleWithHeightWidget()},computed:{getClassFromCheckoutPage:function(){if("checkout"===o.default.getContext().type)return"social-proof-checkout"}},methods:{listenWidgetChangePreview:function(){var e=this;a.default.listen("change-widget",function(t){e.$set("widgets",t)})},listenDisplayChangePreview:function(){var e=this;a.default.listen("change-display",function(t){e.$set("displayOptions",t)})},getWidgetMessage:function(t){var e="",i=Number(this.stats[t.event]);if(!(0<i))return!1;i=(0,r.default)(i).format("0,0");var n='<span style="color: '+this.displayOptions.number_color+'">'+i+"</span>";return e=t.message.replace("{{number}}",n),"1"===i&&(e=e.replace("people have","person has")),e},getWidgetIcon:function(t){var e=""+this.iconPath+t.icon+".png",i=Number(t.icon.match(/\d+/g)[0]);return 21<i&&i<31&&(e=""+this.iconPath+t.icon+".svg"),e},setFetchedApp:function(){!this.isMobile||this.isBackendPreview||"embed"!==this.displayOptions.widget_layout||this.displayOptions.showOnMobile?"embed"===this.displayOptions.widget_layout&&this.$set("fetched",!0):this.$set("fetched",!1)},resolveConflictWithTheme:function(){var i=this,t=(0,n.default)(this.$root.$el.previousElementSibling),e=t.children();"left"===t.css("float")&&(this.$root.$el.style.float="left"),e.each(function(t,e){"left"===(0,n.default)(e).css("float")&&(i.$root.$el.style.float="left")})},fixStyleWithHeightWidget:function(){(0,n.default)(".social-proof-embed .social-proof-widget").each(function(){Math.round((0,n.default)(this).find(".widget-message").outerHeight()/Number((0,n.default)(this).find(".widget-message").css("line-height").replace(/[a-z]+/,"")))<2&&(0,n.default)(this).addClass("widget-balance")})}}}},984:function(t,e){t.exports='\n<div class="bk-social-proof-embed" :class="getClassFromCheckoutPage">\n  <div class="social-proof-embed" v-if="fetched">\n    <div class="social-proof-widget"\n      v-for="item in widgets"\n      v-show="item.isEnable && getWidgetMessage(item)"\n      :style="{ color: displayOptions.text_color }"\n    >\n      <div class="wrapper-image">\n        <img class="icon-widget" v-lazy="getWidgetIcon(item)"/>\n      </div>\n      <div class="widget-message" v-html="getWidgetMessage(item)"></div>\n    </div>\n  </div>\n</div>\n'},985:function(t,b,w){"use strict";(function(r){Object.defineProperty(b,"__esModule",{value:!0});var g=n(w(35)),p=n(w(122)),o=n(w(9)),c=n(w(3)),t=n(w(70)),s=n(w(6)),l=n(w(330)),u=n(w(476)),d=n(w(388)),e=w(313),i=n(w(477)),f=n(w(478)),a=n(w(479)),h=n(w(15));function n(t){return t&&t.__esModule?t:{default:t}}var m=n(w(36)).default.assetsPath+"/"+e.APP_CODE+"/assets/images/",v={initialize:function(){var i=this,t=l.default.getCountdownTimerSettings(),n=JSON.parse((0,o.default)(l.default.getSocialProofSettings())),a=l.default.getStockCountdownSettings(),e=0<this.getProductRefIDFromCart().length?this.getProductRefIDFromCart():this.getProductRefIDFromCheckoutPage();t.enable&&t.showOnCheckoutPage&&this.isValidToShowCountDownTimer(t,e)&&this.countdownTimerInit(t),(a.enable&&a.showOnCheckoutPage||n.displayOptions.enable&&n.displayOptions.showOnCheckoutPage)&&e.forEach(function(e){d.default.getStatistic(e,function(t){setTimeout(function(){i.stockCountdownAndSocialProofPreInit(n,a,t,e)},300)})})},getProductRefIDFromCart:function(){var e=[];return t.default.current().items.forEach(function(t){-1===e.indexOf(t.productRefId)&&e.push(t.productRefId)}),e},getProductRefIDFromCheckoutPage:function(){var e=[];return(0,c.default)(".product").each(function(){if((0,c.default)(this).attr("data-product-id")){var t=parseInt((0,c.default)(this).attr("data-product-id"),10);-1===e.indexOf(t)&&e.push(t)}}),e},countdownTimerInit:function(t){var e=(0,c.default)(".main__content");e.length&&(e.prepend("<count-down/>"),new(r.extend(i.default))({el:"count-down",propsData:{settings:t,isMobile:h.default.isSmallScreen(),isPowerUser:l.default.getPowerUser(),isPoweredBy:s.default.getGlobalSetting("ccart_powered_by"),sortPosition:0,imgPath:m}}))},stockCountdownAndSocialProofPreInit:function(n,a,o,r){var s=this,l=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],u=(0,c.default)('tr[data-product-id="'+r+'"]');u.length&&(u.each(function(t){var e=r+"-"+t;if(0===(0,c.default)("#bk-id-"+e).length){var i='<tr id="bk-id-'+e+'" class="bk-ccart-checkout-page">\n          <td colspan=4>\n            <social-proof-embed-'+e+"/>\n            <stock-countdown-"+e+"/>\n          </td>\n        </tr>";(0,c.default)(u[t]).after(i),s.socialProofEmbedInit(n,o,e),s.isValidToShowStockCountDown(a,r)&&s.stockCountdownInit(a,o,r,l,e)}}),(0,c.default)(".product-table").on("DOMNodeInserted",function(t){"line-items"==(0,c.default)(t.target).attr("data-order-summary-section")&&s.stockCountdownAndSocialProofPreInit(n,a,o,r,!1)}))},socialProofEmbedInit:function(t,e,i){if(t.displayOptions.enable&&t.displayOptions.showOnCheckoutPage){var n=t;n.displayOptions.widget_layout="embed",n.widgets=n.widgets.filter(function(t){return-1!==["purchased_items"].indexOf(t.event)}),new(r.extend(a.default))({el:"social-proof-embed-"+i,propsData:{stats:e,iconPath:m,widgets:n.widgets,displayOptions:n.displayOptions,isMobile:h.default.isSmallScreen(),isPowerUser:l.default.getPowerUser(),isPoweredBy:s.default.getGlobalSetting("ccart_powered_by"),sortPosition:0,isBackendPreview:!1}})}},stockCountdownInit:function(t,e,i,n,a){if(t.enable&&t.showOnCheckoutPage&&e.real_stock_number){var o=u.default.caculateStockCountDownDecreaseQuantity(i);new(r.extend(f.default))({el:"stock-countdown-"+a,propsData:{settings:t,stats:e,isPowerUser:l.default.getPowerUser(),isPoweredBy:s.default.getGlobalSetting("ccart_powered_by"),isMobile:h.default.isSmallScreen(),sortPosition:0,decreaseQuantity:o,useAnimation:n}})}},getProductRefIdsFromSetting:function(t){var e=[];if("product"===t.page.type&&t.page.productIds.length){var i=!0,n=!1,a=void 0;try{for(var o,r=(0,p.default)(t.page.productIds);!(i=(o=r.next()).done);i=!0){var s=o.value;e.push((0,g.default)(s).find(function(t){return"ref_id"===t})?s.ref_id:Number(s))}}catch(t){n=!0,a=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw a}}}if(t.page.collectionIds.length&&t.page.collectionProductIds&&t.page.collectionProductIds.length&&"collection"===t.page.type){var l=!0,u=!1,c=void 0;try{for(var d,f=(0,p.default)(t.page.collectionProductIds);!(l=(d=f.next()).done);l=!0){var h=d.value;e.push((0,g.default)(h).find(function(t){return"ref_id"===t})?h.ref_id:Number(h))}}catch(t){u=!0,c=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}return e},isValidToShowCountDownTimer:function(t,e){var i=this.getProductRefIdsFromSetting(t);if(t.page&&t.page.enable&&i.length){for(var n=0;n<e.length;n++)if(-1!==i.indexOf(parseInt(e[n],10)))return!0;return!1}return!0},isValidToShowStockCountDown:function(t,e){var i=this.getProductRefIdsFromSetting(t);return!(t.page&&t.page.enable&&i.length)||-1!==i.indexOf(parseInt(e,10))}};b.default=v}).call(this,w(45))},986:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=d(i(71)),a=d(i(26)),o=d(i(34)),r=d(i(72)),s=d(i(73)),c=d(i(3)),l=d(i(367)),u=d(i(4));function d(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){(0,a.default)(this,e);var t=(0,r.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return(0,u.default)("Shopify constructor"),t}return(0,s.default)(e,t),(0,o.default)(e,[{key:"countdownTimerPreInit",value:function(i,n,a){var o=this,t=function(){if(!(0<(0,c.default)("#bk-cdown-timer-"+n).length||0<(0,c.default)("#bk-countdown-timer").length&&!i)){var t=i?(0,c.default)(".product-table tbody .product"):(0,c.default)(".main__content");if(t.length){if(i){var e='<tr id="bk-cdown-timer-'+n+'" class="bk-ccart-checkout-page">\n           <td colspan=4><count-down-'+n+"/></td></tr>";(0,c.default)(t[a]).after(e)}else t.prepend("<count-down/>");o.countdownTimerInit(i,n)}}};setTimeout(function(){t(),o.checkShopifyCheckoutPageReInsertDome(t)},200)}},{key:"stockCountdownAndSocialProofPreInit",value:function(n,a,o,r){var s=this,l=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],u=(arguments[5],(0,c.default)('tr[data-product-id="'+r+'"]'));if(u.length){u.each(function(t){var e=r+"-"+t;if(0===(0,c.default)("#bk-id-"+e).length){var i='<tr id="bk-id-'+e+'" class="bk-ccart-checkout-page">\n          <td colspan=4>\n            <social-proof-embed-'+e+"/>\n            <stock-countdown-"+e+"/>\n          </td>\n        </tr>";(0,c.default)(u[t]).after(i),s.socialProofEmbedInit(n,o,e),s.isValidToShowStockCountDown(a,r)&&s.stockCountdownInit(a,o,r,l,e)}});this.checkShopifyCheckoutPageReInsertDome(function(){s.stockCountdownAndSocialProofPreInit(n,a,o,r,!1)})}}},{key:"getProductRefIDs",value:function(){return 0<this.getProductRefIDFromCart().length?this.getProductRefIDFromCart():this.getProductRefIDFromCheckoutPage()}},{key:"getProductRefIDFromCheckoutPage",value:function(){var e=[];return(0,c.default)(".product").each(function(){if((0,c.default)(this).attr("data-product-id")){var t=parseInt((0,c.default)(this).attr("data-product-id"),10);-1===e.indexOf(t)&&e.push(t)}}),e}},{key:"checkShopifyCheckoutPageReInsertDome",value:function(e){(0,c.default)(".product-table").on("DOMNodeInserted",function(t){"line-items"==(0,c.default)(t.target).attr("data-order-summary-section")&&e()})}}]),e}(l.default);e.default=f},987:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=c(i(71)),a=c(i(26)),o=c(i(34)),r=c(i(72)),s=c(i(73)),f=c(i(3)),l=c(i(367)),u=c(i(4));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){(0,a.default)(this,e);var t=(0,r.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return(0,u.default)("Wordpress constructor"),t}return(0,s.default)(e,t),(0,o.default)(e,[{key:"countdownTimerPreInit",value:function(i,n,a){var o=this,t=function(){if(!(0<(0,f.default)("#bk-cdown-timer-"+n).length||0<(0,f.default)("#bk-countdown-timer").length&&!i)){var t=i?(0,f.default)(".shop_table tbody .cart_item"):(0,f.default)(".shop_table");if(t.length){if(i){var e='<tr id="bk-cdown-timer-'+n+'" class="bk-ccart-checkout-page">\n           <td colspan=4><count-down-'+n+"/></td></tr>";(0,f.default)(t[a]).after(e)}else t.after("<count-down/>");o.countdownTimerInit(i,n)}}};setTimeout(function(){(0,u.default)("cdown timer pre init"),t(),o.listenChangeOrderView(t,"ajax complete then init cdown timer")},2e3)}},{key:"stockCountdownAndSocialProofPreInit",value:function(o,r,s,l){var u=this,c=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],d=arguments[5],t=function(){var t=(0,f.default)(".shop_table tbody .cart_item");if(t.length){var e=""+l;if(0!==(0,f.default)("#bk-id-"+e).length)return;var i=!r.enable||!r.showOnCheckoutPage||!s.real_stock_number,n=!o.displayOptions.enable||!o.displayOptions.showOnCheckoutPage;if(!i||!n){var a='<tr id="bk-id-'+e+'" class="bk-ccart-checkout-page">\n          <td colspan=4>\n            <social-proof-embed-'+e+"/>\n            <stock-countdown-"+e+"/>\n          </td>\n        </tr>";(0,f.default)(t[d]).after(a),u.socialProofEmbedInit(o,s,e),u.isValidToShowStockCountDown(r,l)&&u.stockCountdownInit(r,s,l,c,e)}}};setTimeout(function(){t(),u.listenChangeOrderView(t,"ajax complete then init social proof and stock cdown")},2e3)}},{key:"listenChangeOrderView",value:function(n,a){if(void 0!==window.jQuery){var o=!1;window.jQuery(document).ajaxComplete(function(t,e,i){void 0===e||200!==e.status&&0!==e.status||void 0===i||o||((0,u.default)(a),setTimeout(function(){"function"==typeof n&&n()},1e3),o=!0)})}}}]),e}(l.default);e.default=d},988:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=f(i(71)),n=f(i(26)),o=f(i(34)),r=f(i(72)),s=f(i(989)),l=f(i(73)),u=f(i(3)),c=f(i(367)),d=f(i(4));function f(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){(0,n.default)(this,e);var t=(0,r.default)(this,(e.__proto__||(0,a.default)(e)).call(this));return(0,d.default)("SeoShop ccart checkout page constructor"),t}return(0,l.default)(e,t),(0,o.default)(e,[{key:"initialize",value:function(){var n=this;(0,s.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"initialize",this).call(this);new MutationObserver(function(t){var i=!1;t.forEach(function(t){t&&t.addedNodes&&t.addedNodes.length&&t.addedNodes.forEach(function(t){n.deepSearchClassInNode(t,"gui-table")&&(i=!0);var e=n.deepSearchTagNameInNode(t,"tr");e&&(0,u.default)(e).parents.length&&(i=!0)})}),i&&(0,s.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"initialize",n).call(n)}).observe(document.body,{childList:!0,subtree:!0})}},{key:"deepSearchClassInNode",value:function(t,e){if(t.classList&&t.classList.contains(e))return t;if(t.childNodes&&t.childNodes.length)for(var i=0;i<t.childNodes.length;i++){var n=this.deepSearchClassInNode(t.childNodes[i],e);if(n)return n}return!1}},{key:"deepSearchTagNameInNode",value:function(t,e){if(t.tagName===e)return t;if(t.childNodes&&t.childNodes.length)for(var i=0;i<t.childNodes.length;i++){var n=this.deepSearchTagNameInNode(t.childNodes[i],e);if(n)return n}return!1}},{key:"countdownTimerPreInit",value:function(t,e,i){var n=t?(0,u.default)(".gui-table tbody tr:not(.bk-ccart-checkout-page)"):(0,u.default)(".gui-table:not(.already-added-cdown-timer)");if(n.length){if(t){if(n[i].classList.contains("already-added-cdown-timer"))return;var a='<tr id="bk-cdown-timer-'+e+'" class="bk-ccart-checkout-page">\n           <td colspan=10><count-down-'+e+"/></td></tr>";(0,u.default)(n[i]).after(a),(0,u.default)(n[i]).addClass("already-added-cdown-timer")}else n.after("<count-down/>"),n.addClass("already-added-cdown-timer");this.countdownTimerInit(t,e)}}},{key:"stockCountdownAndSocialProofPreInit",value:function(t,e,i,n){var a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=arguments[5],r=(0,u.default)(".gui-table tbody tr:not(.bk-ccart-checkout-page)");if(r.length){if(r[o].classList.contains("already-added-stock-and-proof"))return;var s=""+n;if(0!==(0,u.default)("#bk-id-"+s).length)return;var l='<tr id="bk-id-'+s+'" class="bk-ccart-checkout-page">\n        <td colspan=10>\n          <social-proof-embed-'+s+"/>\n          <stock-countdown-"+s+"/>\n        </td>\n      </tr>";(0,u.default)(r[o]).after(l),(0,u.default)(r[o]).addClass("already-added-stock-and-proof"),this.socialProofEmbedInit(t,i,s),this.isValidToShowStockCountDown(e,n)&&this.stockCountdownInit(e,i,n,a,s)}}}]),e}(c.default);e.default=h},989:function(t,e,i){"use strict";e.__esModule=!0;var s=n(i(71)),l=n(i(990));function n(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,i,n){null===e&&(e=Function.prototype);var a=(0,l.default)(e,i);if(void 0===a){var o=(0,s.default)(e);return null===o?void 0:t(o,i,n)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(n):void 0}},990:function(t,e,i){t.exports={default:i(991),__esModule:!0}},991:function(t,e,i){i(992);var n=i(0).Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},992:function(t,e,i){var n=i(17),a=i(89).f;i(82)("getOwnPropertyDescriptor",function(){return function(t,e){return a(n(t),e)}})},993:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=h(i(35)),n=h(i(71)),o=h(i(26)),r=h(i(34)),s=h(i(72)),l=h(i(73)),c=h(i(3)),u=h(i(70)),d=h(i(367)),f=h(i(4));function h(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(){(0,o.default)(this,e);var t=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return t.elementLists={},t.unDefinedElementLists={},(0,f.default)("Bigcommerce constructor"),t}return(0,l.default)(e,t),(0,r.default)(e,[{key:"countdownTimerPreInit",value:function(a,o,t){var r=this;if(a){var e=this.elementLists[o],i=function(t){Array.isArray(t)&&t.forEach(function(t,e){var i=o+"-"+e;if(0===(0,c.default)("#bk-cdown-timer-"+i).length){var n='<div id="bk-cdown-timer-'+i+'" class="bk-ccart-checkout-page">\n              <count-down-'+i+"/>\n            </div>";t.after(n),r.countdownTimerInit(a,o,i)}})};if(e)return void i(e);this.tryToDetectByName(o,i)}else(0,c.default)(".checkout-steps").prepend("<count-down/>"),this.countdownTimerInit(a,o)}},{key:"stockCountdownAndSocialProofPreInit",value:function(a,o,r,s){var l=this,u=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],t=(arguments[5],this.elementLists[s]),e=function(t){Array.isArray(t)&&t.forEach(function(t,e){var i=s+"-"+e;if(0===(0,c.default)("#bk-id-"+i).length){var n='<div id="bk-id-'+i+'" class="bk-ccart-checkout-page">\n            <social-proof-embed-'+i+"/>\n            <stock-countdown-"+i+"/>\n          </div>";t.after(n),l.socialProofEmbedInit(a,r,i),l.isValidToShowStockCountDown(o,s)&&l.stockCountdownInit(o,r,s,u,i)}})};t?e(t):this.tryToDetectByName(s,e)}},{key:"getElementsFromDom",value:function(){var s=this,l=(0,c.default)("cart-item.product");l.each(function(t){var e=(0,c.default)(l[t]).find("img"),i=e.data("src")||e.attr("src")||e.css("background-image"),n=s.getProductRefIDFromImage(i);if(n){var a=s.elementLists[n];return a&&Array.isArray(a)?void(s.elementLists[n]=a.push((0,c.default)(l[t]))):void(s.elementLists[n]=[(0,c.default)(l[t])])}var o=e.attr("alt");if(o){var r=s.unDefinedElementLists[o];if(r&&Array.isArray(r))return void(s.unDefinedElementLists[o]=r.push((0,c.default)(l[t])));s.unDefinedElementLists[o]=[(0,c.default)(l[t])]}})}},{key:"getProductRefIDFromImage",value:function(t){var e=t&&t.match(/\/products\/([0-9]+)\//),i=null;return e&&e[1]&&(i=parseInt(e[1],10)),i}},{key:"tryToDetectByName",value:function(e,i){var n=this;0!==(0,a.default)(this.unDefinedElementLists).length&&u.default.current().items.forEach(function(t){t.productRefId===e&&(n.elementLists[e]=n.unDefinedElementLists[t.key],i(n.unDefinedElementLists[t.key]),delete n.unDefinedElementLists[t.key])})}}]),e}(d.default);e.default=g},994:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=c(i(71)),a=c(i(26)),o=c(i(34)),r=c(i(72)),s=c(i(73)),f=c(i(3)),h=c(i(311)),l=c(i(367)),u=c(i(4));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){(0,a.default)(this,e);var t=(0,r.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return(0,u.default)("constructor"),t}return(0,s.default)(e,t),(0,o.default)(e,[{key:"countdownTimerPreInit",value:function(i,n,a){var o=this,t=function(){if(!(0<(0,f.default)("#bk-cdown-timer-"+n).length||0<(0,f.default)("#bk-countdown-timer").length&&!i)){var t=i?(0,f.default)(".minicart-items-wrapper li.product-item > .product"):(0,f.default)(".opc-wrapper");if(t.length){if(i){var e='<div id="bk-cdown-timer-'+n+'" class="bk-ccart-checkout-page">\n           <count-down-'+n+"/></div>";(0,f.default)(t[a]).after(e)}else t.prepend("<count-down/>");o.countdownTimerInit(i,n)}}};setTimeout(function(){t(),o.listenChangeHash(t,"ajax complete then init cdown timer")},4e3)}},{key:"stockCountdownAndSocialProofPreInit",value:function(r,s,l,u){var c=this,d=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],t=function(){var o=(0,f.default)(".minicart-items-wrapper li.product-item > .product");o.length&&o.each(function(i){var n=""+u;if(0===(0,f.default)("#bk-id-"+n).length){var a=(0,f.default)(o[i]).find(".product-item-name");a&&h.default.getProductByRefId(u,function(t){if(t.title===a.html()){var e='<tr id="bk-id-'+n+'" class="bk-ccart-checkout-page">\n            <td colspan=4>\n              <social-proof-embed-'+n+"/>\n              <stock-countdown-"+n+"/>\n            </td>\n          </tr>";(0,f.default)(o[i]).after(e),c.socialProofEmbedInit(r,l,n),c.isValidToShowStockCountDown(s,u)&&c.stockCountdownInit(s,l,u,d,n)}})}})};setTimeout(function(){t(),c.listenChangeHash(t,"ajax complete then init social proof and stock cdown")},5e3)}},{key:"listenChangeHash",value:function(a,o){if(void 0!==window.jQuery){var r=!1;window.jQuery(document).ajaxComplete(function(t,e,i){if(void 0!==e&&(200===e.status||0===e.status)&&void 0!==i){var n=window.location.hash;r||-1===n.indexOf("#shipping")&&-1===n.indexOf("#payment")||((0,u.default)(o),setTimeout(function(){"function"==typeof a&&a()},1e3),r=!0)}})}}}]),e}(l.default);e.default=d},995:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=d(i(71)),a=d(i(26)),o=d(i(34)),r=d(i(72)),s=d(i(73)),u=d(i(3)),l=d(i(367)),c=d(i(4));function d(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){(0,a.default)(this,e);var t=(0,r.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return(0,c.default)("constructor"),t}return(0,s.default)(e,t),(0,o.default)(e,[{key:"countdownTimerPreInit",value:function(t,e,i){var n=t?(0,u.default)(".wsite-checkout-cart__item"):(0,u.default)(".js-page-title-region");if(n.length){if(t){var a='<tr id="bk-cdown-timer-'+e+'" class="bk-ccart-checkout-page">\n           <td colspan=4><count-down-'+e+"/></td></tr>";(0,u.default)(n[i]).after(a)}else{if(0!==(0,u.default)("#bk-countdown-timer").length)return;n.prepend("<count-down/>")}this.countdownTimerInit(t,e)}}},{key:"stockCountdownAndSocialProofPreInit",value:function(t,e,i,n){var a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=arguments[5],r=(0,u.default)(".wsite-checkout-cart__item");if(r.length){var s=""+n;if(0!==(0,u.default)("#bk-id-"+s).length)return;var l='<tr id="bk-id-'+s+'" class="bk-ccart-checkout-page">\n        <td colspan=4>\n          <social-proof-embed-'+s+"/>\n          <stock-countdown-"+s+"/>\n        </td>\n      </tr>";(0,u.default)(r[o]).after(l),this.socialProofEmbedInit(t,i,s),this.isValidToShowStockCountDown(e,n)&&this.stockCountdownInit(e,i,n,a,s)}}}]),e}(l.default);e.default=f},996:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=m(i(52)),n=m(i(132)),w=m(i(122)),y=m(i(16)),k=m(i(35)),c=m(i(47)),a=m(i(48)),o=m(i(45)),M=m(i(3)),d=m(i(20)),N=m(i(4)),F=m(i(300)),B=m(i(25)),r=m(i(6)),_=i(27),l=m(i(50)),T=m(i(311)),S=m(i(330)),C=m(i(46)),u=m(i(15)),f=m(i(997)),h=m(i(523)),g=m(i(36)),R=i(313),p=m(i(119)),j=m(i(352));function m(t){return t&&t.__esModule?t:{default:t}}e.default={isEnableLabel:function(){var t=S.default.getCountdownTimerSettings();return t.enable&&!0===t.enable_show_timer_label},init:function(){var i=this;return(0,a.default)(c.default.mark(function t(){var e;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.productImageType="background",i.timerLabelInitVersion=1,t.next=4,p.default.isInTestGroup(R.CCART_SHOW_DIFFERENCE_COUNTDOWN_TIMER);case 4:return e=t.sent,i.countDownTimerSettings=S.default.getCountdownTimerSettings(),i.isDiffTimer=e,t.next=9,p.default.isInTestGroup(R.CCART_COUNTDOWN_TIMER_LABEL_UNDER_PRODUCT_IMAGE);case 9:if(i.countDownTimerSettings.isUnderImageAbTest=t.sent,i.countDownTimerSettings.isUnderImageAbTest&&"underProductImage"===i.countDownTimerSettings.label_timer_type)return t.next=13,i.detectGridLayout();t.next=14;break;case 13:i.gridItemParent&&setTimeout(function(){var t=0,e=setInterval(function(){(i.gridItemParent.attr("bkt-defined")||10<t)&&clearInterval(e),i.redetectAndUpdateGridLayout(),t++},1e3)},500);case 14:case"end":return t.stop()}},t,i)}))()},initPreview:function(){var s=this,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,u=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return(0,a.default)(c.default.mark(function t(){var e,i,n,a,o,r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="#preview-countdownt-timer-label-stick",i=(0,M.default)(e+" #image-preview"),n=S.default.getCountdownTimerSettings(),i.is(":visible")){t.next=5;break}return t.abrupt("return");case 5:l&&(n=l),a='<div class="bkt-product-countdown-timer-in-list-wrapper" id="bkt-product-countdown-timer-in-list-wrapper-0"><div class="bk-countdown-timer-label bk-hidden-label" id="bkt-countdown-timer-product-0"></div></div>',o={clockId:"bkt-countdown-timer-clock-0",imageWidth:i.width(),imageHeight:i.height(),imageOffsetTop:0,imageOffsetLeft:0},r={secondsSpecific:0,timeStart:0,isDynamicTimer:!1,timerId:0},(0,N.default)("Start CCart Timer Label Preview"),function(){n.isUnderImageAbTest=!0,n.isMobilePreview=u,(0,M.default)("#bkt-product-countdown-timer-in-list-wrapper-0").remove(),n.isUnderImageAbTest&&"underProductImage"===n.label_timer_type?((0,M.default)(e).after(a),(0,M.default)("#bkt-countdown-timer-product-0").css("position","inherit")):(0,M.default)(i).before(a);var t=s.initTimerLabelComponent(n,o,r);t.isVisibleOnScreen=!0,t.$mount("#bkt-countdown-timer-product-0")}();case 12:case"end":return t.stop()}},t,s)}))()},initCountdownTimerRelatedElement:function(){var t=this,e=this.getProductItemImageInList();this.applyCountdownTimer(e);var i=void 0;(0,M.default)(window).resize(function(){clearTimeout(M.default.data(t,"labelWindowResize")),M.default.data(t,"labelWindowResize",setTimeout(function(){clearTimeout(i),i=setTimeout(function(){t.timerLabelInitVersion+=1,(0,M.default)(document).trigger("windowResizeEnd")},500)},200))});var n=void 0;(0,M.default)(window).scroll(function(){clearTimeout(M.default.data(t,"labelScrollTimer")),M.default.data(t,"labelScrollTimer",setTimeout(function(){clearTimeout(n),n=setTimeout(function(){(0,M.default)(document).trigger("timer-label-scroll")},100)},200))})},applyCountdownTimer:function(i){var r=this,t=(0,k.default)(i);if(!t.length)return[];this.timers=(0,y.default)({});var s=[],l=this.countDownTimerSettings;if(!this.isDiffTimer){if(l.page.productIds.length&&"product"===l.page.type){var e=l.page.productIds,n=!0,a=!1,o=void 0;try{for(var u,c=(0,w.default)(e);!(n=(u=c.next()).done);n=!0){var d=u.value;s.push((0,k.default)(d).find(function(t){return"ref_id"===t})?d.ref_id:Number(d))}}catch(t){a=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}}if(l.page.collectionProductIds&&l.page.collectionProductIds.length&&"collection"===l.page.type){var f=l.page.collectionProductIds,h=!0,g=!1,p=void 0;try{for(var m,v=(0,w.default)(f);!(h=(m=v.next()).done);h=!0){var b=m.value;s.push((0,k.default)(b).find(function(t){return"ref_id"===t})?b.ref_id:Number(b))}}catch(t){g=!0,p=t}finally{try{!h&&v.return&&v.return()}finally{if(g)throw p}}}}return T.default.getProductsByHandles(t,function(t){var e=[];t.forEach(function(o){-1===e.indexOf(o.handle)&&(i[o.handle].forEach(function(t,e){if(r.isDiffTimer)if(l.is_use_dynamic_countdown_timer){var i=S.default.getTimers(),n=i.length;if(!n)return;for(var a=0;a<n;a++)-1!==i[a].target_product_ref_ids.indexOf(Number(o.refId))&&(r.timers[o.refId]=i[a],r.generateLabelData(t,o,e))}else r.generateLabelData(t,o,e);else l.page&&l.page.enable?0<s.length&&-1!==s.indexOf(parseInt(o.refId,10))&&r.generateLabelData(t,o,e):r.generateLabelData(t,o,e)}),e.push(o.handle))}),C.default.trigger(_.CCART_APPLY_COUNTDOWN_TIMER_PRODUCT_LIST,[])}),[]},generateLabelData:function(t,e,i){var n=this,a='*[bkt-product-countdown-timer-link-id*="'+e.refId+'-"]',o=i+(0,M.default)(a).length;t.linkElement.attr("bkt-product-countdown-timer-link-id",e.refId+"-"+o),t.imageAttackList.forEach(function(t){return("image"!==n.productImageType||t.imageElement.is("img"))&&(t.attackedElement.attr("bkt-product-attacked-id")||t.attackedElement.attr("bkt-product-attacked-id",e.refId+"-"+o),0<t.imageElement.parents(":hidden").length?t.attackedElement.attr("bkt-timer-label-init-failed",!0):"true"!==t.imageElement.attr("bkt-product-image")&&(t.imageElement.attr("bkt-product-image",!0),t.imageElement.attr("bkt-product-image-id",e.refId+"-"+o),"true"===t.attackedElement.attr("bkt-product-attacked")?t.attackedElement.attr("bkt-product-attacked-type","slice"):t.attackedElement.attr("bkt-product-attacked",!0))),!0})},displayCountdownTimer:function(){var s=this;this.initTemplateCountdownClock(),(0,M.default)("*[bkt-product-attacked=true]").each(function(t,e){for(var i=(0,M.default)(e).attr("bkt-product-attacked-id"),n=(0,M.default)("*[bkt-product-image-id="+i+"]"),a=0;a<n.length;a++){var o=n.get(a);if("image"===s.productImageType)o.complete&&0<o.naturalWidth?setTimeout(function(){s.initCountdownTimerLabelById(i)},100):n.on("load",function(){setTimeout(function(){s.initCountdownTimerLabelById(i)},500)});else{var r=new Image;r.src=s.getBackgroundImageUrl(n),u.default.isIEorEdge()||u.default.isSafari()?setTimeout(function(){s.initCountdownTimerLabelById(i)},2e3):r.onload=function(){setTimeout(function(){s.initCountdownTimerLabelById(i)},500)}}}})},initTemplateCountdownClock:function(){var r=this,s=this.calculateTimeFromSetting();if("light"===this.countDownTimerSettings.theme)var l=0,u=setInterval(function(){l++;var t=Math.floor(s/24/60/60),e=Math.floor(s-86400*t),i=Math.floor(e/3600),n=Math.floor(e-3600*i),a=Math.floor(n/60),o=s%60;o<10&&(o="0"+o),h.default.seconds=o,h.default.days=r.addZeroNumber(t),h.default.hours=r.addZeroNumber(i),h.default.minutes=r.addZeroNumber(a),0===s?(h.default.timeExpired=!0,r.isNotRepeatCountdownTimer()||(s=r.calculateTimeFromSetting(),d.default.set("ccart_repeat_countdown_timer_label_expired",1)),clearInterval(u)):(h.default.timeExpired=!1,s--),10===l&&(l=0)},1e3)},findOverFlowHidden:function(t){for(var e={width:0,height:0},i=t,n=0;n<5;n++){if(!i.length||i.is("body"))return!1;if("hidden"===i.css("overflow")){var a=this.getClientSizeOfElement(i.get(0));if(e.width=a.width,e.height=a.height,i.parent().length){var o=this.findOverFlowHidden(i.parent());if(!1!==o){var r=o.bounderSize;(r.width<a.width||r.height<a.height)&&(i=i.parent(),e.width=r.width<e.width?r.width:e.width,e.height=r.height<e.height?r.height:e.height)}}return{element:i,bounderSize:e}}i=i.parent()}return!1},getDisplayedInsideStickElement:function(t,e){for(var i=0;i<t.length;i++){var n=(0,M.default)(t.get(i)),a=this.getLabelOffset(n,e),o=this.getClientSizeOfElement(e.get(0)),r=parseInt(.8*o.width,10),s=parseInt(.8*o.height,10);if(a.left<r&&a.top<s)return n}return!1},initTimerLabelComponent:function(t,e,i){var n=new(o.default.extend({data:function(){return{settings:{},isMobile:!!t.isMobilePreview||u.default.isSmallScreen(),isPowerUser:S.default.getPowerUser(),isPoweredBy:r.default.getGlobalSetting("ccart_powered_by"),imgPath:g.default.assetsPath+"/"+R.APP_CODE+"/assets/images/",isBackendPreview:S.default.getAppSettings().isBackendPreview,clockId:"",labelId:"",imageWidth:0,imageHeight:0,isVisibleOnScreen:!0,isReady:!1,secondsSpecific:0,timeStart:0,isDynamicTimer:!1,timerId:0}},template:'<div>\n        <countdown-timer-label-component\n          :is-mobile="isMobile"\n          :is-powered-by="isPoweredBy"\n          :settings="settings"\n          :is-power-user="isPowerUser"\n          :img-path="imgPath"\n          :image-width="imageWidth"\n          :image-height="imageHeight"\n          :image-offset-top="imageOffsetTop"\n          :image-offset-left="imageOffsetLeft"\n          :clock-id="clockId"\n          :seconds-specific="secondsSpecific"\n          :time-start="timeStart"\n          :is-dynamic-timer="isDynamicTimer"\n          :is-backend-preview="isBackendPreview"\n          :timer-id="timerId"\n          :is-visible-on-screen="isVisibleOnScreen">\n        </countdown-timer-label-component>\n      </div>',components:{CountdownTimerLabelComponent:f.default},events:{"clock-ready":function(){this.isReady=!0},"time-expired":function(){}}}));return n.clockId=e.clockId,n.imageWidth=e.imageWidth,n.imageHeight=e.imageHeight,n.imageOffsetTop=e.imageOffsetTop,n.imageOffsetLeft=e.imageOffsetLeft,n.zIndex=e.zIndex,n.secondsSpecific=i.secondsSpecific,n.timeStart=i.timeStart,n.isDynamicTimer=i.isDynamicTimer,n.timerId=i.timerId,n.settings=t,n},initCountdownTimerLabelById:function(a){var o=this,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=a.split("-")[0];e=Number(e);var i="#bkt-countdown-timer-product-"+a;if(!(0<(0,M.default)(i).length)){for(var n=(0,M.default)("*[bkt-product-image-id="+a+"]"),r=!1,s=0;s<n.length;s++){var l=(0,M.default)(n.get(s)),u=this.getClientSizeOfElement(l.get(0));if(this.isValidSizeImage(u)){r=!0;break}}if(r){var c=(0,M.default)("*[bkt-product-attacked-id="+a+"]"),d="";void 0!==window.bktTimerLabelStickElementSelector&&""!==window.bktTimerLabelStickElementSelector&&(d=window.bktTimerLabelStickElementSelector),c.closest(d).length&&(c=c.closest(d)),(0,N.default)("Init count down timer label");var f=M.default.extend(!0,{},this.countDownTimerSettings),h=0,g=0,p=!1,m=0;this.isDiffTimer&&f.is_use_dynamic_countdown_timer&&(h=j.default.convertTimerSettingToTimestamp({type:this.timers[e].duration_type,value:this.timers[e].duration}),g=this.timers[e].timer_started_at,p=this.isDiffTimer&&f.is_use_dynamic_countdown_timer,m=this.timers[e].id);var v=f.isUnderImageAbTest&&"underProductImage"===f.label_timer_type,b="",w="",y="";v||"table-cell"!==c.css("display")||(b="display:table-caption;"),v&&(w+="position: inherit !important;",y+="bkt-show-under-image");var k='<div class="bkt-product-countdown-timer-in-list-wrapper '+y+'" id="bkt-product-countdown-timer-in-list-wrapper-'+a+'" style="'+b+'"><div class="bk-countdown-timer-label bk-hidden-label" id="bkt-countdown-timer-product-'+a+'" style="'+w+'"></div></div>',_=this.getLabelInfo(c,n),T=_.$labelImage;if(v){var S=this.findGreatestImageWrapper(T,c);if(void 0!==window.bktTimerLabelUnderImageTitleElment&&""!==window.bktTimerLabelUnderImageTitleElment){var C=window.bktTimerLabelUnderImageTitleElment;if(!c.parent().find(C).length)return;c.parent().find(C).before(k)}else if(S.parent().is('[bkt-product-countdown-timer-link-id="'+a+'"]')){var I=S.next();I.hasClass("product-card__info")?I.prepend(k):S.after(k)}else{this.findTitleWrapper(S).before(k)}}else c.prepend(k);_.imageWidth<R.COUNTDOWN_TIMER_MINIMUM_WIDTH&&(f.label_timer_size="small",f.position_label_timer=f.position_label_timer.replace(/-(.*).$/i,"-center"));var P=(0,M.default)("#bkt-product-countdown-timer-in-list-wrapper-"+a),x=(0,M.default)(i);P.attr("bkt-countdown-timer-init-version",this.timerLabelInitVersion),v&&"table"===P.parent().css("display")&&P.css("display","table-row"),_=this.reupdateWidgetSizeInfoBaseOnCountdownLabelWrapper(P,_,v);var O={clockId:"bkt-countdown-timer-clock-"+a,imageWidth:_.imageWidth,imageHeight:_.imageHeight,imageOffsetTop:_.imageOffsetTop,imageOffsetLeft:_.imageOffsetLeft},E={secondsSpecific:h,timeStart:g,isDynamicTimer:p,timerId:m},L=this.initTimerLabelComponent(f,O,E);L.isVisibleOnScreen=this.isVisibleLabel(T,{scrollTop:(0,M.default)(window).scrollTop(),innerHeight:(0,M.default)(window).innerHeight()}),L.isVisibleOnScreen&&F.default.get(x,L);var D={};"weebly"===B.default.currentKey()&&(0,M.default)(document).on("mouseout",'a[bkt-product-countdown-timer-link-id="'+a+'"], [bkt-product-attacked-id="'+a+'"]',function(){D[a]&&clearTimeout(D[a]),D[a]=setTimeout(function(){if(L){var t=document.getElementById("bkt-countdown-timer-product-"+a);t.innerHTML="",t.appendChild(L.$el),clearTimeout(D[a]),D[a]=null}else setTimeout(function(){(0,M.default)("#bkt-product-countdown-timer-in-list-wrapper-"+a).remove(),o.initCountdownTimerLabelById(a)},500)},1600)}),(0,M.default)(document).on("windowResizeEnd",function(t){if(L){var e={scrollTop:(0,M.default)(window).scrollTop(),innerHeight:(0,M.default)(window).innerHeight()};(o.isVisibleLabel(T,e)||o.isVisibleLabel(P,e))&&(L=null,P.remove(),o.initCountdownTimerLabelById(a),(0,M.default)(document).unbind(t))}else(0,M.default)(document).unbind(t)});var A=void 0;(0,M.default)(document).on("timer-label-scroll",function(t){if(L){var e=L.$get("isVisibleOnScreen"),i={scrollTop:(0,M.default)(window).scrollTop(),innerHeight:(0,M.default)(window).innerHeight()},n=o.isVisibleLabel(T,i)||o.isVisibleLabel(P,i);if(n)if(parseInt(P.attr("bkt-countdown-timer-init-version"),10)<o.timerLabelInitVersion)return L=null,P.remove(),o.initCountdownTimerLabelById(a),void(0,M.default)(document).unbind(t);e!==n&&(n&&!L.$get("isReady")?(clearTimeout(A),A=setTimeout(function(){L.$set("isVisibleOnScreen",n)},100),F.default.get(x,L)):(clearTimeout(A),A=setTimeout(function(){L.$set("isVisibleOnScreen",n)},10)))}})}else t||n.on("load",function(){setTimeout(function(){o.initCountdownTimerLabelById(a,!0)},500)})}},getLabelInfo:function(t,e){var i={},n=!1,a={width:0,height:0};if("hidden"===t.css("overflow")){n=this.getDisplayedInsideStickElement(e,t),a=this.getClientSizeOfElement(n.get(0));var o=this.getClientSizeOfElement(t.get(0));a.width=o.width<a.width?o.width:a.width,a.height=o.height<a.height?o.height:a.height}else{if(!1===(n=this.getDisplayedInsideStickElement(e,t)))return i;a=this.getClientSizeOfElement(n.get(0))}var r=0,s=0,l=a.width,u=a.height;if(n.is("img"))l-=(r=parseInt(n.css("padding-left"),10))+parseInt(n.css("padding-right"),10),u-=(s=parseInt(n.css("padding-top"),10))+parseInt(n.css("padding-bottom"),10);else{var c=this.getBackgroundImageSize(n);l=c.width,u=c.height,r=c.left,s=c.top}i.imageWidth=l,i.imageHeight=u;var d=this.getLabelOffset(n,t),f=d.top+s,h=d.left+r;return i.imageOffsetTop=0<f?f:0,i.imageOffsetLeft=0<h?h:0,i.$labelImage=n,i},isVisibleLabel:function(t,e){if(!t||!t.length)return!1;var i=0<e.scrollTop?e.scrollTop:0,n=i+e.innerHeight,a=this.getElementOffset(t.get(0)).top,o=a+t.outerHeight();return a<=n&&i<=o},getProductItemImageInList:function(){var u=this,c=B.default.current().element.getProductLinkConfigs(),t=c.selector,d={},e=(0,M.default)(t).not(".beeketing-page-block a, [bkt-product-countdown-timer-label-link]");if(0===e.length)return d;e.attr("bkt-product-countdown-timer-label-link",!0);var f="";void 0!==window.bktTimerLabelExcludedSelector&&""!==window.bktTimerLabelExcludedSelector&&(f=window.bktTimerLabelExcludedSelector);var h=[];return e.each(function(){var t=(0,M.default)(this);if(""!==f)for(var e=(0,M.default)(""+f),i=0;i<e.length;i++)if(M.default.contains(e[i],t.get(0)))return!0;var n=u.getValidImageBelongToProductItem(t);if(!1!==n){var a=c.extractHandle(t.prop("href"));if(a){d[a]=d[a]||[];for(var o=[],r=0;r<n.length;r++){var s=n[r],l=u.getStickElement(s,t);u.isAvailableImage(h,s)||o.push({imageElement:s,attackedElement:l}),"image"!==u.productImageType&&s.is("img")&&(u.productImageType="image"),h.push(s)}0<o.length&&d[a].push({linkElement:t,imageAttackList:o})}}return!0}),(0,k.default)(d).length&&"wordpress"===B.default.currentKey()&&(d=this.validElementsWordPress(d)),d},getValidImageBelongToProductItem:function(t){return!!t.attr("href")&&B.default.current().element.findSurroundingImagesByElement(t)},findTitleWrapper:function(t){var a=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=t.nextAll();if(!i.length)for(var n=t.parent(),o=0;o<3&&!(i=n.nextAll()).length;o++)n=n.parent();var r=[];return i.each(function(t,e){var i=(0,M.default)(e);if(a.hasText(i)){if(i.hasClass("card-figcaption")||i.hasClass("quick_shop")||i.hasClass("card-body")||i.hasClass("product-grid__button")||i.hasClass("description")&&"absolute"===i.css("position"))return!0;if(i.is('[bkt-product-countdown-timer-label-link="true"]')||i.hasClass("product-item-actions")||i.hasClass("product-grid__info")||i.hasClass("product-title"))return r[0]||(r[0]=i),!0;var n=i.find('[bkt-product-countdown-timer-label-link="true"]:first');if(n.length)return r[1]||(r[1]=n),!0;r[2]||(r[2]=i)}return!0}),(r=r.filter(function(t){return t&&t.length})).length?r.shift():1===e?(0,M.default)(i.get(0)):this.findTitleWrapper(t.parent(),1)},getStickElement:function(i,t){var e=void 0;M.default.contains(t.get(0),i.get(0))&&(e=t);var n=t.siblings().filter(function(t,e){return M.default.contains(e,i.get(0))});n.length&&(e=(0,M.default)(n[0])),e||i.siblings().is(t)&&(e=t.parent());var a=this.findOverFlowHidden(e);if(!1!==a){var o=this.getClientSizeOfElement(e.get(0)),r=this.getClientSizeOfElement(a.element.get(0));if(r.width<=2*o.width&&r.height<=2*o.height)return a.element}return e},getBackgroundImageUrl:function(t){var e="",i=t.css("background-image").match(/url\(['|"](.+)['|"]\)/);return i&&(e=i[1]),e},getBackgroundImageSize:function(t){var e=this.getClientSizeOfElement(t.get(0)),i=t.css("background-size"),n=new Image;n.src=this.getBackgroundImageUrl(t);var a=n.width,o=n.height,r=e.width,s=e.height,l=0,u=0;if(0!==a&&"contain"===i){var c=a/r,d=o/s;c<=d&&(r=parseFloat(a*(s/o))),d<c&&(s=parseFloat(o*(r/a))),l=Math.abs((e.width-r)/2),u=Math.abs((e.height-s)/2)}return{width:r,height:s,left:l,top:u}},isAvailableImage:function(t,e){if(0===t.length)return!1;for(var i=0;i<t.length;i++)if(t[i].is(e))return!0;return!1},isValidSizeImage:function(t){var e={width:110,height:0};-1!==navigator.userAgent.indexOf("Mobile")&&(e={width:75,height:0});var i=parseFloat(t.width),n=parseFloat(t.height);return i>=e.width&&n>=e.height},getClientSizeOfElement:function(t){var e=t.getBoundingClientRect();return{width:parseFloat(e.width),height:parseFloat(e.height)}},getLabelOffset:function(t,e){var i=this.getElementOffset(t.get(0)),n=this.getElementOffset(e.get(0)),a=i.top-n.top,o=i.left-n.left;return{top:a<0?0:a,left:o<0?0:o}},getElementOffset:function(t){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+n,left:e.left+i}},validElementsWordPress:function(o){var r=o;return(0,n.default)(o).forEach(function(t){var e=(0,s.default)(t,2),i=e[0],n=e[1],a=i+"/";i&&!i.endsWith("/")&&void 0===o[a]&&(r[a]=n)}),r},findGreatestImageWrapper:function(t,e){var i=t;this.hasText(e)||(i=e);for(var n=0;n<5;n++)if(this.hasText(i)||this.hasText(i.parent())){var a=this.getClientSizeOfElement(t.get(0)),o=this.getClientSizeOfElement(i.get(0));if(o.width<=2*a.width||o.height<=2*a.height)return i}else i=i.parent();return t},hasText:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=Number(e);return void 0!==window.bktTimerLabelDefaultTextLength&&""!==window.bktTimerLabelDefaultTextLength&&(i=window.bktTimerLabelDefaultTextLength),!(t.clone().find("style,script,noscript,.sale-new").remove().end().text().trim().length<i)},calculateTimeFromSetting:function(){var t=0,e=(new Date).getTime()/1e3;(t=this.isNotRepeatCountdownTimer()?this.countDownTimerSettings.countdownClock.timeStart:l.default.get("cdcart_start")||0)&&(t=parseInt(t,10));var i=void 0;switch(this.countDownTimerSettings.countdownClock.type){case"days":i=86400;break;case"minutes":i=60;break;case"hours":default:i=3600}var n=i*(parseInt(this.countDownTimerSettings.countdownClock.value,10)||1);return n<e-t&&(this.isNotRepeatCountdownTimer()||(t=e,l.default.set("cdcart_start",t,100,1))),Math.floor(n-(e-t))},isNotRepeatCountdownTimer:function(){return!this.countDownTimerSettings.repeatCountdownTimer&&this.countDownTimerSettings.countdownClock.timeStart},addZeroNumber:function(t){var e=t;return e<10&&(e="0"+e),e},reupdateWidgetSizeInfoBaseOnCountdownLabelWrapper:function(t,e,i){var n=(0,y.default)({},e),a=t.offset(),o=t.parent().offset(),r=0,s=0;return a&&o&&(r=a.top-o.top,s=a.left-o.left),i||(0<r&&(n.imageOffsetTop-=r),0<s&&(n.imageOffsetLeft-=s)),n},detectLoadMoreAction:function(){var e=this,t=".infinite-scrolling-homepage a";void 0!==window.bktTimerLabelLoadMoreElement&&""!==window.bktTimerLabelLoadMoreElement&&(t=window.bktTimerLabelLoadMoreElement),t.split(",").forEach(function(t){(0,M.default)(t).length&&(0,M.default)(t).on("click",function(){e.removeBktAttributeAndReInitFunction()})})},removeBktAttributeAndReInitFunction:function(){var t=(0,M.default)('[bkt-timer-label-init-failed="true"]');0<t.length&&(t.each(function(){var t=(0,M.default)(this).attr("bkt-product-attacked-id"),e=(0,M.default)('[bkt-product-countdown-timer-link-id="'+t+'"]');(0,M.default)(this).removeAttr("bkt-product-attacked-id bkt-timer-label-init-failed"),e.removeAttr("bkt-product-countdown-timer-label-link bkt-product-countdown-timer-link-id")}),this.initCountdownTimerRelatedElement())},detectGridLayout:function(){var o=this;this.gridElement=this.getGridElement(),this.gridElement&&(this.gridItemLength=(0,M.default)(this.gridElement).length,this.gridItemParent=(0,M.default)(this.gridElement).parent(),this.gridItemParentHeight=parseFloat(this.gridItemParent.css("height"),10),0!==this.gridItemParentHeight&&(this.type=this.checkGridType((0,M.default)(this.gridElement).first()),this.column=Math.floor(this.gridItemParent.width()/(0,M.default)(this.gridElement).width()),this.preDefinedGridItemRelation(),C.default.listen(R.CCART_TIMER_LABEL_UNDER_IMAGE_READY,function(t){var e=t.clock.parents(o.gridElement),i=0,n=0,a=0;switch(e.attr("bk-timer-label-height",t.timerHeight),o.type){case"topleft-layout":if((n=e.attr("bkt-col"))<1)break;(i=o.reupdateTopLeftGridLayout(n))>o.gridItemParentHeight&&(o.gridItemParentHeight=i,o.gridItemParent.css("height",o.gridItemParentHeight));break;case"height-layout":if((a=e.attr("bkt-row"))<1)break;o.reupdateHeightGridLayout(a);break;default:(0,N.default)("Layout not support")}})))},getGridElement:function(){var t=".grid__item, .collection-grid-item, .layout-grid-item, .product-grid".split(","),e=null;return t.forEach(function(t){0<(0,M.default)(t).length&&!e&&(e=t)}),e},checkGridType:function(t){return t[0].style&&t[0].style.left&&t[0].style.top&&"absolute"===t.css("position")?"topleft-layout":t[0].style&&0<parseFloat(t[0].style.height)?"height-layout":null},preDefinedGridItemRelation:function(){if(0<this.gridItemLength)switch(this.type){case"topleft-layout":for(var t=0;t<this.column;t++)this.preDefineTopLeftGridItemRelation(t,this.column,t+1);this.gridItemParent.attr("bkt-defined",!0);break;case"height-layout":this.preDefineHeightGridItemRelation(),this.gridItemParent.attr("bkt-defined",!0)}},preDefineTopLeftGridItemRelation:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=(0,M.default)(this.gridElement).get(t);if(!((0,M.default)(n).length<1)){(0,M.default)(n).attr("bkt-col",i),n.style.top&&(0,M.default)(n).attr("bkt-real-top",n.style.top);for(var a=0;a<this.column&&(0,M.default)(this.gridElement).get(a+e);a++)(0,M.default)(this.gridElement).get(a+e).style.left===n.style.left&&((0,M.default)(n).attr("bkt-under-elemnt-index",a+e),this.preDefineTopLeftGridItemRelation(a+e,e+this.column,i))}},reupdateTopLeftGridLayout:function(t){var e=(0,M.default)(this.gridElement).get(t-1),i=0,n=(0,M.default)(e).attr("bkt-under-elemnt-index"),a=(0,M.default)(e).attr("bk-timer-label-height")?parseFloat((0,M.default)(e).attr("bk-timer-label-height")):0;if(i+=(0,M.default)(e).outerHeight(),!n)return i;for(var o=0;o<Math.round(this.gridItemLength/this.column);o++){var r=(0,M.default)(this.gridElement).get(n);if(0<a){var s=parseFloat((0,M.default)(r).attr("bkt-real-top"));(0,M.default)(r).css("top",s+a)}a+=(0,M.default)(r).attr("bk-timer-label-height")?parseFloat((0,M.default)(r).attr("bk-timer-label-height")):0,i+=(0,M.default)(r).outerHeight()?(0,M.default)(r).outerHeight():0,n=parseInt((0,M.default)(r).attr("bkt-under-elemnt-index"),10)}return i},preDefineHeightGridItemRelation:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=(0,M.default)(this.gridElement).get(t),i=Math.ceil((t+1)/this.column);(0,M.default)(e).length<1||(e.style.height&&(0,M.default)(e).attr("bkt-real-height",e.style.height),(0,M.default)(e).attr("bkt-row",i),this.preDefineHeightGridItemRelation(t+1))},reupdateHeightGridLayout:function(t){var e=(0,M.default)('[bkt-row="'+t+'"]'),i=0,n=0;e.each(function(){var t=(0,M.default)(this).attr("bk-timer-label-height")?parseFloat((0,M.default)(this).attr("bk-timer-label-height")):0;i<t&&(i=t);var e=(0,M.default)(this).attr("bkt-real-height")?parseFloat((0,M.default)(this).attr("bkt-real-height")):0;n<e&&(n=e)}),0<n&&e.css("height",n+i)},redetectAndUpdateGridLayout:function(){if(!this.gridItemParent.attr("bkt-defined")){this.preDefinedGridItemRelation();var t=Math.ceil(this.gridItemLength/this.column),e=0;switch(this.type){case"topleft-layout":for(var i=0;i<this.column;i++)e=this.reupdateTopLeftGridLayout(i+1);e>this.gridItemParentHeight&&(this.gridItemParentHeight=e,this.gridItemParent.css("height",this.gridItemParentHeight));break;case"height-layout":for(var n=0;n<t;n++)this.reupdateHeightGridLayout(n+1)}}}}},997:function(t,e,i){var n,a,o={};n=i(998),Object.keys(n).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.warn("[vue-loader] modules/countdown_cart/components/countdown_timer_label.vue: named exports in *.vue files are ignored."),a=i(999),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(o).forEach(function(t){var e=o[t];r.computed[t]=function(){return e}})},998:function(t,f,h){"use strict";(function(t){Object.defineProperty(f,"__esModule",{value:!0});var r=i(h(9)),s=i(h(35)),l=i(h(16)),u=i(h(122)),w=i(h(3)),n=i(h(119)),c=i(h(50)),a=i(h(20)),d=i(h(4)),y=i(h(46)),k=h(313),e=(i(h(523)),i(h(307))),o=i(h(352));function i(t){return t&&t.__esModule?t:{default:t}}f.default={props:{settings:Object,isMobile:Boolean,isPoweredBy:String,isBackendPreview:Boolean,isPowerUser:Boolean,imgPath:String,clockId:String,imageWidth:Number,imageHeight:Number,imageOffsetTop:Number,imageOffsetLeft:Number,isVisibleOnScreen:Boolean,secondsSpecific:{type:Number,default:0},timeStart:{type:Number,default:0},isDynamicTimer:{type:Boolean,default:!1},timerId:{type:Number,default:0}},data:function(){return{days:"00",hours:"00",minutes:"00",seconds:"00",timeExpired:!1,backendPreview:"",intervalId:0,urlLanding:e.default.getUrlLandingPage(k.APP_CODE,"powered-by-countdown-cart"),labelIcon:this.imgPath+"holiday_theme/countdown_timer/label/"+this.settings.holidayTheme+".png",internalClockStyle:"",flipClock:{}}},ready:function(){var i=this,t=(0,w.default)(this.$root.$el.previousElementSibling),e=t.children();if(("left"===t.css("float")&&(this.$root.$el.style.float="left"),e.each(function(t,e){"left"===(0,w.default)(e).css("float")&&(i.$root.$el.style.float="left")}),this.isNotRepeatCountdownTimer()&&!this.isDynamicTimer)&&a.default.get("ccart_repeat_countdown_timer_label_expired"))return void(this.timeExpired=!0);this.start(),this.$dispatch("clock-ready")},events:{"clock-stop":function(){if(0===this.flipClock.time.time)if(this.isNotRepeatCountdownTimer())this.timeExpired=!0;else{a.default.set("ccart_repeat_countdown_timer_label_expired");var t=(new Date).getTime()/1e3;c.default.set("cdcart_start",Math.floor(t),100,1),this.restartClock()}}},computed:{themeHasIconLabel:function(){var t=!1,e=!0,i=!1,n=void 0;try{for(var a,o=(0,u.default)(["cyber_monday","thanks_giving","happy_new_year","valentine","halloween","black_friday","xmas"]);!(e=(a=o.next()).done);e=!0){var r=a.value;r===this.settings.holidayTheme&&(t=!0)}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}return t},message:function(){var t=this.settings.label_widget_message||"";return t=t.trim(),t=t.replace(/<b[^r>]*>/,'<b style="font-weight: bold;">'),t=t.replace(/<i[^>]*>/,'<i style="font-style: italic;">'),t=t.replace(/<u[^>]*>/,'<u style="text-decoration: underline;">'),t=t.replace(/(\s*<\/?br>\s*)+((\s*<\/[^>]+>\s*)+)$/,"$'$2"),o.default.fontMessage(t),t},numberStyles:function(){var t=this.getStyleInString(this.settings.number),e=0;return"small"===this.settings.label_timer_size?e=12:"medium"===this.settings.label_timer_size?e=this.isMobile?13:16:"big"===this.settings.label_timer_size&&(e=this.isMobile?15:20),t.fontSize=e+"px",t.lineHeight="normal",30<parseInt(t.fontSize,10)?(0,w.default)(".flip-clock-dot").addClass("big_size"):(0,w.default)(".flip-clock-dot").removeClass("big_size"),"dark2"==this.settings.theme&&(t.color="#fff"),t},backgroundColor:function(){return"dark2"==this.settings.theme?"none":this.settings.backgroundColor}},methods:{start:function(){var s=this,l=this.calculateTimeFromSetting();l<1&&(this.isBackendPreview?l=1800:(this.timeExpired=!0,this.$dispatch("time-expired",this.timeExpired))),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=0),t.nextTick(function(){if("light"!==s.settings.theme)s.runClock(l);else var r=setInterval(function(){var t=Math.floor(l/24/60/60),e=Math.floor(l-86400*t),i=Math.floor(e/3600),n=Math.floor(e-3600*i),a=Math.floor(n/60),o=l%60;o<10&&(o="0"+o),s.seconds=o,s.days=s.addZeroNumber(t),s.hours=s.addZeroNumber(i),s.minutes=s.addZeroNumber(a),0!==l||s.isBackendPreview||(s.timeExpired=!0),s.timeExpired&&clearInterval(r),l--},1e3)}),setTimeout(function(){s.generateWidgetPosition()},100)},generateWidgetPosition:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=(0,w.default)("#"+this.clockId),n=i.closest(".bk-countdown-timer-label"),a=i.closest(".countdown-timer-wrapper"),o=a.find(".label_icon"),r=a.outerHeight();r<=20&&(r=this.getDefaultWidgetSize().height);var s=this.getLabelWidth();e||0<o.length&&(0,w.default)(o[0]).on("load",function(){setTimeout(function(){t.generateWidgetPosition(!0)},100)});var l={},u=this.imageOffsetTop+this.imageHeight-r,c=this.imageOffsetTop+.5*(this.imageHeight-r);if(this.settings.isUnderImageAbTest&&"underProductImage"===this.settings.label_timer_type)l={textAlign:""+this.settings.label_align,width:"100%"};else{switch(n.css("width",s+"px"),n.css("max-width",s+"px"),this.settings.position_label_timer){case"center-left":l={top:c+"px",textAlign:"left"};break;case"center-center":l={top:c+"px",textAlign:"center"};break;case"center-right":l={top:c+"px",right:0,textAlign:"right"};break;case"top-left":l={top:this.imageOffsetTop,textAlign:"left"};break;case"top-center":l={top:this.imageOffsetTop,textAlign:"center"};break;case"top-right":l={top:this.imageOffsetTop,right:0,textAlign:"right"};break;case"bottom-left":l={textAlign:"left",top:u+"px"};break;case"bottom-center":l={textAlign:"center",top:u+"px"};break;case"bottom-right":l={textAlign:"right",top:u+"px"}}var d=this.imageOffsetLeft;s>this.imageWidth&&(d=this.imageOffsetLeft-(s-this.imageWidth)/2),l.left=d+"px"}if(n.css(l),i.closest(".bkt-product-countdown-timer-in-list-wrapper .bk-countdown-timer-label").removeClass("bk-hidden-label"),this.settings.isUnderImageAbTest&&"underProductImage"===this.settings.label_timer_type){var f=i.closest(".bk-countdown-timer-label"),h=f.closest(".bkt-product-countdown-timer-in-list-wrapper"),g=f.outerHeight(),p=h.parent(),m=p.width(),v=parseFloat(p.css("min-height"));if(h.css("min-height",g),0<m&&m<s?h.css("min-width",m+"px"):h.css("min-width",s+"px"),0<v){var b=p.attr("bkt-old-min-height");0<b?p.css("min-height",b+g):(p.attr("bkt-old-min-height",v),p.css("min-height",v+g))}y.default.trigger(k.CCART_TIMER_LABEL_UNDER_IMAGE_READY,{clock:i,timerHeight:g})}},getLabelOffset:function(t,e){var i=this.getElementOffset(t.get(0)),n=this.getElementOffset(e.parent().get(0)),a=i.top-n.top,o=i.left-n.left;return{top:a<0?0:a,left:o<0?0:o}},getElementOffset:function(t){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+n,left:e.left+i}},getLabelWidth:function(){var t=this.getDefaultWidgetSize();return Math.max(this.imageWidth,t.width)},getDefaultWidgetSize:function(){var t=this.settings?this.settings.label_timer_size:"medium",e={small:{width:135,height:32},medium:{width:190,height:38},big:{width:240,height:44}};this.isMobile&&(e.small={width:135,height:32},e.medium={width:150,height:35},e.big={width:215,height:40});var i=e[t];return"holiday_theme"===this.settings.theme&&this.themeHasIconLabel&&(i.height+=.75*i.height),i},calculateTimeFromSetting:function(){var t=0,e=(new Date).getTime()/1e3;if(this.isDynamicTimer){var i=this.secondsSpecific,n=c.default.get("bkt-timer-start");return n=n?JSON.parse(n):(0,l.default)({}),-1===(0,s.default)(n).indexOf(String(this.timerId))&&(n[this.timerId]=this.timeStart),i<e-(t=n[this.timerId])&&(this.isNotRepeatCountdownTimer()||(t=e,n[this.timerId]=e)),c.default.set("bkt-timer-start",(0,r.default)(n),100,1),Math.floor(i-(e-t))}(t=this.isNotRepeatCountdownTimer()?this.settings.countdownClock.timeStart:c.default.get("cdcart_start")||0)&&(t=parseInt(t,10));var a=void 0;switch(this.settings.countdownClock.type){case"days":a=86400;break;case"minutes":a=60;break;case"hours":default:a=3600}var o=a*(parseInt(this.settings.countdownClock.value,10)||1);return o<e-t&&(this.isNotRepeatCountdownTimer()||(t=Math.floor(e),c.default.set("cdcart_start",t,100,1))),Math.floor(o-(e-t))},isNotRepeatCountdownTimer:function(){return!this.settings.repeatCountdownTimer&&this.settings.countdownClock.timeStart},addZeroNumber:function(t){var e=t;return e<10&&(e="0"+e),e},runClock:function(t){var e=this;(0,d.default)("Before init clock");var i=(0,w.default)("#"+this.clockId);this.flipClock=i.FlipClock(t,{countdown:!0,clockFace:"DailyCounter",callbacks:{stop:function(){e.$dispatch("clock-stop")}}}),(0,d.default)("Finish init clock");var n=(0,w.default)(i.find("ul.flip"));n.prepend('<span class="fake-number">0</span>');var a={small:3,medium:4,big:6}[""+this.settings.label_timer_size];"small"===this.settings.label_timer_size&&this.imageWidth<125&&(a=2);var o=0;"holiday_theme"===this.settings.theme&&(o=1),n.css("padding",a+"px !important");var r=n.outerHeight()-o;this.internalClockStyle='<style type="text/css">\n          #'+this.clockId+" ul.flip {\n              padding: "+a+"px !important;\n          }\n\n          #"+this.clockId+" ul.flip li {\n              line-height: "+r+"px !important;\n          }\n\n          #"+this.clockId+" .flip-clock-divider {\n              height: "+r+"px !important;\n          }\n\n          #"+this.clockId+" .down,  #"+this.clockId+" .up {\n              background: "+this.backgroundColor+";\n          }\n\n      </style>",this.isVisibleOnScreen||this.pauseClock()},getStyleInString:function(t){var i={},e=[];return null!=(e=t.match(/color="(#[\w\d]+)"/gim))&&e.forEach(function(t){var e=t.slice(7,t.length-1);i.color=e}),null!=(e=t.match(/face="([\w\d\s]+)"/gim))&&e.forEach(function(t){var e=t.slice(6,t.length-1);i.fontFamily=e}),null!=(e=t.match(/style="[^"]+"|(\+)/gim))&&e.forEach(function(t){t.slice(7,t.length-1).replace(/&quot;/g,"").split(";").forEach(function(t){var e=t.split(":");"text-align"===e[0]&&(i.textAlign=e[1].trim()),"font-size"===e[0]&&(i.fontSize=e[1].trim(),i.fontSize=i.fontSize.match(/\d+/g)[0]+"px"),"color"===e[0]&&(i.color=e[1].trim()),"font-family"===e[0]&&(i.fontFamily=e[1].trim(),n.default.isInTestGroup(k.CCART_UPDATE_FONT_2018).then(function(t){t&&o.default.loadFont(i.fontFamily)}))})}),-1<t.indexOf("u>")&&(i.textDecoration="underline"),(-1<t.indexOf("b>")||-1<t.indexOf("strong>"))&&(i.fontWeight="bold"),(-1<t.indexOf("i>")||-1<t.indexOf("em>"))&&(i.fontStyle="italic"),i},pauseClock:function(){this.flipClock.stop(),this.flipClock.$el.hide(),this.flipClock.$el.closest(".bk-countdown-timer-label").hide(0)},restartClock:function(){var t=this.calculateTimeFromSetting();0<t&&(this.flipClock.setTime(t),this.flipClock.start())},resumeClock:function(){var t=this.calculateTimeFromSetting();0<t&&(this.flipClock.$el.closest(".bk-countdown-timer-label").show(0),this.flipClock.$el.show(),this.flipClock.setTime(t),this.flipClock.start())}},watch:{isVisibleOnScreen:function(){w.default.isEmptyObject(this.flipClock)||"light"===this.settings.theme||(this.isVisibleOnScreen?"function"==typeof this.flipClock.start&&this.resumeClock():"function"==typeof this.flipClock.stop&&this.pauseClock())}}}}).call(this,h(45))},999:function(t,e){t.exports='\n<div v-if="!timeExpired" :class="backendPreview">\n    <div class="countdown-timer-wrapper">\n        <div class="wrapper-message" v-if="settings.isUnderImageAbTest && settings.label_timer_type === \'underProductImage\'">\n            <p class="message" v-if="settings.label_widget_message !== \'\'">{{{message}}}</p>\n        </div>\n        <div v-if="settings.theme != \'light\'" class="clock-wrapper" :class="settings.theme == \'holiday_theme\' ? settings.holidayTheme : settings.theme">\n            <div :class="{\'wrapper-holiday_theme\': settings.theme == \'holiday_theme\'}">\n                <img class="label_icon" :src="labelIcon" alt="holiday" v-if="settings.theme === \'holiday_theme\' && themeHasIconLabel">\n                <div class="number-wrapper" :class="settings.label_timer_size + \'-flip\'" :style="numberStyles" :id="clockId"></div>\n            </div>\n        </div>\n        <ul v-if="settings.theme == \'light\'" class="bk-normal-clock" :id="clockId">\n            <li class="bk-wrapper-days">\n                <div class="bk-days bk-time" :style="numberStyles">{{ days }}</div>\n            </li>\n            <li class="bk-wrapper-isolate" :style="numberStyles">:</li>\n            <li class="bk-wrapper-hours">\n                <div class="bk-hours bk-time" :style="numberStyles">{{ hours }}</div>\n            </li>\n            <li class="bk-wrapper-isolate" :style="numberStyles">:</li>\n            <li class="bk-wrapper-mins">\n                <div class="bk-mins bk-time" :style="numberStyles">{{ minutes }}</div>\n            </li>\n            <li class="bk-wrapper-isolate" :style="numberStyles">:</li>\n            <li class="bk-wrapper-secs">\n                <div class="bk-secs bk-time" :style="numberStyles">{{ seconds }}</div>\n            </li>\n        </ul>\n    </div>\n    <div v-html="internalClockStyle"></div>\n</div>\n'}}]);