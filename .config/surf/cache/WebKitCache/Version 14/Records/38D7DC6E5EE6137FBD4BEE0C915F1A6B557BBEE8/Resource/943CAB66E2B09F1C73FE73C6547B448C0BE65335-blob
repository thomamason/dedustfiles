!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){var d=a("extend"),e=function(){function a(a){var b=a.split("."),c=0,d=e;for(c;c<b.length;c++)d=d[b[c]];return d}function b(a){d(e,a)}function c(){return e}var e={breakpointType:null,modsForInit:{},modules:{},modulesToIgnore:[],overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:document.documentElement.clientHeight,windowTopOffset:null,windowWidth:document.documentElement.clientWidth};return e.breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],{getOption:a,inspect:c,setOption:b}}();b.exports=e},{extend:33}],2:[function(a,b,c){var d=a("../../../src/js/events.js");b.exports=function(){function a(){var a=m(),c="object"==typeof a;c&&a.hasOwnProperty("log")&&b()}function b(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",window.TMCONFIG.frontendRoot+"/marwood/TM/scss/log.css"),document.querySelector("head").appendChild(a);var b=document.querySelector("BODY"),c="";c+='<div class="inner">',c+="  <h4>Event log</h4>",c+='  <a data-resize="maximize" href="#">Maximize</a>',c+='  <a class="active" data-resize="minimize" href="#">Minimize</a>',c+='  <a data-reset="" href="#">Reset</a>',c+='  <form action="" method="">',c+="    <fieldset>",c+="      <ul>",c+="        <li>",c+='          <label class="filter-information" for="log-information"></label>',c+="          <strong>0</strong>",c+='          <input id="log-information" type="checkbox" checked="checked">',c+="        </li>",c+="        <li>",c+='          <label class="filter-warning" for="log-warning"></label>',c+="          <strong>0</strong>",c+='          <input id="log-warning" type="checkbox" checked="checked">',c+="        </li>",c+="        <li>",c+='          <label class="filter-error" for="log-error"></label>',c+="          <strong>0</strong>",c+='          <input type="checkbox" checked="checked" id="log-error">',c+="        </li>",c+="        <li>",c+='          <label class="filter-override" for="log-override"></label>',c+="          <strong>0</strong>",c+='          <input id="log-override" type="checkbox" checked="checked">',c+="        </li>",c+="      </ul>",c+="    </fieldset>",c+="  </form>",c+="</div>",c+="<ol></ol>";var d=document.createElement("div");if(d.setAttribute("id","log"),d.setAttribute("class","minimize show-information show-warning show-error show-override"),d.innerHTML=c,b.appendChild(d),n.showViewportDimensions){var e=document.createElement("p");e.setAttribute("id","viewport-dimensions"),b.appendChild(e),e.innerHTML=window.innerWidth+"px",window.addEventListener("resize",function(){e.innerHTML=window.innerWidth+"px"})}h("[log.create]"),n.enabled=!0,f()}function c(a){d.delegate(a,"INPUT","click",function(b){var c=this.getAttribute("id").replace("log-",""),d=a.classList.contains("show-"+c)?"visible":"hidden";switch(d){case"visible":a.classList.remove("show-"+c);break;case"hidden":a.classList.add("show-"+c)}})}function e(a){var b=a.querySelector("OL");d.delegate(a,"A[data-resize]","click",function(c){c.preventDefault();var d=this.getAttribute("data-resize");a.classList.remove("minimize"),a.classList.remove("maximize"),a.classList.add(d),b.style.height=n.heights[d],l({message:"[log.eventsInit]: "+d+"d",type:"information"})})}function f(){var a=document.getElementById("log");l({message:"[log.eventsInit]",type:"information"}),c(a),d.delegate(document.getElementById("log"),"A[data-reset]","click",function(a){a.preventDefault(),g()}),e(a)}function g(){var a=document.querySelector("#log OL");a.innerHTML="",a.parentNode.setAttribute("class","minimize show-information show-warning show-error");var b,c=document.querySelectorAll("#log FORM STRONG");for(b=0;b<c.length;b++)c[b].innerHTML="0",c[b].nextElementSibling.setAttribute("checked",!0);l({message:"[log.emptyLog]: debug logger emptied",type:"information"})}function h(a){l({message:a,type:"information"})}function i(a){l({message:a,type:"warning"})}function j(a){l({message:a,type:"error"})}function k(a){l({message:a,type:"override"})}function l(a){if(document.getElementById("log")){var b=document.querySelectorAll("#log OL LI").length,c=document.createElement("LI"),d=document.querySelector("#log OL LI"),e=document.createElement("STRONG");c.setAttribute("class","log-"+a.type),c.innerHTML=b+1+". "+a.message,e.innerHTML=a.type+"&nbsp;",c.appendChild(e),document.querySelector("#log OL").insertBefore(c,d);var f=document.getElementById("log-"+a.type).previousElementSibling,g=f.innerHTML;g++,f.innerHTML=g}}function m(){if(location.search){var a={};try{var b=location.search.replace("?","").split("&");b.forEach(function(b){var c=b.split("=");a[c[0]]=c[1]})}catch(c){j("[log.parseQueryString]: error parsing querystring, description="+c.description)}return a}}var n={enabled:!1,heights:{maximize:"500px",minimize:"250px"},showViewportDimensions:!0};return{emptyLog:g,error:j,information:h,init:a,options:n,override:k,warning:i}}()},{"../../../src/js/events.js":5}],3:[function(a,b,c){b.exports={component:a("./component.js"),config:a("../../config/src/js/config.js"),events:a("./events.js"),log:a("../../log/src/js/log.js")}},{"../../config/src/js/config.js":1,"../../log/src/js/log.js":2,"./component.js":4,"./events.js":5}],4:[function(a,b,c){function d(a){f.fire(a,"component.activate")}function e(a){function b(b){a.init&&a.init(b),b.setAttribute("data-init",!0)}return a=a||{},{init:b}}var f=a("./events.js");b.exports={create:e,activate:d}},{"./events.js":5}],5:[function(a,b,c){b.exports=function(){function a(a){return[].slice.call(a)}function b(a,b,c,d){if(d=d||{},a.addEventListener(b,c),a.dataEvents){var e=a.dataEvents[b];if(e)if(d.purgeEventData)for(;e.length>0;)c.call(a,{data:e.shift(),target:a});else e.forEach(function(b){c.call(a,{data:b,target:a})})}}function c(a,b,c){a.dataEvents=a.dataEvents||{},a.dataEvents[b]=a.dataEvents[b]||[],a.dataEvents[b].push(c)}function d(){"complete"===document.readyState||"loaded"===document.readyState?(c(document,g),c(window,"load")):"interactive"===document.readyState&&c(document,g)}function e(a,b,d){var e;d=d||{},document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(b,!0,!0),e.data=d,a.dispatchEvent(e)):document.createEventObject&&(e=document.createEventObject(),e.data=d,a.fireEvent("on"+b,e)),c(a,b,d)}function f(a){d(),document.addEventListener?b(document,g,a):b(window,"load",a)}var g="DOMContentLoaded",h=function(){function b(a,c,d,e,f,g){if(c===d)return void(g.stopPropagation&&a.stopPropagation());var h=e.indexOf(c);h!==-1&&(f.call(e[h],a),g.preventDefault&&a.preventDefault()),b(a,c.parentNode,d,e,f,g)}function c(b,c,d){return b.concat(a(c.querySelectorAll(d)))}function d(b,c,d){var e=a(c.querySelectorAll(d.substr(1)));return e=e.filter(function(a){return a.parentNode===c}),b.concat(e)}function e(e,f,g,h,i){i=i||{},f=f.split(","),"undefined"==typeof e.length&&(e=[e]),e.forEach||(e=a(e)),e.forEach(function(a){a.addEventListener(g,function(e){var g=[];f.forEach(function(b){g=">"===b.substr(0,1)?d(g,a,b):c(g,a,b)}),b(e,e.target,a,g,h,i)})})}return e}();return{delegate:h,domReady:f,fire:e,listen:b}}()},{}],6:[function(a,b,c){"use strict";var d=a("extend"),e=a("./impr-tracker.js"),f=a("@trinitymirrordigital/chameleon-core").events,g=function(){function a(a){var b=a.scrollListing;a.isHorizontal?(a.scrollType="scrollLeft",a.containerDimension=a.scrollContainer.clientWidth,a.listingDimension=b.clientWidth,a.scrollLimit=a.listingDimension-a.containerDimension,a.leftArrowElement&&a.leftArrowElement.addEventListener("click",function(b){i(b,a)}),a.rightArrowElement&&a.rightArrowElement.addEventListener("click",function(b){h(b,a)})):(a.scrollType="scrollTop",a.containerDimension=a.scrollContainer.clientHeight,a.listingDimension=b.clientHeight),a.intervalDelay=Math.floor(1e3/a.frameRate),a.initialScroll=!0,l(null,a),a.scrollContainer.addEventListener("mouseover",function(b){g(b,a)}),a.scrollContainer.addEventListener("mouseout",function(b){l(b,a)}),a.scrollContainer.addEventListener("touchenter",function(b){g(b,a)}),a.scrollContainer.addEventListener("touchleave",function(b){l(b,a)})}function b(a){e.percInViewport(a.scrollContainer,null,1)?a.scrollStopped&&(c(a),l(null,a)):(a.scrollStopped=!0,c(a))}function c(a,b){k(a.interval,b),k(a.waitInterval,b)}function g(a,b){k(b.waitInterval,a),b.scrollStopped=!0,k(b.interval,a)}function h(a,b){var c=b.scrollContainer[b.scrollType],d=c+b.listItemWidth;d>b.listingDimension-(b.containerDimension+30)?(b.scrollContainer[b.scrollType]=c%b.listItemWidth,c=b.scrollContainer[b.scrollType],d=b.scrollContainer[b.scrollType]+b.listItemWidth):(j(b),c=b.scrollContainer[b.scrollType],d=c+b.listItemWidth),k(b.leftInterval),k(b.rightInterval),b.rightInterval=setInterval(function(){c+=b.manualScrollSpeed,c<d?b.scrollContainer[b.scrollType]=c:(b.scrollContainer[b.scrollType]=d,k(b.rightInterval))},b.intervalDelay),a&&a.preventDefault()}function i(a,b){j(b);var c=b.scrollContainer[b.scrollType],d=c-b.listItemWidth;c<b.listItemWidth&&(b.scrollContainer[b.scrollType]=b.listingDimension-(b.visibleElements-1)*b.listItemWidth-b.leftArrowElement.clientWidth,c=b.scrollContainer[b.scrollType],d=b.scrollContainer[b.scrollType]-b.listItemWidth),k(b.rightInterval),k(b.leftInterval),b.leftInterval=setInterval(function(){c-=b.manualScrollSpeed,c>d?b.scrollContainer[b.scrollType]=c:(b.scrollContainer[b.scrollType]=d,k(b.leftInterval))},b.intervalDelay),a&&a.preventDefault()}function j(a){var b=a.scrollContainer[a.scrollType],c=0;c=a.listItemWidth-b%a.listItemWidth-a.leftArrowElement.clientWidth,a.scrollContainer[a.scrollType]=a.scrollContainer[a.scrollType]+c}function k(a,b){a&&clearInterval(a),b&&b.preventDefault()}function l(a,b){b.waitInterval=setInterval(function(){(b.scrollStopped||b.initialScroll)&&(b.scrollContainer[b.scrollType]+=b.speed,m(a,b),b.initialScroll=!1,b.scrollStopped=!1)},b.autoScrollDelay)}function m(a,b){b.interval=setInterval(function(){b.scrollContainer[b.scrollType]<b.listingDimension-b.containerDimension?b.scrollContainer[b.scrollType]+=b.speed:b.scrollContainer[b.scrollType]=2*b.listItemWidth+b.manualScrollSpeed,n(b),b.extraScrolled=(b.scrollContainer[b.scrollType]+b.additionalWidth)%b.listItemWidth,b.extraScrolled<=b.speed&&(b.scrollContainer[b.scrollType]-=b.extraScrolled,b.scrollStopped=!0,k(b.interval),k(b.waitInterval),f.fire(document.body,"autoscroll.impression.tracking"),l(a,b))},b.intervalDelay),a&&a.preventDefault()}function n(a){a.isMobile?a.additionalWidth=Math.ceil((window.innerWidth-a.listItemWidth)/2):a.additionalWidth=a.leftArrowElement?a.leftArrowElement.clientWidth:0}function o(a){var b=a.scrollListing.childNodes,c=b.length-1,d=0,e=0,f=0;for(a.visibleElements=Math.ceil(window.innerWidth/a.listItemWidth)+1,a.visibleElements&&(e=Math.floor(a.visibleElements/2),f=a.visibleElements%2?e+1:e),d=0;d<e;d++)a.scrollListing.insertAdjacentElement("afterbegin",p(b[c].cloneNode(!0)));for(d=0;d<f;d++)a.scrollListing.insertAdjacentElement("beforeend",p(b[d+e].cloneNode(!0)));var g=a.listItemWidth*a.scrollListing.childNodes.length;a.scrollListing.style.width=g+"px"}function p(a){return a.removeAttribute("data-impr-tracking"),a}function q(c){var e={};d(e,r,c),e.isHorizontal=e.orientation.match(/horizontal/),e.scrollContainer=document.body.querySelector(e.containerSelector),e.scrollListing=e.scrollContainer.querySelector(e.listingSelector),e.autoScrollDelay=e.isDelayRequired?e.autoScrollDelay:0,e.isHorizontal&&(e.leftArrowElement=e.scrollContainer.querySelector(e.leftArrow),e.rightArrowElement=e.scrollContainer.querySelector(e.rightArrow),e.isLoop&&o(e)),a(e),f.listen(window,"scroll.stop",function(){b(e)})}var r={speed:1,manualScrollSpeed:50,isLoop:!0,frameRate:24,orientation:"vertical",isMobile:/iPhone|iPad|iPod|Android|BlackBerry|Windows Phone|webOS/i.test(window.navigator.userAgent),autoScrollDelay:4e3,isDelayRequired:!1};return{init:q}}();b.exports=g},{"./impr-tracker.js":7,"@trinitymirrordigital/chameleon-core":3,extend:33}],7:[function(a,b,c){"use strict";var d=a("@trinitymirrordigital/chameleon-core").events,e=function(){function a(a,b,c){return h=b?b.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},i=a.getBoundingClientRect(),j=Math.min(i.right,h.right)-Math.max(i.left,h.left),k=Math.min(i.bottom,h.bottom)-Math.max(i.top,h.top),l=j/i.width*100,m=k/i.height*100,l>c&&m>c}function b(b){var d=null,f=null,g=!1;e(b),[].forEach.call(b.elements,function(e){d=e.getAttribute("data-container-selector"),d?(f=document.querySelector(d),g=a(e,f,b.visiblePerc),g&&a(e,null,b.visiblePerc)&&(g=!1,c(e))):a(e,null,b.visiblePerc)&&c(e)})}function c(a){var b={el:a};f(b),d.fire(a,"data.impression.tracking",b),a.setAttribute("data-tracked","true")}function e(a){a.elements=document.querySelectorAll(a.selector)}function f(a){var b=a.el.getAttribute("data-config");a.data=b&&JSON.parse(b)||!1}function g(a,c){var e={};e.selector=a||"[data-impr-tracking]:not([data-tracked])",e.visiblePerc=c||99,b(e),d.listen(window,"scroll.stop",function(){b(e)}),d.listen(window,"resize.stop",function(){b(e)}),d.listen(document.body,"autoscroll.impression.tracking",function(){b(e)}),d.delegate(document.body,"[data-scroll]","click",function(){b(e)})}var h,i,j,k,l,m;return{init:g,percInViewport:a}}();b.exports=e},{"@trinitymirrordigital/chameleon-core":3}],8:[function(a,b,c){"use strict";function d(a,b){function c(a,b){n||(p=!!b,n=a,o=m(),o&&e.information("[localStorage] initialized with key: ["+n+"]"))}function d(a,b){var c;if(o&&n){if("string"!=typeof a)return void e.error("[localStorage] key has to be a string");if(c=l()||{},c[a]=b,p)try{q.setItem(n,f.encrypt(JSON.stringify(c),r))}catch(d){e.warning("[localStorage] can't setItem "+d)}else try{q.setItem(n,JSON.stringify(c))}catch(d){e.warning("[localStorage] can't setItem "+d)}}}function g(a){var b,c=null;if(o&&n){b=l();try{c=JSON.parse(b[a])}catch(d){b&&(c=b[a])}return c}}function h(a){var b;if(o&&n){b=l();try{delete b[a],q.setItem(n,JSON.stringify(b))}catch(c){e.warning("Can't delete item:["+a+"] "+c)}}}function i(){var a;if(o&&n)return a=q.getItem(n),p&&(a=f.decrypt(a,r)),a}function j(a){o&&n&&(p&&(a=f.encrypt(a,r)),q.setItem(n,a))}function k(){o&&n&&(q.removeItem(n),n=null)}function l(){var a;if(o&&n){if(a=q.getItem(n),p&&a)try{a=f.decrypt(a,r)}catch(c){e.warning("[localStorage] can't decrypt data "+c),a=""}try{a=JSON.parse(a)}catch(c){e.warning("[localStorage] can't parse data (getData) "+c),a=b.expectObject?{}:null}return a}}function m(){var a="test";if("undefined"==typeof q)return!1;try{return q.setItem(a,a),q.removeItem(a),!0}catch(b){return!1}}var n,o,p,q=window.localStorage,r="window.onresize";return b=b||{},c(a,b.encrypted),{deleteItem:h,destroy:k,getItem:g,getRawData:i,setItem:d,setRawData:j}}var e=a("@trinitymirrordigital/chameleon-core").log,f=a("../../lib/tea.js");b.exports=d},{"../../lib/tea.js":10,"@trinitymirrordigital/chameleon-core":3}],9:[function(a,b,c){"use strict";var d=a("@trinitymirrordigital/chameleon-core").config,e=a("@trinitymirrordigital/chameleon-core").log,f=a("./localstore.js"),g=a("./impr-tracker.js"),h=a("./auto-scroll.js"),i=window.Promise&&window.Promise.toString().indexOf("[native code]")!==-1?window.Promise:a("promise-polyfill");b.exports=function(){function a(a){var b,c=[],d=a.length;for(b=0;b<d;b++)c[b]=a[b];return c}function b(a){var b=0,c=0,d=null;for(b=a.length-1;b>0;b--)c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],a[c]=d;return a}function c(a){a=a||window.innerWidth;var b,c=d.getOption("breakpoints"),e=c.length;for(b=0;b<e;b++)if(a<c[b].width)return c[b-1].name;return c[e-1].name}function j(a){return a.match(/mod-(\S+)/g)[0]}function k(a){return j(a).replace("mod-","")}function l(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}}function m(){return(new Date).getTime().toString()+Math.random().toString().replace(".","-")}function n(a,b,c){if(!a||!b)return void e.error("[utilities.xhr]: missing required pramaeters");c=c||{};try{var d=new XMLHttpRequest;d.open(c.method||"get",a,!c.sync),c.headers&&Object.keys(c.headers).forEach(function(a){d.setRequestHeader(a,c.headers[a])}),d.send(c.data||null),d.onload=function(){4===d.readyState&&(200===d.status?b(d):c.errorCallback&&c.errorCallback(d))}}catch(f){e.information("[utilities.ajax]: error retrieving "+a+", description="+f.description)}}function o(a,b){return new i(function(c,d){if(!a)return e.error("[xhr]: missing required parameters"),void d("missing required parameters");b=b||{};try{var f=new XMLHttpRequest;f.open(b.method||"get",a,!b.sync),b.headers&&Object.keys(b.headers).forEach(function(a){f.setRequestHeader(a,b.headers[a])}),f.send(b.data||null),f.onload=function(){4===f.readyState&&200===f.status?c(f):d(f)}}catch(g){e.information("[ajax]: error retrieving "+a+", description="+g.description),d(g)}})}function p(a,b,c){var d="jsonp"+Math.round(1000001*Math.random());a=a||"",b=b||"",c=c||function(){},"function"==typeof b&&(c=b,b="callback"),window[d]=function(a){c(a),delete window[d]},a+=a.indexOf("?")===-1?"?":"&";var e=document.createElement("script");e.setAttribute("src",a+b+"="+d),document.getElementsByTagName("head")[0].appendChild(e)}function q(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function r(a,b){return a.matches?a.matches(b):a.msMatchesSelector?a.msMatchesSelector(b):!!a.webkitMatchesSelector&&a.webkitMatchesSelector(b)}function s(a,b){for(;!r(a,b);){if(!a.parentNode)return null;a=a.parentNode}return a}function t(a){for(var b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}function u(a){if(a){var b,c,d=a.querySelectorAll("script"),e=d.length;for(b=0;b<e;b++)c=document.createElement("script"),d[b].hasAttribute("src")?c.setAttribute("src",d[b].src):c.innerText=d[b].innerText,d[b].parentNode.replaceChild(c,d[b])}}function v(a){return(a=(document.cookie+";").match(new RegExp(a+"=.*;")))&&a[0].split(/=|;/)[1]}function w(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}function x(a,b,c,d,e,f){var g=window[a];d=d||100,e=e||2e4/d,f=f||0,b&&(!g&&f<e?(f+=1,setTimeout(function(){x(a,b,c,d,e,f)},d)):c&&"function"==typeof window[c][b]?window[c][b]():"function"==typeof b&&b())}function y(){var a="test",b=window.sessionStorage;try{return b.setItem(a,"1"),b.removeItem(a),!0}catch(c){return!1}}function z(a){var b=void 0,c=void 0,d=new i(function(a,d){b=a,c=d});if(d.resolve=b,d.reject=c,a){var e=setTimeout(function(){d.reject("timeout expired")},a);d.then(function(){clearTimeout(e)})}return d}return{ajax:n,ajaxPromise:o,debounce:q,defer:z,executeWhenAvailable:x,findAncestor:s,getBreakpoint:c,getCookie:v,getElementIndex:t,getModClass:j,getModType:k,getQueryParam:w,jsonp:p,log:e,matches:r,nodeListToArray:a,processScripts:u,shuffleArray:b,uid:m,windowOffsets:l,stringify:function(){return""},promise:i,LocalStore:f,sessionStorageEnabled:y,ImprTracker:g,autoScroll:h}}()},{"./auto-scroll.js":6,"./impr-tracker.js":7,"./localstore.js":8,"@trinitymirrordigital/chameleon-core":3,"promise-polyfill":11}],10:[function(a,b,c){(function(a){"use strict";var c={};c.encrypt=function(a,b){if(a=String(a),b=String(b),0==a.length)return"";var d=c.strToLongs(a.utf8Encode()),e=c.strToLongs(b.utf8Encode().slice(0,16));d.length;d=c.encode(d,e);var f=c.longsToStr(d);return f.base64Encode()},c.decrypt=function(a,b){if(a=String(a),b=String(b),0==a.length)return"";var d=c.strToLongs(a.base64Decode()),e=c.strToLongs(b.utf8Encode().slice(0,16));d.length;d=c.decode(d,e);var f=c.longsToStr(d);return f=f.replace(/\0+$/,""),f.utf8Decode()},c.encode=function(a,b){a.length<2&&(a[1]=0);for(var c,d,e=a.length,f=a[e-1],g=a[0],h=2654435769,i=Math.floor(6+52/e),j=0;i-- >0;){j+=h,d=j>>>2&3;for(var k=0;k<e;k++)g=a[(k+1)%e],c=(f>>>5^g<<2)+(g>>>3^f<<4)^(j^g)+(b[3&k^d]^f),f=a[k]+=c}return a},c.decode=function(a,b){for(var c,d,e=a.length,f=a[e-1],g=a[0],h=2654435769,i=Math.floor(6+52/e),j=i*h;0!=j;){d=j>>>2&3;for(var k=e-1;k>=0;k--)f=a[k>0?k-1:e-1],c=(f>>>5^g<<2)+(g>>>3^f<<4)^(j^g)+(b[3&k^d]^f),g=a[k]-=c;j-=h}return a},c.strToLongs=function(a){for(var b=new Array(Math.ceil(a.length/4)),c=0;c<b.length;c++)b[c]=a.charCodeAt(4*c)+(a.charCodeAt(4*c+1)<<8)+(a.charCodeAt(4*c+2)<<16)+(a.charCodeAt(4*c+3)<<24);return b},c.longsToStr=function(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(255&a[c],a[c]>>>8&255,a[c]>>>16&255,a[c]>>>24&255);return b.join("")},"undefined"==typeof String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),"undefined"==typeof String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(a){return this}}),"undefined"==typeof String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if("undefined"!=typeof a)return new a(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),"undefined"==typeof String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if("undefined"!=typeof a)return new a(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),b.exports=c}).call(this,a("buffer").Buffer)},{buffer:36}],11:[function(a,b,c){(function(a){!function(c){function d(){}function e(a,b){return function(){a.apply(b,arguments)}}function f(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(a,this)}function g(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):(a._handled=!0,void n(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?h:i)(b.promise,a._value);var d;try{d=c(a._value)}catch(e){return void i(b.promise,e)}h(b.promise,d)}))}function h(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof f)return a._state=3,a._value=b,void j(a);if("function"==typeof c)return void l(e(c,b),a)}a._state=1,a._value=b,j(a)}catch(d){i(a,d)}}function i(a,b){a._state=2,a._value=b,j(a)}function j(a){2===a._state&&0===a._deferreds.length&&n(function(){a._handled||o(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)g(a,a._deferreds[b]);a._deferreds=null}function k(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function l(a,b){var c=!1;try{a(function(a){c||(c=!0,h(b,a))},function(a){c||(c=!0,i(b,a))})}catch(d){if(c)return;c=!0,i(b,d)}}var m=setTimeout,n="function"==typeof a&&a||function(a){m(a,0)},o=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};f.prototype["catch"]=function(a){return this.then(null,a)},f.prototype.then=function(a,b){var c=new this.constructor(d);return g(this,new k(a,b,c)),c},f.all=function(a){var b=Array.prototype.slice.call(a);return new f(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},f.resolve=function(a){return a&&"object"==typeof a&&a.constructor===f?a:new f(function(b){b(a)})},f.reject=function(a){return new f(function(b,c){c(a)})},f.race=function(a){return new f(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},f._setImmediateFn=function(a){n=a},f._setUnhandledRejectionFn=function(a){o=a},"undefined"!=typeof b&&b.exports?b.exports=f:c.Promise||(c.Promise=f)}(this)}).call(this,a("timers").setImmediate)},{timers:50}],12:[function(a,b,c){(function(c){"use strict";var d=a("es-abstract/es6"),e=Number.isNaN||function(a){return a!==a},f=Number.isFinite||function(a){return"number"==typeof a&&c.isFinite(a)},g=Array.prototype.indexOf;b.exports=function(a){var b=arguments.length>1?d.ToInteger(arguments[1]):0;if(g&&!e(a)&&f(b)&&"undefined"!=typeof a)return g.apply(this,arguments)>-1;var c=d.ToObject(this),h=d.ToLength(c.length);if(0===h)return!1;for(var i=b>=0?b:Math.max(0,h+b);i<h;){if(d.SameValueZero(a,c[i]))return!0;i+=1}return!1}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"es-abstract/es6":21}],13:[function(a,b,c){"use strict";var d=a("define-properties"),e=a("es-abstract/es6"),f=a("./implementation"),g=a("./polyfill"),h=g(),i=a("./shim"),j=Array.prototype.slice,k=function(a,b){return e.RequireObjectCoercible(a),h.apply(a,j.call(arguments,1))};d(k,{getPolyfill:g,implementation:f,shim:i}),b.exports=k},{"./implementation":12,"./polyfill":14,"./shim":15,"define-properties":17,"es-abstract/es6":21}],14:[function(a,b,c){"use strict";var d=a("./implementation");b.exports=function(){return Array.prototype.includes||d}},{"./implementation":12}],15:[function(a,b,c){"use strict";var d=a("define-properties"),e=a("./polyfill");b.exports=function(){var a=e();return d(Array.prototype,{includes:a},{includes:function(){return Array.prototype.includes!==a}}),a}},{"./polyfill":14,"define-properties":17}],16:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");c===-1&&(c=b);var d=c===b?0:4-c%4;return[c,d]}function e(a){var b=d(a),c=b[0],e=b[1];return 3*(c+e)/4-e}function f(a,b,c){return 3*(b+c)/4-c}function g(a){for(var b,c=d(a),e=c[0],g=c[1],h=new m(f(a,e,g)),i=0,j=g>0?e-4:e,k=0;k<j;k+=4)b=l[a.charCodeAt(k)]<<18|l[a.charCodeAt(k+1)]<<12|l[a.charCodeAt(k+2)]<<6|l[a.charCodeAt(k+3)],h[i++]=b>>16&255,h[i++]=b>>8&255,h[i++]=255&b;return 2===g&&(b=l[a.charCodeAt(k)]<<2|l[a.charCodeAt(k+1)]>>4,h[i++]=255&b),1===g&&(b=l[a.charCodeAt(k)]<<10|l[a.charCodeAt(k+1)]<<4|l[a.charCodeAt(k+2)]>>2,h[i++]=b>>8&255,h[i++]=255&b),h}function h(a){return k[a>>18&63]+k[a>>12&63]+k[a>>6&63]+k[63&a]}function i(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16&16711680)+(a[f+1]<<8&65280)+(255&a[f+2]),e.push(h(d));return e.join("")}function j(a){for(var b,c=a.length,d=c%3,e=[],f=16383,g=0,h=c-d;g<h;g+=f)e.push(i(a,g,g+f>h?h:g+f));return 1===d?(b=a[c-1],e.push(k[b>>2]+k[b<<4&63]+"==")):2===d&&(b=(a[c-2]<<8)+a[c-1],e.push(k[b>>10]+k[b>>4&63]+k[b<<2&63]+"=")),e.join("")}c.byteLength=e,c.toByteArray=g,c.fromByteArray=j;for(var k=[],l=[],m="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,p=n.length;o<p;++o)k[o]=n[o],l[n.charCodeAt(o)]=o;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],17:[function(a,b,c){"use strict";var d=a("object-keys"),e="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),f=Object.prototype.toString,g=Array.prototype.concat,h=Object.defineProperty,i=function(a){return"function"==typeof a&&"[object Function]"===f.call(a)},j=function(){var a={};try{h(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a}catch(c){return!1}},k=h&&j(),l=function(a,b,c,d){(!(b in a)||i(d)&&d())&&(k?h(a,b,{configurable:!0,enumerable:!1,value:c,writable:!0}):a[b]=c)},m=function(a,b){var c=arguments.length>2?arguments[2]:{},f=d(b);e&&(f=g.call(f,Object.getOwnPropertySymbols(b)));for(var h=0;h<f.length;h+=1)l(a,f[h],b[f[h]],c[f[h]])};m.supportsDescriptors=!!k,b.exports=m},{"object-keys":47}],18:[function(a,b,c){"use strict";var d,e,f,g,h=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,j=Object.getPrototypeOf||function(a){return a.__proto__},k=e?j(e):d,l=f?f.constructor:d,m=g?j(g):d,n=g?g():d,o="undefined"==typeof Uint8Array?d:j(Uint8Array),p={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?d:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?d:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":i?j([][Symbol.iterator]()):d,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":d,"$ %AsyncFunction%":l,"$ %AsyncFunctionPrototype%":l?l.prototype:d,"$ %AsyncGenerator%":g?j(n):d,"$ %AsyncGeneratorFunction%":m,"$ %AsyncGeneratorPrototype%":m?m.prototype:d,"$ %AsyncIteratorPrototype%":n&&i&&Symbol.asyncIterator?n[Symbol.asyncIterator]():d,"$ %Atomics%":"undefined"==typeof Atomics?d:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?d:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?d:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?d:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?d:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?d:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?d:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":e?j(e()):d,"$ %GeneratorFunction%":k,"$ %GeneratorPrototype%":k?k.prototype:d,"$ %Int8Array%":"undefined"==typeof Int8Array?d:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?d:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?d:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?d:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?d:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?d:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":i?j(j([][Symbol.iterator]())):d,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?d:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&i?j((new Map)[Symbol.iterator]()):d,"$ %MapPrototype%":"undefined"==typeof Map?d:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?d:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?d:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?d:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?d:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?d:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?d:Promise.resolve,
"$ %Proxy%":"undefined"==typeof Proxy?d:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?d:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?d:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&i?j((new Set)[Symbol.iterator]()):d,"$ %SetPrototype%":"undefined"==typeof Set?d:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?d:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?d:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":i?j(""[Symbol.iterator]()):d,"$ %StringPrototype%":String.prototype,"$ %Symbol%":i?Symbol:d,"$ %SymbolPrototype%":i?Symbol.prototype:d,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":h,"$ %TypedArray%":o,"$ %TypedArrayPrototype%":o?o.prototype:d,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?d:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?d:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?d:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?d:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?d:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?d:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?d:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?d:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?d:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?d:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?d:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?d:WeakSet.prototype};b.exports=function(a,b){if(arguments.length>1&&"boolean"!=typeof b)throw new TypeError('"allowMissing" argument must be a boolean');var c="$ "+a;if(!(c in p))throw new SyntaxError("intrinsic "+a+" does not exist!");if("undefined"==typeof p[c]&&!b)throw new TypeError("intrinsic "+a+" exists, but is not available. Please file an issue!");return p[c]}},{}],19:[function(a,b,c){"use strict";var d=a("has"),e=a("es-to-primitive/es6"),f=a("object-keys"),g=a("./GetIntrinsic"),h=g("%TypeError%"),i=g("%SyntaxError%"),j=g("%Array%"),k=g("%String%"),l=g("%Object%"),m=g("%Number%"),n=g("%Symbol%",!0),o=g("%RegExp%"),p=!!n,q=a("./helpers/assertRecord"),r=a("./helpers/isNaN"),s=a("./helpers/isFinite"),t=m.MAX_SAFE_INTEGER||Math.pow(2,53)-1,u=a("./helpers/assign"),v=a("./helpers/sign"),w=a("./helpers/mod"),x=a("./helpers/isPrimitive"),y=parseInt,z=a("function-bind"),A=z.call(Function.call,j.prototype.slice),B=z.call(Function.call,k.prototype.slice),C=z.call(Function.call,o.prototype.test,/^0b[01]+$/i),D=z.call(Function.call,o.prototype.test,/^0o[0-7]+$/i),E=z.call(Function.call,o.prototype.exec),F=["","​","￾"].join(""),G=new o("["+F+"]","g"),H=z.call(Function.call,o.prototype.test,G),I=/^[-+]0x[0-9a-f]+$/i,J=z.call(Function.call,o.prototype.test,I),K=z.call(Function.call,k.prototype.charCodeAt),L=z.call(Function.call,Object.prototype.toString),M=z.call(Function.call,g("%NumberPrototype%").valueOf),N=z.call(Function.call,g("%BooleanPrototype%").valueOf),O=z.call(Function.call,g("%StringPrototype%").valueOf),P=z.call(Function.call,g("%DatePrototype%").valueOf),Q=Math.floor,R=Math.abs,S=Object.create,T=l.getOwnPropertyDescriptor,U=l.isExtensible,V=l.defineProperty,W=["\t\n\x0B\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),X=new RegExp("(^["+W+"]+)|(["+W+"]+$)","g"),Y=z.call(Function.call,k.prototype.replace),Z=function(a){return Y(a,X,"")},$=a("./es5"),_=a("is-regex"),aa=u(u({},$),{Call:function(a,b){var c=arguments.length>2?arguments[2]:[];if(!this.IsCallable(a))throw new h(a+" is not a function");return a.apply(b,c)},ToPrimitive:e,ToNumber:function(a){var b=x(a)?a:e(a,m);if("symbol"==typeof b)throw new h("Cannot convert a Symbol value to a number");if("string"==typeof b){if(C(b))return this.ToNumber(y(B(b,2),2));if(D(b))return this.ToNumber(y(B(b,2),8));if(H(b)||J(b))return NaN;var c=Z(b);if(c!==b)return this.ToNumber(c)}return m(b)},ToInt16:function(a){var b=this.ToUint16(a);return b>=32768?b-65536:b},ToInt8:function(a){var b=this.ToUint8(a);return b>=128?b-256:b},ToUint8:function(a){var b=this.ToNumber(a);if(r(b)||0===b||!s(b))return 0;var c=v(b)*Q(R(b));return w(c,256)},ToUint8Clamp:function(a){var b=this.ToNumber(a);if(r(b)||b<=0)return 0;if(b>=255)return 255;var c=Q(a);return c+.5<b?c+1:b<c+.5?c:c%2!==0?c+1:c},ToString:function(a){if("symbol"==typeof a)throw new h("Cannot convert a Symbol value to a string");return k(a)},ToObject:function(a){return this.RequireObjectCoercible(a),l(a)},ToPropertyKey:function(a){var b=this.ToPrimitive(a,k);return"symbol"==typeof b?b:this.ToString(b)},ToLength:function(a){var b=this.ToInteger(a);return b<=0?0:b>t?t:b},CanonicalNumericIndexString:function(a){if("[object String]"!==L(a))throw new h("must be a string");if("-0"===a)return-0;var b=this.ToNumber(a);return this.SameValue(this.ToString(b),a)?b:void 0},RequireObjectCoercible:$.CheckObjectCoercible,IsArray:j.isArray||function(a){return"[object Array]"===L(a)},IsConstructor:function(a){return"function"==typeof a&&!!a.prototype},IsExtensible:Object.preventExtensions?function(a){return!x(a)&&U(a)}:function(a){return!0},IsInteger:function(a){if("number"!=typeof a||r(a)||!s(a))return!1;var b=R(a);return Q(b)===b},IsPropertyKey:function(a){return"string"==typeof a||"symbol"==typeof a},IsRegExp:function(a){if(!a||"object"!=typeof a)return!1;if(p){var b=a[n.match];if("undefined"!=typeof b)return $.ToBoolean(b)}return _(a)},SameValueZero:function(a,b){return a===b||r(a)&&r(b)},GetV:function(a,b){if(!this.IsPropertyKey(b))throw new h("Assertion failed: IsPropertyKey(P) is not true");var c=this.ToObject(a);return c[b]},GetMethod:function(a,b){if(!this.IsPropertyKey(b))throw new h("Assertion failed: IsPropertyKey(P) is not true");var c=this.GetV(a,b);if(null!=c){if(!this.IsCallable(c))throw new h(b+"is not a function");return c}},Get:function(a,b){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(b))throw new h("Assertion failed: IsPropertyKey(P) is not true");return a[b]},Type:function(a){return"symbol"==typeof a?"Symbol":$.Type(a)},SpeciesConstructor:function(a,b){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(O) is not Object");var c=a.constructor;if("undefined"==typeof c)return b;if("Object"!==this.Type(c))throw new h("O.constructor is not an Object");var d=p&&n.species?c[n.species]:void 0;if(null==d)return b;if(this.IsConstructor(d))return d;throw new h("no constructor found")},CompletePropertyDescriptor:function(a){return q(this,"Property Descriptor","Desc",a),this.IsGenericDescriptor(a)||this.IsDataDescriptor(a)?(d(a,"[[Value]]")||(a["[[Value]]"]=void 0),d(a,"[[Writable]]")||(a["[[Writable]]"]=!1)):(d(a,"[[Get]]")||(a["[[Get]]"]=void 0),d(a,"[[Set]]")||(a["[[Set]]"]=void 0)),d(a,"[[Enumerable]]")||(a["[[Enumerable]]"]=!1),d(a,"[[Configurable]]")||(a["[[Configurable]]"]=!1),a},Set:function(a,b,c,d){if("Object"!==this.Type(a))throw new h("O must be an Object");if(!this.IsPropertyKey(b))throw new h("P must be a Property Key");if("Boolean"!==this.Type(d))throw new h("Throw must be a Boolean");if(d)return a[b]=c,!0;try{a[b]=c}catch(e){return!1}},HasOwnProperty:function(a,b){if("Object"!==this.Type(a))throw new h("O must be an Object");if(!this.IsPropertyKey(b))throw new h("P must be a Property Key");return d(a,b)},HasProperty:function(a,b){if("Object"!==this.Type(a))throw new h("O must be an Object");if(!this.IsPropertyKey(b))throw new h("P must be a Property Key");return b in a},IsConcatSpreadable:function(a){if("Object"!==this.Type(a))return!1;if(p&&"symbol"==typeof n.isConcatSpreadable){var b=this.Get(a,Symbol.isConcatSpreadable);if("undefined"!=typeof b)return this.ToBoolean(b)}return this.IsArray(a)},Invoke:function(a,b){if(!this.IsPropertyKey(b))throw new h("P must be a Property Key");var c=A(arguments,2),d=this.GetV(a,b);return this.Call(d,a,c)},GetIterator:function(a,b){if(!p)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var c=b;arguments.length<2&&(c=this.GetMethod(a,n.iterator));var d=this.Call(c,a);if("Object"!==this.Type(d))throw new h("iterator must return an object");return d},IteratorNext:function(a,b){var c=this.Invoke(a,"next",arguments.length<2?[]:[b]);if("Object"!==this.Type(c))throw new h("iterator next must return an object");return c},IteratorComplete:function(a){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(a,"done"))},IteratorValue:function(a){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(iterResult) is not Object");return this.Get(a,"value")},IteratorStep:function(a){var b=this.IteratorNext(a),c=this.IteratorComplete(b);return c!==!0&&b},IteratorClose:function(a,b){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(b))throw new h("Assertion failed: completion is not a thunk for a Completion Record");var c=b,d=this.GetMethod(a,"return");if("undefined"==typeof d)return c();var e;try{var f=this.Call(d,a,[])}catch(g){throw e=c(),c=null,g}if(e=c(),c=null,"Object"!==this.Type(f))throw new h("iterator .return must return an object");return e},CreateIterResultObject:function(a,b){if("Boolean"!==this.Type(b))throw new h("Assertion failed: Type(done) is not Boolean");return{value:a,done:b}},RegExpExec:function(a,b){if("Object"!==this.Type(a))throw new h("R must be an Object");if("String"!==this.Type(b))throw new h("S must be a String");var c=this.Get(a,"exec");if(this.IsCallable(c)){var d=this.Call(c,a,[b]);if(null===d||"Object"===this.Type(d))return d;throw new h('"exec" method must return `null` or an Object')}return E(a,b)},ArraySpeciesCreate:function(a,b){if(!this.IsInteger(b)||b<0)throw new h("Assertion failed: length must be an integer >= 0");var c,d=0===b?0:b,e=this.IsArray(a);if(e&&(c=this.Get(a,"constructor"),"Object"===this.Type(c)&&p&&n.species&&(c=this.Get(c,n.species),null===c&&(c=void 0))),"undefined"==typeof c)return j(d);if(!this.IsConstructor(c))throw new h("C must be a constructor");return new c(d)},CreateDataProperty:function(a,b,c){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(b))throw new h("Assertion failed: IsPropertyKey(P) is not true");var d=T(a,b),e=d||"function"!=typeof U||U(a),f=d&&(!d.writable||!d.configurable);if(f||!e)return!1;var g={configurable:!0,enumerable:!0,value:c,writable:!0};return V(a,b,g),!0},CreateDataPropertyOrThrow:function(a,b,c){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(b))throw new h("Assertion failed: IsPropertyKey(P) is not true");var d=this.CreateDataProperty(a,b,c);if(!d)throw new h("unable to create data property");return d},ObjectCreate:function(a,b){if(null!==a&&"Object"!==this.Type(a))throw new h("Assertion failed: proto must be null or an object");var c=arguments.length<2?[]:b;if(c.length>0)throw new i("es-abstract does not yet support internal slots");if(null===a&&!S)throw new i("native Object.create support is required to create null objects");return S(a)},AdvanceStringIndex:function(a,b,c){if("String"!==this.Type(a))throw new h("S must be a String");if(!this.IsInteger(b)||b<0||b>t)throw new h("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(c))throw new h("Assertion failed: unicode must be a Boolean");if(!c)return b+1;var d=a.length;if(b+1>=d)return b+1;var e=K(a,b);if(e<55296||e>56319)return b+1;var f=K(a,b+1);return f<56320||f>57343?b+1:b+2},CreateMethodProperty:function(a,b,c){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(b))throw new h("Assertion failed: IsPropertyKey(P) is not true");var d={configurable:!0,enumerable:!1,value:c,writable:!0};return!!V(a,b,d)},DefinePropertyOrThrow:function(a,b,c){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(b))throw new h("Assertion failed: IsPropertyKey(P) is not true");return!!V(a,b,c)},DeletePropertyOrThrow:function(a,b){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(b))throw new h("Assertion failed: IsPropertyKey(P) is not true");var c=delete a[b];if(!c)throw new TypeError("Attempt to delete property failed.");return c},EnumerableOwnNames:function(a){if("Object"!==this.Type(a))throw new h("Assertion failed: Type(O) is not Object");return f(a)},thisNumberValue:function(a){return"Number"===this.Type(a)?a:M(a)},thisBooleanValue:function(a){return"Boolean"===this.Type(a)?a:N(a)},thisStringValue:function(a){return"String"===this.Type(a)?a:O(a)},thisTimeValue:function(a){return P(a)}});delete aa.CheckObjectCoercible,b.exports=aa},{"./GetIntrinsic":18,"./es5":20,"./helpers/assertRecord":22,"./helpers/assign":23,"./helpers/isFinite":24,"./helpers/isNaN":25,"./helpers/isPrimitive":26,"./helpers/mod":27,"./helpers/sign":28,"es-to-primitive/es6":31,"function-bind":35,has:39,"is-regex":43,"object-keys":47}],20:[function(a,b,c){"use strict";var d=a("./GetIntrinsic"),e=d("%Object%"),f=d("%TypeError%"),g=d("%String%"),h=a("./helpers/assertRecord"),i=a("./helpers/isNaN"),j=a("./helpers/isFinite"),k=a("./helpers/sign"),l=a("./helpers/mod"),m=a("is-callable"),n=a("es-to-primitive/es5"),o=a("has"),p={ToPrimitive:n,ToBoolean:function(a){return!!a},ToNumber:function(a){return+a},ToInteger:function(a){var b=this.ToNumber(a);return i(b)?0:0!==b&&j(b)?k(b)*Math.floor(Math.abs(b)):b},ToInt32:function(a){return this.ToNumber(a)>>0},ToUint32:function(a){return this.ToNumber(a)>>>0},ToUint16:function(a){var b=this.ToNumber(a);if(i(b)||0===b||!j(b))return 0;var c=k(b)*Math.floor(Math.abs(b));return l(c,65536)},ToString:function(a){return g(a)},ToObject:function(a){return this.CheckObjectCoercible(a),e(a)},CheckObjectCoercible:function(a,b){if(null==a)throw new f(b||"Cannot call method on "+a);return a},IsCallable:m,SameValue:function(a,b){return a===b?0!==a||1/a===1/b:i(a)&&i(b)},Type:function(a){return null===a?"Null":"undefined"==typeof a?"Undefined":"function"==typeof a||"object"==typeof a?"Object":"number"==typeof a?"Number":"boolean"==typeof a?"Boolean":"string"==typeof a?"String":void 0},IsPropertyDescriptor:function(a){if("Object"!==this.Type(a))return!1;var b={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var c in a)if(o(a,c)&&!b[c])return!1;var d=o(a,"[[Value]]"),e=o(a,"[[Get]]")||o(a,"[[Set]]");if(d&&e)throw new f("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(a){return"undefined"!=typeof a&&(h(this,"Property Descriptor","Desc",a),!(!o(a,"[[Get]]")&&!o(a,"[[Set]]")))},IsDataDescriptor:function(a){return"undefined"!=typeof a&&(h(this,"Property Descriptor","Desc",a),!(!o(a,"[[Value]]")&&!o(a,"[[Writable]]")))},IsGenericDescriptor:function(a){return"undefined"!=typeof a&&(h(this,"Property Descriptor","Desc",a),!this.IsAccessorDescriptor(a)&&!this.IsDataDescriptor(a))},FromPropertyDescriptor:function(a){if("undefined"==typeof a)return a;if(h(this,"Property Descriptor","Desc",a),this.IsDataDescriptor(a))return{value:a["[[Value]]"],writable:!!a["[[Writable]]"],enumerable:!!a["[[Enumerable]]"],configurable:!!a["[[Configurable]]"]};if(this.IsAccessorDescriptor(a))return{get:a["[[Get]]"],set:a["[[Set]]"],enumerable:!!a["[[Enumerable]]"],configurable:!!a["[[Configurable]]"]};throw new f("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(a){if("Object"!==this.Type(a))throw new f("ToPropertyDescriptor requires an object");var b={};if(o(a,"enumerable")&&(b["[[Enumerable]]"]=this.ToBoolean(a.enumerable)),o(a,"configurable")&&(b["[[Configurable]]"]=this.ToBoolean(a.configurable)),o(a,"value")&&(b["[[Value]]"]=a.value),o(a,"writable")&&(b["[[Writable]]"]=this.ToBoolean(a.writable)),o(a,"get")){var c=a.get;if("undefined"!=typeof c&&!this.IsCallable(c))throw new TypeError("getter must be a function");b["[[Get]]"]=c}if(o(a,"set")){var d=a.set;if("undefined"!=typeof d&&!this.IsCallable(d))throw new f("setter must be a function");b["[[Set]]"]=d}if((o(b,"[[Get]]")||o(b,"[[Set]]"))&&(o(b,"[[Value]]")||o(b,"[[Writable]]")))throw new f("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return b}};b.exports=p},{"./GetIntrinsic":18,"./helpers/assertRecord":22,"./helpers/isFinite":24,"./helpers/isNaN":25,"./helpers/mod":27,"./helpers/sign":28,"es-to-primitive/es5":30,has:39,"is-callable":41}],21:[function(a,b,c){"use strict";b.exports=a("./es2015")},{"./es2015":19}],22:[function(a,b,c){"use strict";var d=a("../GetIntrinsic"),e=d("%TypeError%"),f=d("%SyntaxError%"),g=a("has"),h={"Property Descriptor":function(a,b){if("Object"!==a.Type(b))return!1;var c={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var d in b)if(g(b,d)&&!c[d])return!1;var f=g(b,"[[Value]]"),h=g(b,"[[Get]]")||g(b,"[[Set]]");if(f&&h)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0}};b.exports=function(a,b,c,d){var g=h[b];if("function"!=typeof g)throw new f("unknown record type: "+b);if(!g(a,d))throw new e(c+" must be a "+b);console.log(g(a,d),d)}},{"../GetIntrinsic":18,has:39}],23:[function(a,b,c){var d=a("function-bind"),e=d.call(Function.call,Object.prototype.hasOwnProperty),f=Object.assign;b.exports=function(a,b){if(f)return f(a,b);for(var c in b)e(b,c)&&(a[c]=b[c]);return a}},{"function-bind":35}],24:[function(a,b,c){var d=Number.isNaN||function(a){return a!==a};b.exports=Number.isFinite||function(a){return"number"==typeof a&&!d(a)&&a!==1/0&&a!==-(1/0)}},{}],25:[function(a,b,c){b.exports=Number.isNaN||function(a){return a!==a}},{}],26:[function(a,b,c){b.exports=function(a){return null===a||"function"!=typeof a&&"object"!=typeof a}},{}],27:[function(a,b,c){b.exports=function(a,b){var c=a%b;return Math.floor(c>=0?c:c+b)}},{}],28:[function(a,b,c){b.exports=function(a){return a>=0?1:-1}},{}],29:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,e=a("./helpers/isPrimitive"),f=a("is-callable"),g=a("is-date-object"),h=a("is-symbol"),i=function(a,b){if("undefined"==typeof a||null===a)throw new TypeError("Cannot call method on "+a);if("string"!=typeof b||"number"!==b&&"string"!==b)throw new TypeError('hint must be "string" or "number"');var c,d,g,h="string"===b?["toString","valueOf"]:["valueOf","toString"];for(g=0;g<h.length;++g)if(c=a[h[g]],f(c)&&(d=c.call(a),e(d)))return d;throw new TypeError("No default value")},j=function(a,b){var c=a[b];if(null!==c&&"undefined"!=typeof c){if(!f(c))throw new TypeError(c+" returned for property "+b+" of object "+a+" is not a function");return c}};b.exports=function(a){if(e(a))return a;var b="default";arguments.length>1&&(arguments[1]===String?b="string":arguments[1]===Number&&(b="number"));var c;if(d&&(Symbol.toPrimitive?c=j(a,Symbol.toPrimitive):h(a)&&(c=Symbol.prototype.valueOf)),"undefined"!=typeof c){var f=c.call(a,b);if(e(f))return f;throw new TypeError("unable to convert exotic object to primitive")}return"default"===b&&(g(a)||h(a))&&(b="string"),i(a,"default"===b?"number":b)}},{"./helpers/isPrimitive":32,"is-callable":41,"is-date-object":42,"is-symbol":44}],30:[function(a,b,c){"use strict";var d=Object.prototype.toString,e=a("./helpers/isPrimitive"),f=a("is-callable"),g={"[[DefaultValue]]":function(a){var b;if(b=arguments.length>1?arguments[1]:"[object Date]"===d.call(a)?String:Number,b===String||b===Number){var c,g,h=b===String?["toString","valueOf"]:["valueOf","toString"];for(g=0;g<h.length;++g)if(f(a[h[g]])&&(c=a[h[g]](),e(c)))return c;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};b.exports=function(a){return e(a)?a:arguments.length>1?g["[[DefaultValue]]"](a,arguments[1]):g["[[DefaultValue]]"](a)}},{"./helpers/isPrimitive":32,"is-callable":41}],31:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{"./es2015":29,dup:21}],32:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{dup:26}],33:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===e.call(a)},i=function(a){if(!a||"[object Object]"!==e.call(a))return!1;var b=d.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return"undefined"==typeof f||d.call(a,f)},j=function(a,b){f&&"__proto__"===b.name?f(a,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):a[b.name]=b.newValue},k=function(a,b){if("__proto__"===b){if(!d.call(a,b))return;if(g)return g(a,b).value}return a[b]};b.exports=function l(){var a,b,c,d,e,f,g=arguments[0],m=1,n=arguments.length,o=!1;for("boolean"==typeof g&&(o=g,g=arguments[1]||{},m=2),(null==g||"object"!=typeof g&&"function"!=typeof g)&&(g={});m<n;++m)if(a=arguments[m],null!=a)for(b in a)c=k(g,b),d=k(a,b),g!==d&&(o&&d&&(i(d)||(e=h(d)))?(e?(e=!1,f=c&&h(c)?c:[]):f=c&&i(c)?c:{},j(g,{name:b,newValue:l(o,f,d)})):"undefined"!=typeof d&&j(g,{name:b,newValue:d}));return g}},{}],34:[function(a,b,c){"use strict";var d="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,f=Object.prototype.toString,g="[object Function]";b.exports=function(a){var b=this;if("function"!=typeof b||f.call(b)!==g)throw new TypeError(d+b);for(var c,h=e.call(arguments,1),i=function(){if(this instanceof c){var d=b.apply(this,h.concat(e.call(arguments)));return Object(d)===d?d:this}return b.apply(a,h.concat(e.call(arguments)))},j=Math.max(0,b.length-h.length),k=[],l=0;l<j;l++)k.push("$"+l);if(c=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this,arguments); }")(i),b.prototype){var m=function(){};m.prototype=b.prototype,c.prototype=new m,m.prototype=null}return c}},{}],35:[function(a,b,c){"use strict";var d=a("./implementation");b.exports=Function.prototype.bind||d},{"./implementation":34}],36:[function(a,b,c){(function(b){"use strict";function d(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()}catch(b){return!1}}function e(a){if(a>X)throw new RangeError('The value "'+a+'" is invalid for option "size"');var c=new Uint8Array(a);return c.__proto__=b.prototype,c}function b(a,b,c){if("number"==typeof a){if("string"==typeof b)throw new TypeError('The "string" argument must be of type string. Received type number');return i(a)}return f(a,b,c)}function f(a,c,d){if("string"==typeof a)return j(a,c);if(ArrayBuffer.isView(a))return k(a);if(null==a)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(T(a,ArrayBuffer)||a&&T(a.buffer,ArrayBuffer))return l(a,c,d);if("number"==typeof a)throw new TypeError('The "value" argument must not be of type number. Received type number');var e=a.valueOf&&a.valueOf();if(null!=e&&e!==a)return b.from(e,c,d);var f=m(a);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof a[Symbol.toPrimitive])return b.from(a[Symbol.toPrimitive]("string"),c,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}function g(a){if("number"!=typeof a)throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function h(a,b,c){return g(a),a<=0?e(a):void 0!==b?"string"==typeof c?e(a).fill(b,c):e(a).fill(b):e(a)}function i(a){return g(a),e(a<0?0:0|n(a))}function j(a,c){if("string"==typeof c&&""!==c||(c="utf8"),!b.isEncoding(c))throw new TypeError("Unknown encoding: "+c);var d=0|p(a,c),f=e(d),g=f.write(a,c);return g!==d&&(f=f.slice(0,g)),f}function k(a){for(var b=a.length<0?0:0|n(a.length),c=e(b),d=0;d<b;d+=1)c[d]=255&a[d];return c}function l(a,c,d){if(c<0||a.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<c+(d||0))throw new RangeError('"length" is outside of buffer bounds');var e;return e=void 0===c&&void 0===d?new Uint8Array(a):void 0===d?new Uint8Array(a,c):new Uint8Array(a,c,d),e.__proto__=b.prototype,e}function m(a){if(b.isBuffer(a)){var c=0|n(a.length),d=e(c);return 0===d.length?d:(a.copy(d,0,0,c),d)}return void 0!==a.length?"number"!=typeof a.length||U(a.length)?e(0):k(a):"Buffer"===a.type&&Array.isArray(a.data)?k(a.data):void 0}function n(a){if(a>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|a}function o(a){return+a!=a&&(a=0),b.alloc(+a)}function p(a,c){if(b.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||T(a,ArrayBuffer))return a.byteLength;if("string"!=typeof a)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);var d=a.length,e=arguments.length>2&&arguments[2]===!0;if(!e&&0===d)return 0;for(var f=!1;;)switch(c){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return O(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*d;case"hex":return d>>>1;case"base64":return R(a).length;default:if(f)return e?-1:O(a).length;c=(""+c).toLowerCase(),f=!0}}function q(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"latin1":case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function r(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function s(a,c,d,e,f){if(0===a.length)return-1;if("string"==typeof d?(e=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,U(d)&&(d=f?0:a.length-1),d<0&&(d=a.length+d),d>=a.length){if(f)return-1;d=a.length-1}else if(d<0){if(!f)return-1;d=0}if("string"==typeof c&&(c=b.from(c,e)),b.isBuffer(c))return 0===c.length?-1:t(a,c,d,e,f);if("number"==typeof c)return c=255&c,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(a,c,d):Uint8Array.prototype.lastIndexOf.call(a,c,d):t(a,[c],d,e,f);throw new TypeError("val must be string, number or Buffer")}function t(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&(d=String(d).toLowerCase(),"ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,k===-1?0:j-k)){if(k===-1&&(k=j),j-k+1===i)return k*g}else k!==-1&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(U(h))return g;a[c+g]=h}return g}function v(a,b,c,d){return S(O(b,a.length-c),a,c,d)}function w(a,b,c,d){return S(P(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return S(R(b),a,c,d)}function z(a,b,c,d){return S(Q(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?V.fromByteArray(a):V.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=Y)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=Y));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=N(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,c,d,e,f,g){if(!b.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>f||c<g)throw new RangeError('"value" argument is out of bounds');if(d+e>a.length)throw new RangeError("Index out of range")}function J(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function K(a,b,c,d,e){return b=+b,c>>>=0,e||J(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(a,b,c,d,23,4),c+4}function L(a,b,c,d,e){return b=+b,c>>>=0,e||J(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(a,b,c,d,52,8),c+8}function M(a){if(a=a.split("=")[0],a=a.trim().replace(Z,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function N(a){return a<16?"0"+a.toString(16):a.toString(16)}function O(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function P(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function Q(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function R(a){return V.toByteArray(M(a))}function S(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function T(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}function U(a){return a!==a}var V=a("base64-js"),W=a("ieee754");c.Buffer=b,c.SlowBuffer=o,c.INSPECT_MAX_BYTES=50;var X=2147483647;c.kMaxLength=X,b.TYPED_ARRAY_SUPPORT=d(),b.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(b.prototype,"parent",{
enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),b.poolSize=8192,b.from=function(a,b,c){return f(a,b,c)},b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,b.alloc=function(a,b,c){return h(a,b,c)},b.allocUnsafe=function(a){return i(a)},b.allocUnsafeSlow=function(a){return i(a)},b.isBuffer=function(a){return null!=a&&a._isBuffer===!0&&a!==b.prototype},b.compare=function(a,c){if(T(a,Uint8Array)&&(a=b.from(a,a.offset,a.byteLength)),T(c,Uint8Array)&&(c=b.from(c,c.offset,c.byteLength)),!b.isBuffer(a)||!b.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===c)return 0;for(var d=a.length,e=c.length,f=0,g=Math.min(d,e);f<g;++f)if(a[f]!==c[f]){d=a[f],e=c[f];break}return d<e?-1:e<d?1:0},b.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(a,c){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return b.alloc(0);var d;if(void 0===c)for(c=0,d=0;d<a.length;++d)c+=a[d].length;var e=b.allocUnsafe(c),f=0;for(d=0;d<a.length;++d){var g=a[d];if(T(g,Uint8Array)&&(g=b.from(g)),!b.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(e,f),f+=g.length}return e},b.byteLength=p,b.prototype._isBuffer=!0,b.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)r(this,b,b+1);return this},b.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)r(this,b,b+3),r(this,b+1,b+2);return this},b.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)r(this,b,b+7),r(this,b+1,b+6),r(this,b+2,b+5),r(this,b+3,b+4);return this},b.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?B(this,0,a):q.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(a){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===b.compare(this,a)},b.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(a+=" ... "),"<Buffer "+a+">"},b.prototype.compare=function(a,c,d,e,f){if(T(a,Uint8Array)&&(a=b.from(a,a.offset,a.byteLength)),!b.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(void 0===c&&(c=0),void 0===d&&(d=a?a.length:0),void 0===e&&(e=0),void 0===f&&(f=this.length),c<0||d>a.length||e<0||f>this.length)throw new RangeError("out of range index");if(e>=f&&c>=d)return 0;if(e>=f)return-1;if(c>=d)return 1;if(c>>>=0,d>>>=0,e>>>=0,f>>>=0,this===a)return 0;for(var g=f-e,h=d-c,i=Math.min(g,h),j=this.slice(e,f),k=a.slice(c,d),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},b.prototype.includes=function(a,b,c){return this.indexOf(a,b,c)!==-1},b.prototype.indexOf=function(a,b,c){return s(this,a,b,c,!0)},b.prototype.lastIndexOf=function(a,b,c){return s(this,a,b,c,!1)},b.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(c)?(c>>>=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"latin1":case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;b.prototype.slice=function(a,c){var d=this.length;a=~~a,c=void 0===c?d:~~c,a<0?(a+=d,a<0&&(a=0)):a>d&&(a=d),c<0?(c+=d,c<0&&(c=0)):c>d&&(c=d),c<a&&(c=a);var e=this.subarray(a,c);return e.__proto__=b.prototype,e},b.prototype.readUIntLE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},b.prototype.readUIntBE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},b.prototype.readUInt8=function(a,b){return a>>>=0,b||H(a,1,this.length),this[a]},b.prototype.readUInt16LE=function(a,b){return a>>>=0,b||H(a,2,this.length),this[a]|this[a+1]<<8},b.prototype.readUInt16BE=function(a,b){return a>>>=0,b||H(a,2,this.length),this[a]<<8|this[a+1]},b.prototype.readUInt32LE=function(a,b){return a>>>=0,b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},b.prototype.readUInt32BE=function(a,b){return a>>>=0,b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},b.prototype.readIntLE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},b.prototype.readIntBE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},b.prototype.readInt8=function(a,b){return a>>>=0,b||H(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},b.prototype.readInt16LE=function(a,b){a>>>=0,b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},b.prototype.readInt16BE=function(a,b){a>>>=0,b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},b.prototype.readInt32LE=function(a,b){return a>>>=0,b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},b.prototype.readInt32BE=function(a,b){return a>>>=0,b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},b.prototype.readFloatLE=function(a,b){return a>>>=0,b||H(a,4,this.length),W.read(this,a,!0,23,4)},b.prototype.readFloatBE=function(a,b){return a>>>=0,b||H(a,4,this.length),W.read(this,a,!1,23,4)},b.prototype.readDoubleLE=function(a,b){return a>>>=0,b||H(a,8,this.length),W.read(this,a,!0,52,8)},b.prototype.readDoubleBE=function(a,b){return a>>>=0,b||H(a,8,this.length),W.read(this,a,!1,52,8)},b.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b>>>=0,c>>>=0,!d){var e=Math.pow(2,8*c)-1;I(this,a,b,c,e,0)}var f=1,g=0;for(this[b]=255&a;++g<c&&(f*=256);)this[b+g]=a/f&255;return b+c},b.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b>>>=0,c>>>=0,!d){var e=Math.pow(2,8*c)-1;I(this,a,b,c,e,0)}var f=c-1,g=1;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=a/g&255;return b+c},b.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,1,255,0),this[b]=255&a,b+1},b.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,65535,0),this[b]=255&a,this[b+1]=a>>>8,b+2},b.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,65535,0),this[b]=a>>>8,this[b+1]=255&a,b+2},b.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,4294967295,0),this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a,b+4},b.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,4294967295,0),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},b.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b>>>=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},b.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b>>>=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},b.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,1,127,-128),a<0&&(a=255+a+1),this[b]=255&a,b+1},b.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,32767,-32768),this[b]=255&a,this[b+1]=a>>>8,b+2},b.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,32767,-32768),this[b]=a>>>8,this[b+1]=255&a,b+2},b.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,2147483647,-2147483648),this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24,b+4},b.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},b.prototype.writeFloatLE=function(a,b,c){return K(this,a,b,!0,c)},b.prototype.writeFloatBE=function(a,b,c){return K(this,a,b,!1,c)},b.prototype.writeDoubleLE=function(a,b,c){return L(this,a,b,!0,c)},b.prototype.writeDoubleBE=function(a,b,c){return L(this,a,b,!1,c)},b.prototype.copy=function(a,c,d,e){if(!b.isBuffer(a))throw new TypeError("argument should be a Buffer");if(d||(d=0),e||0===e||(e=this.length),c>=a.length&&(c=a.length),c||(c=0),e>0&&e<d&&(e=d),e===d)return 0;if(0===a.length||0===this.length)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),a.length-c<e-d&&(e=a.length-c+d);var f=e-d;if(this===a&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(c,d,e);else if(this===a&&d<c&&c<e)for(var g=f-1;g>=0;--g)a[g+c]=this[g+d];else Uint8Array.prototype.set.call(a,this.subarray(d,e),c);return f},b.prototype.fill=function(a,c,d,e){if("string"==typeof a){if("string"==typeof c?(e=c,c=0,d=this.length):"string"==typeof d&&(e=d,d=this.length),void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!b.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(1===a.length){var f=a.charCodeAt(0);("utf8"===e&&f<128||"latin1"===e)&&(a=f)}}else"number"==typeof a&&(a=255&a);if(c<0||this.length<c||this.length<d)throw new RangeError("Out of range index");if(d<=c)return this;c>>>=0,d=void 0===d?this.length:d>>>0,a||(a=0);var g;if("number"==typeof a)for(g=c;g<d;++g)this[g]=a;else{var h=b.isBuffer(a)?a:b.from(a,e),i=h.length;if(0===i)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(g=0;g<d-c;++g)this[g+c]=h[g%i]}return this};var Z=/[^+\/0-9A-Za-z-_]/g}).call(this,a("buffer").Buffer)},{"base64-js":16,buffer:36,ieee754:40}],37:[function(a,b,c){(function(c){"use strict";var d=c.Symbol,e=a("./shams");b.exports=function(){return"function"==typeof d&&("function"==typeof Symbol&&("symbol"==typeof d("foo")&&("symbol"==typeof Symbol("bar")&&e())))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./shams":38}],38:[function(a,b,c){"use strict";b.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var a={},b=Symbol("test"),c=Object(b);if("string"==typeof b)return!1;if("[object Symbol]"!==Object.prototype.toString.call(b))return!1;if("[object Symbol]"!==Object.prototype.toString.call(c))return!1;var d=42;a[b]=d;for(b in a)return!1;if("function"==typeof Object.keys&&0!==Object.keys(a).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(a).length)return!1;var e=Object.getOwnPropertySymbols(a);if(1!==e.length||e[0]!==b)return!1;if(!Object.prototype.propertyIsEnumerable.call(a,b))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(a,b);if(f.value!==d||f.enumerable!==!0)return!1}return!0}},{}],39:[function(a,b,c){"use strict";var d=a("function-bind");b.exports=d.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":35}],40:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],41:[function(a,b,c){"use strict";var d=Function.prototype.toString,e=/^\s*class\b/,f=function(a){try{var b=d.call(a);return e.test(b)}catch(c){return!1}},g=function(a){try{return!f(a)&&(d.call(a),!0)}catch(b){return!1}},h=Object.prototype.toString,i="[object Function]",j="[object GeneratorFunction]",k="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;b.exports=function(a){if(!a)return!1;if("function"!=typeof a&&"object"!=typeof a)return!1;if("function"==typeof a&&!a.prototype)return!0;if(k)return g(a);if(f(a))return!1;var b=h.call(a);return b===i||b===j}},{}],42:[function(a,b,c){"use strict";var d=Date.prototype.getDay,e=function(a){try{return d.call(a),!0}catch(b){return!1}},f=Object.prototype.toString,g="[object Date]",h="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;b.exports=function(a){return"object"==typeof a&&null!==a&&(h?e(a):f.call(a)===g)}},{}],43:[function(a,b,c){"use strict";var d=a("has"),e=RegExp.prototype.exec,f=Object.getOwnPropertyDescriptor,g=function(a){try{var b=a.lastIndex;return a.lastIndex=0,e.call(a),!0}catch(c){return!1}finally{a.lastIndex=b}},h=Object.prototype.toString,i="[object RegExp]",j="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;b.exports=function(a){if(!a||"object"!=typeof a)return!1;if(!j)return h.call(a)===i;var b=f(a,"lastIndex"),c=b&&d(b,"value");return!!c&&g(a)}},{has:39}],44:[function(a,b,c){"use strict";var d=Object.prototype.toString,e=a("has-symbols")();if(e){var f=Symbol.prototype.toString,g=/^Symbol\(.*\)$/,h=function(a){return"symbol"==typeof a.valueOf()&&g.test(f.call(a))};b.exports=function(a){if("symbol"==typeof a)return!0;if("[object Symbol]"!==d.call(a))return!1;try{return h(a)}catch(b){return!1}}}else b.exports=function(a){return!1}},{"has-symbols":37}],45:[function(a,b,c){"use strict";function d(a,b){if(a&&"object"==typeof a){if("string"==typeof b&&""!==b){var c=b.split(".");return c.reduce(function(a,b){return a&&a[b]},a)}return"number"==typeof b?a[b]:a}return a}function e(a,b,c){if(c=c||{},a&&"object"==typeof a){if("string"==typeof b&&""!==b){var d=b.split(".");return d.reduce(function(a,b,d,e){return d==e.length-1?c.own?!(!a||!a.hasOwnProperty(b)):!!(null!==a&&"object"==typeof a&&b in a):a&&a[b]},a)}return"number"==typeof b&&b in a}return!1}function f(a,b,c){if(a&&"object"==typeof a){if("string"==typeof b&&""!==b){var d=b.split(".");return d.reduce(function(a,b,e){return a[b]=a[b]||{},d.length==e+1&&(a[b]=c),a[b]},a)}return"number"==typeof b?(a[b]=c,a[b]):a}return a}function g(a,b,c,d){if(d=d||{},a&&"object"==typeof a){if("string"==typeof b&&""!==b){var e,f=b.split("."),g=!1;return e=!!f.reduce(function(a,b){return g=g||a===c||!!a&&a[b]===c,a&&a[b]},a),d.validPath?g&&e:g}return!1}return!1}b.exports={set:f,get:d,has:e,hasOwn:function(a,b,c){return this.has(a,b,c||{own:!0})},isIn:g}},{}],46:[function(a,b,c){"use strict";var d;if(!Object.keys){var e=Object.prototype.hasOwnProperty,f=Object.prototype.toString,g=a("./isArguments"),h=Object.prototype.propertyIsEnumerable,i=!h.call({toString:null},"toString"),j=h.call(function(){},"prototype"),k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(a){var b=a.constructor;return b&&b.prototype===a},m={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if("undefined"==typeof window)return!1;for(var a in window)try{if(!m["$"+a]&&e.call(window,a)&&null!==window[a]&&"object"==typeof window[a])try{l(window[a])}catch(b){return!0}}catch(b){return!0}return!1}(),o=function(a){if("undefined"==typeof window||!n)return l(a);try{return l(a)}catch(b){return!1}};d=function(a){var b=null!==a&&"object"==typeof a,c="[object Function]"===f.call(a),d=g(a),h=b&&"[object String]"===f.call(a),l=[];if(!b&&!c&&!d)throw new TypeError("Object.keys called on a non-object");var m=j&&c;if(h&&a.length>0&&!e.call(a,0))for(var n=0;n<a.length;++n)l.push(String(n));if(d&&a.length>0)for(var p=0;p<a.length;++p)l.push(String(p));else for(var q in a)m&&"prototype"===q||!e.call(a,q)||l.push(String(q));if(i)for(var r=o(a),s=0;s<k.length;++s)r&&"constructor"===k[s]||!e.call(a,k[s])||l.push(k[s]);return l}}b.exports=d},{"./isArguments":48}],47:[function(a,b,c){"use strict";var d=Array.prototype.slice,e=a("./isArguments"),f=Object.keys,g=f?function(a){return f(a)}:a("./implementation"),h=Object.keys;g.shim=function(){if(Object.keys){var a=function(){var a=Object.keys(arguments);return a&&a.length===arguments.length}(1,2);a||(Object.keys=function(a){return h(e(a)?d.call(a):a)})}else Object.keys=g;return Object.keys||g},b.exports=g},{"./implementation":46,"./isArguments":48}],48:[function(a,b,c){"use strict";var d=Object.prototype.toString;b.exports=function(a){var b=d.call(a),c="[object Arguments]"===b;return c||(c="[object Array]"!==b&&null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===d.call(a.callee)),c}},{}],49:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],50:[function(a,b,c){(function(b,d){function e(a,b){this._id=a,this._clearFn=b}var f=a("process/browser.js").nextTick,g=Function.prototype.apply,h=Array.prototype.slice,i={},j=0;c.setTimeout=function(){return new e(g.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new e(g.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c.setImmediate="function"==typeof b?b:function(a){var b=j++,d=!(arguments.length<2)&&h.call(arguments,1);return i[b]=!0,f(function(){i[b]&&(d?a.apply(null,d):a.call(null),c.clearImmediate(b))}),b},c.clearImmediate="function"==typeof d?d:function(a){delete i[a]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":49,timers:50}],51:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),f=d(e),g=a("./configUtilities.js"),h=d(g),i=a("./pageUtilities.js"),j=d(i),k=a("nested-property"),l=d(k),m=function(){function a(a){var b=[];(a.templ||"").indexOf("index")>-1?a.subarea&&(b=[a.subarea]):a.storymeta&&(b=a.storymeta.replace(/-/g,"_").split(","));for(var c=0;c<b.length;c++)if(u.hasOwnProperty(b[c])){a.subarea=b[c],a.area=u[b[c]],a.useTMAdUnitFormat!==!0&&(a.adUnitId="/5293/"+a.lwsite+"/"+a.lwsite+"_"+a.lwsite.slice(-4)+a.area+"_"+a.subarea);break}return delete a.useTMAdUnitFormat,a}function b(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.screen,d=f["default"].getBreakpoint(),e=h["default"].getElementsForBreakpoint("page")||{},g=j["default"].getQueryParameter("adSite"),i=j["default"].getUHID();return e.platform=t.common[d].platform||e.platform,e.breakpoint=d,e.loggedin="n",e.donottrack="n",e.type="firstlook",e.origin="",e.token=c(),e.site=g?g:"chameleon",e.frontendRoot=window.TMCONFIG&&window.TMCONFIG.frontendRoot||"",window.gs_channels&&(e.gs_cat=window.gs_channels),e.templ=l["default"].get(t,e.templ+"."+d+".templ")||e.templ,i&&(h["default"].log("Setting uhid targetting parameter"),e.uhid=i),e.inskin_yes=(b.width>=1500||"baseLayout"===f["default"].getBreakpoint()&&b.width>=375).toString(),e.lwsite&&(e.oid&&(e.article=e.oid),(e.templ||"").indexOf("gallery")>-1&&(e.pid=e.oid),e.RU=j["default"].getReferrerDomain(),a(e)),e.adUniturl=e.adUnitId,e}function c(){var a=j["default"].getQueryParameter("token");return a?a:""}function d(a){return a instanceof Array&&2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]}function e(a,b){var c=a.sizes instanceof Array?a.sizes[0]:[],e=b.sizes instanceof Array?b.sizes[0]:[];if(d(c)){if(d(e)){for(var f=0;f<=1;f++)if(c[f]!==e[f])return c[f]<e[f]?-1:1;return 0}return-1}return d(e)?1:0}function g(a,b){var c=a.targetting||{},d=b.targetting||{};return c.hivis!==d.hivis?"y"===c.hivis?-1:1:0}function i(a,b){var c=a.targetting||{},d=b.targetting||{};return c.index!==d.index?c.index?d.index?"auto"===c.index?1:"auto"===d.index?-1:c.index<d.index?-1:1:-1:1:0}function k(a,b){return a.isOOP!==b.isOOP?a.isOOP?"number"==typeof a.comparatorValue?a.comparatorValue:-1:"number"==typeof b.comparatorValue?b.comparatorValue*-1:1:0}function m(a,b){var c=(a.targeting||{}).index,d=(b.targeting||{}).index;return 1===c?-1:1===d?1:0}function n(a,b){var c=h["default"].getConfig(a),d=h["default"].getConfig(b);return k(c,d)||m(c,d)||e(c,d)||g(c,d)||i(c,d)}function o(){return"desktop"===f["default"].getBreakpoint()}function p(){return"tabletPortraitUpwards"===f["default"].getBreakpoint()}function q(){return"tabletPortraitUpwards"===f["default"].getBreakpoint()}function r(){return"baseLayout"===f["default"].getBreakpoint()}function s(a){var b=JSON.parse(a.getAttribute("data-config"));return b.enabled!==!1}var t={common:{baseLayout:{platform:"web,responsive"},tabletPortraitUpwards:{platform:"web,desktop"},tabletLandscapeUpwards:{platform:"web,desktop"},desktop:{platform:"web,desktop"}},article:{baseLayout:{templ:"article,responsive-article"},tabletPortraitUpwards:{templ:"article,responsive-article"},tabletLandscapeUpwards:{templ:"article"},desktop:{templ:"article"}},index:{baseLayout:{templ:"index,responsive-index"},tabletPortraitUpwards:{templ:"index,responsive-index"},tabletLandscapeUpwards:{templ:"index"},desktop:{templ:"index"}},home:{baseLayout:{templ:"home,responsive-index"},tabletPortraitUpwards:{templ:"home,responsive-index"},tabletLandscapeUpwards:{templ:"home"},desktop:{templ:"home"}},"live-event":{baseLayout:{templ:"live-event,responsive-article"},tabletPortraitUpwards:{templ:"live-event,responsive-article"},tabletLandscapeUpwards:{templ:"live-event,article"},desktop:{templ:"live-event,article"}},gallery:{baseLayout:{templ:"gallery,responsive-gallery"},tabletPortraitUpwards:{templ:"gallery,responsive-gallery"},tabletLandscapeUpwards:{templ:"gallery"},desktop:{templ:"gallery"}}},u={education:"news",crime:"news",politics:"news",traffic_and_travel:"news",cambridge_city_fc:"sport",cambridge_united_fc:"sport",things_to_do:"entertainment_news"};return{getPageLevelData:b,getTokenString:c,cmpSlotOop:k,cmpSlotTop:m,cmpSlotVis:g,cmpSlotIndex:i,cmpSlotSizes:e,slotOrderComparator:n,isDesktopBreakpoint:o,isTabletLandscapeBreakpoint:p,isTabletPortraitBreakpoint:q,isMobileBreakpoint:r,isPlaceholderEnabled:s}}();c["default"]=m},{"./configUtilities.js":52,"./pageUtilities.js":55,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9,"nested-property":45}],52:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return F["default"].getQueryParameter(a)||""}function f(){e(I)===K&&window.console.log.apply(window.console,arguments)}function g(a){var b=e(J).split(",");b.indexOf(L)===-1&&b.indexOf(a)===-1||window.console.log.apply(window.console,arguments)}function h(a){var b=F["default"].getQueryParameter(a)||(window.TMCONFIG||{})[a];return f("[INFO] Getting TM Config parameter "+a,b),b}function i(a){var b=F["default"].getQueryParameter("publicSectionParams."+a)||(h("publicSectionParams")||{})[a];return f("[INFO] Getting TM public section parameter "+a,b),b}function j(a){return a.indexOf(".")>-1?a.toLowerCase().replace(/[\.-](.)/g,function(a,b){return b.toUpperCase()}):a}function k(a){var b=j(a),c=D["default"].get(window,"TMFeatures."+b);void 0!==c&&g(M,"[INFO] Feature data (from TMFeatures) for "+b+" : ",c);var d=i(a);return void 0!==d&&(c=d,g(M,"[INFO] Feature data (from section param) for "+b+" : ",c)),g(M,"[INFO] Feature data (from resolved sources) for "+b+" : ",c),c}function l(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=b,d=k(a);return void 0!==d&&(c="true"===String(d),g(M,"[INFO] Feature flag "+a+" enabled?: "+c)),g(M,"[INFO] Feature "+a+" "+(c?" is":" is not")+" enabled"),c}function m(a){return"true"===F["default"].getQueryParameter(a)?(g(M,"[INFO] Feature flag "+a+" enabled URL query parameter"),!0):"true"===((window.TMCONFIG||{}).features||{})[a]?(g(M,"[INFO] Feature flag "+a+" enabled in config features section parameter"),!0):"true"===i(a)?(g(M,"[INFO] Feature flag "+a+" enabled in public section parameter"),!0):(g(M,"[INFO] Feature flag "+a+" not enabled"),!1)}function n(a){var b=document.getElementById(a);return b?JSON.parse(b.getAttribute("content")):void f("[ERROR] The injection config element cannot be found on the page. [Func: getFullConfig]")}function o(a){var b=document.getElementById(a);if(!b)return void f("[INFO] The adjustments config element cannot be found on the page. [Func: getAdjustments]");try{return JSON.parse(b.getAttribute("content"))}catch(c){f("[ERROR] JSON parse of adjustments config failed: "+c+" [Func: getAdjustments]")}}function p(a,b,c){var d=a[b];if(!c)return f("[ERROR] No adjustments found for ",d," [Func: processAdjustment]"),a;if(!d.allowAdjustments)return f("[ERROR] Adjustments not allowed for ",d," [Func: processAdjustment]"),a;if(c.remove){if(d.allowAdjustments.remove)return f("[INFO] Config item removed: ",d," [Func: processAdjustment]"),a.splice(b,1);f("[ERROR] Remove adjustment not allowed for ",d," [Func: processAdjustment]")}return a}function q(a,b){if(!b)return a;var c=void 0,d=void 0;return Object.keys(b).forEach(function(e){b[e].forEach(function(b){d=a[e],c=d.findIndex(function(a){return a.componentType===b.componentType&&a.name===b.name}),c>-1&&(d=p(d,c,b.adjustments))})}),a}function r(){window.location.href.indexOf("configDebug=on")>-1&&window.console.error.apply(window.console,arguments)}function s(a){return JSON.parse(a.getAttribute("data-config"))}function t(a){var b=void 0;return f("[INFO] Getting config elements for breakpoint "+a),N&&N[a]?(b=N[a],f("[INFO] Got config elements",b),b):(f("[ERROR] The Breakpoint "+a+" is not defined in config. [Func: getElementsForBreakpoint]"),[])}function u(a,b){var c=void 0;if(!N||!N[a])return f("[ERROR] The breakpoint "+a+" is not defined in the config. [Func: getElementsByTypeForBreakpoint]"),[];var d=t(a);return Array.isArray(d)?(f("[INFO] The slots for breakpoint are ",d),c=d.filter(function(a){return a.componentType===b})||[],f("[INFO] The filtered slots for type "+b+" are ",d),c):(f("[ERROR] The slots supplied are not an Array. [Func: getElementsByTypeForBreakpoint]"),[])}function v(){return t(H["default"].getBreakpoint())}function w(a){var b=[],c=void 0;for(var d in N)N.hasOwnProperty(d)&&Array.isArray(N[d])&&(c=u(d,a),Array.prototype.push.apply(b,c));return b}function x(a){return u(H["default"].getBreakpoint(),a)}function y(a,b,c){var d=((window.TMCONFIG||{})[b||"features"]||{})[a],e=H["default"].getQueryParam(a),f=null!==e?e:d;return f&&("int"===c&&(f=parseInt(f)),"float"===c&&(f=parseFloat(f)),"string"===c&&(f=f.toString()),"bool"===c&&(f="true"===f)),f}function z(){if(O)return O;var a=document.getElementById("scriptConfig");if(!a)return void f("[WARN] The script config element cannot be found on the page. [Func: getScriptConfig]");try{return JSON.parse(a.getAttribute("content"))}catch(b){f("[ERROR] Error returning script config: "+b)}}function A(a){var b=void 0,c=a.match(/^\/(.*?)\/([gim]*)$/);return b=c?new RegExp(c[1],c[2]):new RegExp(a)}function B(a){N=n(a),N=q(N,o(a+"-adjustments")),O=z(O)}Object.defineProperty(c,"__esModule",{value:!0}),c.log=f,c.logFeature=g,c.getTmConfigParam=h,c.getPublicSectionParam=i,c.getFeatureData=k,c.isFeatureEnabled=l,c.getFeatureValue=y;var C=a("nested-property"),D=d(C),E=a("./pageUtilities.js"),F=d(E),G=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),H=d(G),I="configDebug",J="featureDebug",K="on",L="all",M="features",N=void 0,O=void 0;B("advertisingConfig"),c["default"]={adjustConfig:q,err:r,getAllElementsByType:w,getConfig:s,getElementsByTypeForBreakpoint:u,getElementsByTypeForCurrentBreakpoint:x,getElementsForBreakpoint:t,getElementsForCurrentBreakpoint:v,getFeatureData:k,getFullConfig:n,getPublicSectionParam:i,getScriptConfig:z,getTmConfigParam:h,init:B,isFeatureEnabled:l,getConfigParam:m,log:f,logFeature:g,stringToRegex:A,getFeatureValue:y}},{"./pageUtilities.js":55,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9,"nested-property":45}],53:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});
var e=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),f=d(e),g=a("./configUtilities.js"),h=d(g),i=a("nested-property"),j=d(i),k=f["default"].events,l=function(){function a(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function b(){return window.performance?window.performance.now():Date.now()}function c(){var a=window.performance.timing;return{dns:a.domainLookupEnd-a.domainLookupStart,request:a.responseStart-a.requestStart,response:a.responseEnd-a.responseStart,tcp:a.connectEnd-a.connectStart}}function d(a,b,c){return Math.round(((a||0)*c+b)/(c+1))}function e(a,b,c,e,f){var g=window.commercialData.performanceReport.consolidated,h=b,i=b,j=1,k=b,l=c,m=c,n=0,o=c,p=e,q=window.performance&&c>0,r=e;if(g[a]){var s=g[a].data;r=s.viewable,k=s.totalConnectTime,j=s.numberOfComponents+1,i=s.maxConnectTime,n=s.numberOfComponents,i=Math.max(i,b),k+=b,h=k/j,p=n*r+e,r=p/j,g[a]&&q&&(o=s.totalEndTime,m=s.maxEndTime,m=Math.max(m,c),o+=c,l=o/j)}else g[a]={data:{}};g[a].data.connectTime=h,g[a].data.totalConnectTime=k,g[a].data.maxConnectTime=i,g[a].data.numberOfComponents=j,g[a].data.viewable=r,Object.keys(f).forEach(function(b){b.indexOf("To")!==-1&&(g[a].data[b]=d(g[a].data[b],f[b],n))}),q&&(g[a].data.averageEndTime=l,g[a].data.maxEndTime=m,g[a].data.totalEndTime=o)}function f(a,b){var c=window.commercialData.performanceReport.consolidated,d=b,e=void 0,f=void 0;c[a]&&(d=c[a].data.viewable,e=c[a].data.numberOfComponents,f=e*d+b,d=f/e),c[a].data.viewable=d}function g(b){var c=b.dataset,d=c.type,f=parseInt(c.responseStart),g=parseInt(c.responseEnd),h=parseInt(c.requested),i=void 0,j=a(b.id),k=parseInt((g-f).toFixed(2)),l=c.viewable?1:0,m=Math.round(h-f),o=Math.round(g-h);return i={connectTime:k,responseEnd:g,responseStart:f,viewable:l,startToInjected:f,startToRequested:h,injectedToRequested:m,injectedToReceived:k,requestedToReceived:o,startToReceived:g},Object.keys(c).forEach(function(a){if("timer"===a.substr(0,5)){var b=parseInt(c[a]);i["startTo"+a.substr(5)]=b,i["requestedTo"+a.substr(5)]=Math.round(b-h),i[a.substr(5,1).toLowerCase()+a.substr(6)+"ToReceived"]=Math.round(g-b)}}),window.commercialData.performanceReport.components[j]={data:i},e(d,k,window.performance?g:0,l,i),n(),window.commercialData}function i(a){var b=a.dataset.viewable?1:0;m(a.id,"viewable",b),f(a.dataset.type,b)}function m(b,c,d){var e=a(b);return window.commercialData.performanceReport.components[e].data[c]=d,n(),window.commercialData}function n(){var a={commercialData:window.commercialData};window.TMDATA?window.TMDATA.update(a):k.listen(document.body,"dataLayer.ready",function(b){b.data.update(a)})}function o(a,c,d){var e=d?d:b();return a?(a.setAttribute("data-response-start",e),void a.setAttribute("data-type",c)):void h["default"].log("[ERROR] The element to set timing was not found on the page.")}function p(a,c){return a.setAttribute("data-timer-"+c,b()),a}function q(a){return a?(a.setAttribute("data-response-end",b()),void(E||g(a))):void h["default"].log("[ERROR] The element to set timing was not found on the page.")}function r(a,c){var d=c?c:b();return a?void l.setPerformanceReport(a+".data-response-start",d):void h["default"].log("[ERROR] The path to set timing was not found.")}function s(a){if(!a)return void h["default"].log("[ERROR] The path to set timing was not found.");var c=b();l.setPerformanceReport(a+".data-response-end",c);var d=j["default"].get(window.commercialData.performanceReport[a],"dataResponseStart"),e=parseInt((c-d).toFixed(2));l.setPerformanceReport(a+".data-response-total",e)}function t(a){z("adblocker."+(a.data.adblockerDetector||"enabled"),a.data.adblockerEnabled),a.data&&a.data.adblockerTracking&&k.fire(window,"analytics.track",a.data)}function u(a){var b=void 0;return a=a||(window.TMDATA||{}).access,a&&"function"==typeof a&&(b=a("article.attributes.objectType")||a("page.attributes.pageType")),b}function v(a){var b=a.data.access;z("url",b("page.info.url")),z("page-type",u(b)),z("section",b("page.attributes.subSectionOne")),z("sub-section",b("page.attributes.subSectionTwo"))}function w(){k.listen(window,"breakpointchange",x),k.listen(window,"adblocker.detected",t),k.listen(document.body,"dataLayer.ready",v)}function x(){E=!0}function y(b,c,d){var e=b.dataset.type,f=window.commercialData.metrics,g=e+".data."+a(b.id)+"."+c,h=e+".data."+c,i=j["default"].get(f.components,g),k=j["default"].get(f.consolidated,h);i||(i=j["default"].set(f.components,g,0)),k||(k=j["default"].set(f.consolidated,h,0)),j["default"].set(f.components,g,i+d),j["default"].set(f.consolidated,h,k+d),n()}function z(b,c){j["default"].set(window.commercialData.info,a(b),c),n()}function A(b){var c=j["default"].get(window.commercialData.info,a(b));return c}function B(b,c){j["default"].set(window.commercialData.performanceReport.scriptTimers,a(b),c),n()}function C(b,c){j["default"].set(window.commercialData.performanceReport,a(b),c),n()}function D(){E=!1,window.commercialData=window.commercialData||{performanceReport:{consolidated:{},components:{},scriptTimers:{}},metrics:{consolidated:{},components:{}},info:{}},w()}var E=!1;return D(),{finaliseElementTiming:q,finaliseDatalayerTiming:s,getPageType:u,getPerformanceStats:c,getPerformanceTime:b,init:D,initialiseDatalayerTiming:r,initialiseElementTiming:o,performanceTimeReport:g,toCamelCase:a,updateViewability:i,setScriptTimer:B,setCustomTimer:p,setInfo:z,getInfo:A,setMetric:y,setPerformanceReport:C}}();c["default"]=l},{"./configUtilities.js":52,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3,"nested-property":45}],54:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a.isResolved)return a;var b=!0,c=!1,d=!1,e=a.then(function(a){return d=!0,b=!1,a},function(a){throw c=!0,b=!1,a});return e.isFulfilled=function(){return d},e.isPending=function(){return b},e.isRejected=function(){return c},e}function f(a,b){return j["default"].log("[INFO] Converting event to promise",a.name,b),a.resolution="pending",a.promise=e(new Promise(function(c,d){a.resolve=c,a.reject=d,m.listen(b,a.name,function e(d){b.removeEventListener(a.name,e),a.eventObj=d,j["default"].log("[INFO] Resolving event promise",a.name),a.resolution="resolved","function"==typeof a.triggerFunction&&(j["default"].log("[INFO] Running event triggerFunction for "+a.name),a.triggerFunction(a)),"function"==typeof((a.eventObj||{}).data||{}).triggerFunction&&(j["default"].log("[INFO] Running event object triggerFunction for "+a.name),a.eventObj.data.triggerFunction(a)),c(a)})})),a.promise}function g(a,b){if("string"==typeof a){if("window"===a)return window;if("body"===a)return document.body;var c=document.querySelector(a);return c?c:b}return b}function h(a,b,c){var d=a.map(function(a){return f(a,a.emitter?g(a.emitter,b):b)}),h=a.map(function(a){return n(a.timeout)?a.timeout:0}),i=void 0;n(c)&&c>0&&h.push(c);var k=Math.max.apply(Math,h);return 1===d.length?(j["default"].log("[INFO] Created single promise for event",a),i=d[0]):(j["default"].log("[INFO] Creating wrapper promise for multiple events",a),i=e(Promise.all(d))),k>0&&(j["default"].log("[INFO] Creating timeout wrapper promise for events",a),i=o(k,i,a)),i}Object.defineProperty(c,"__esModule",{value:!0}),c.makeQueryablePromise=e,c.eventToPromise=f,c.multiEventsPromise=h;var i=a("./configUtilities.js"),j=d(i),k=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),l=d(k),m=l["default"].events,n=function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},o=function(a,b,c){var d="[INFO] Timed out promise for events: "+c.map(function(a){return a.name}).join(",")+" in "+a+"ms.",f=e(new Promise(function(b,e){var f=setTimeout(function(){clearTimeout(f),c&&c.filter(function(a){return"resolved"!==a.resolution}).forEach(function(a){a.resolution="timeout"}),e(d)},a)}));return e(Promise.race([b,f]))}},{"./configUtilities.js":52,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3}],55:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./configUtilities.js"),f=d(e),g=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),h=d(g),i=function(){function a(){var a=window.TMDATA.access("page.info.uhid");return a?f["default"].log("Got uhid from Data Layer"):f["default"].err("uhid not present in Data Layer"),a}function b(){return window.location.search}function c(a,c){var d=c?c.substring(c.indexOf("?")):b(),e=new RegExp("[?&]"+a+"=([^&]*)").exec(d);return e&&decodeURIComponent(e[1].replace(/\+/g," "))}function d(){var a="";if(document.referrer){var b=document.createElement("a");b.href=document.referrer,a=b.hostname}return a}function e(){var a=h["default"].getCookie("GS_GROUP");return"1"===a?"UK":"ROW"}function g(a){for(var b=a+"=",c=decodeURIComponent(document.cookie),d=c.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "===f.charAt(0);)f=f.substring(1);if(0===f.indexOf(b))return f.substring(b.length,f.length)}return""}return{getGeoRegion:e,getUHID:a,getQueryParameter:c,getReferrerDomain:d,getCookie:g}}();c["default"]=i},{"./configUtilities.js":52,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9}],56:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){p["default"].logFeature(N,"[INFO] Defining header bidding slot:",b,a.name);var c={slotID:a.name,slotName:b+"/"+a.name,sizes:a.sizes};return c}function g(a,b){var c={};if(b.videoAuction&&p["default"].getConfigParam("amazonVideoTagEnabled")&&(c.video=[{slotID:"videoslot",mediaType:"video"}]),b.displayAuction){c.display=[];var d=B["default"].getPageLevelData();x["default"].getAdSlots(a).forEach(function(a){c.display.push(f(a,d.adUnitId))})}return c}function h(){if("true"===(p["default"].getPublicSectionParam(M)||"true"))try{window.apstag.setDisplayBids()}catch(a){p["default"].logFeature(N,"[INFO] Can't set  id targeting:",a)}}function i(){var a=v["default"].getInfo("headerBidding.auctions"),b=a.map(function(a){return a.id==="amazonDisplay"+O&&(a.completed=!0),a});v["default"].setInfo("headerBidding.auctions",b),h()}function j(){var a=v["default"].getInfo("headerBidding.auctions"),b=a.map(function(a){return a.id==="amazonVideo"+O&&(a.completed=!0),a});v["default"].setInfo("headerBidding.auctions",b)}function k(a,b){p["default"].logFeature(N,"[INFO] Amazon bid delivery callback:",a,v["default"].getPerformanceTime()),"video"===b?C.fire(document.body,Q,{auctionCompletedCallback:j,bids:a.filter(function(a){return"video"===a.mediaType}),type:"amazon"}):(C.fire(document.body,P,{auctionCompletedCallback:i,bids:a.filter(function(a){return"video"!==a.mediaType}),addBidsToDataLayer:x["default"].addBidsToDataLayer,type:"amazon",slotIdParam:"slotID"}),"true"===(p["default"].getPublicSectionParam("amazon.header.targetingKeys")||"false")&&p["default"].logFeature(N,"[INFO] amazon targeting keys: ",window.apstag.targetingKeys()))}function l(a){var b=void 0;return b="video"===a?Number(p["default"].getPublicSectionParam(J))||E:Number(p["default"].getPublicSectionParam(I))||D}function m(a,b,c){var d=t["default"].getCookie("euconsent"),e={pubID:a,adServer:"googletag",bidTimeout:l("display"),videoAdServer:"DFP",gdpr:{}};d?(e.gdpr.enabled=!0,e.gdpr.consent=d,p["default"].logFeature(N,"[INFO] Passing consent data to auction",d)):(e.gdpr.cmpTimeout=Number(p["default"].getFeatureData("amazon.header.cmp.timeout"))||F,p["default"].logFeature(N,"[INFO] Setting CMP timeout ms for auction",e.gdpr.cmpTimeout)),p["default"].logFeature(N,"[INFO] Running amazon auction",e,b),window.apstag.init(e),c.displayAuction===!0&&window.apstag.fetchBids({slots:b.display,timeout:l("display")},function(a){k(a,"display")}),c.videoAuction===!0&&window.apstag.fetchBids({slots:b.video,timeout:l("video")},function(a){k(a,"video")})}function n(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{displayAuction:!0,videoAuction:!1},b=(p["default"].getPublicSectionParam(L)||G).split(",");p["default"].logFeature(N,"[INFO] Initialising amazon header bidding auction - time: ",v["default"].getPerformanceTime());var c=p["default"].getPublicSectionParam(K)||H,d={};p["default"].getConfigParam("amazonTagEnabled")&&(d=g(b,a));var e=d.display&&d.display.length>0||d.video&&d.video.length>0;if(e&&void 0!==window.apstag){m(c,d,a),v["default"].setInfo("headerBidding.status","started"),p["default"].logFeature(N,"[INFO] Header bidding auction running - time: ",v["default"].getPerformanceTime());var f=[];return a.displayAuction===!0&&f.push({enabled:!0,type:"display",timeout:l("display")+50,auctionCompletion:z.multiEventsPromise([{name:P}],document.body,l("display")+50),setBidTargeting:h,id:"amazonDisplay"+O,completed:!1,errorCallback:i}),a.videoAuction===!0&&f.push({enabled:!0,type:"video",timeout:l("video")+50,auctionCompletion:z.multiEventsPromise([{name:Q}],document.body,l("video")+50),setBidTargeting:function(){},id:"amazonVideo"+O,completed:!1,errorCallback:j}),f}return v["default"].setInfo("headerBidding.status","not configured"),p["default"].logFeature(N,"[INFO] Header bidding auction NOT running - time: ",v["default"].getPerformanceTime()),[]}Object.defineProperty(c,"__esModule",{value:!0}),c.setBidTargeting=h,c.auctionCompletedCallback=i,c.videoAuctionCompletedCallback=j,c.init=n;var o=a("../../scriptsCore/js/configUtilities.js"),p=e(o),q=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),r=e(q),s=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),t=e(s),u=a("../../scriptsCore/js/dataLayerUtilities.js"),v=e(u),w=a("./helpers.js"),x=e(w),y=a("../../scriptsCore/js/eventPromise.js"),z=d(y),A=a("../../scriptsCore/js/adUtilities.js"),B=e(A),C=r["default"].events,D=2e3,E=2e3,F=200,G="970x250,728x90,320x100,320x50,300x600,300x250,300x100,300x50",H="3632",I="amazon.header.timeout",J="amazon.video.header.timeout",K="amazon.header.pubId",L="amazon.header.sizes",M="amazon.header.setDisplayBids",N="AMZNTAG",O=(new Date).getTime()+Math.floor(1e7*Math.random()),P="amazon.bid.delivery",Q="amazon.bid.ready";c["default"]={defineUnitsForAuction:g,getAuctionTimeout:l,init:n,setBidTargeting:h}},{"../../scriptsCore/js/adUtilities.js":51,"../../scriptsCore/js/configUtilities.js":52,"../../scriptsCore/js/dataLayerUtilities.js":53,"../../scriptsCore/js/eventPromise.js":54,"./helpers.js":58,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9}],57:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=g["default"].getFeatureValue("manualReconsent"),b=void 0,c=!1;a=parseInt(a);var d=a?a:0;d&&((0,j.getCookie)(l)?(b=parseInt((0,j.getCookie)(m)),b?b!==d&&(g["default"].logFeature(k,"[INFO] Changing consent version number:","Version change: From version "+b+" to version "+d+"."),c=!0,r(d)):(g["default"].logFeature(k,"[INFO] Initialising for the user with a monitor cookie, no consent cookie exists yet:","Initializing user with monitor cookie version "+b+"."),c=!0,r(d))):(p(m,n,d),c=!0)),s(c),t(d)}Object.defineProperty(c,"__esModule",{value:!0}),c.init=e;var f=a("../../scriptsCore/js/configUtilities"),g=d(f),h=a("../../scriptsCore/js/dataLayerUtilities"),i=d(h),j=a("@trinitymirrordigital/chameleon-utilities"),k="Consent audit",l="euconsent",m="reach_mrcv",n=3900,o=["eupubconsent","_cmpBlockedVendorsHash","_cmpRepromptOptions","googlepersonalization",l,"CaptifyConsentVendors"],p=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",e=new Date;e.setTime(e.getTime()+24*b*60*60*1e3),document.cookie=a+"="+c+";expires="+e.toUTCString()+" ;path= "+d},q=function(a){document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=."+window.location.hostname},r=function(a){var b=g["default"].getFeatureValue("consentCookies"),c=b?b.split(","):o;c.forEach(function(a){q(a)}),p(m,n,a)},s=function(a){i["default"].setInfo("consent-action.reconsent",a)},t=function(a){i["default"].setInfo("consent-action.mrcv",a)};c["default"]={init:e}},{"../../scriptsCore/js/configUtilities":52,"../../scriptsCore/js/dataLayerUtilities":53,"@trinitymirrordigital/chameleon-utilities":9}],58:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a[0]+"x"+a[1]}function f(a,b){return a.sizes&&(a.sizes=a.sizes.filter(function(a){return(0,o["default"])(b,e(a))})),a}function g(a){a=a||w;var b=q["default"].getElementsByTypeForCurrentBreakpoint("gpt");return b=b.filter(function(a){return a.headerBidExcluded!==!0}).map(function(b){return f(b,a)}).filter(function(a){return a.sizes&&a.sizes.length>0})}function h(){return new Promise(function(a){(window.TMDATA||{}).access?a(window.TMDATA.access):x.listen(document.body,"dataLayer.ready",function(b){a(b.data.access)})})}function i(a,b){if(!a("article")||!a("article.info"))return!1;var c=a("article.info.videos")||[];try{return 0!==c.length&&(b&&(c=c.filter(function(a){return a.placement===b})),c)}catch(d){return q["default"].logFeature("helpers","Video - not an article containing a video",d),!1}}function j(a){return a+(new Date).getTime()+Math.floor(1e7*Math.random())}function k(a){a.data.bids.forEach(function(b){u["default"].setInfo("components.gpt."+a.data.type+"bids."+b[a.data.slotIdParam],b)})}function l(a,b,c){return c===a?b:c}function m(a){if(a&&a.clearTargeting){var b=["hb_","oz_","amzn","ix_"],c=a.getTargetingKeys().filter(function(a){return b.some(function(b){return a.startsWith(b)})});c.forEach(function(b){return a.clearTargeting(b)})}}Object.defineProperty(c,"__esModule",{value:!0}),c.getAdSlots=g;var n=a("array-includes"),o=d(n),p=a("../../scriptsCore/js/configUtilities.js"),q=d(p),r=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),s=d(r),t=a("../../scriptsCore/js/dataLayerUtilities.js"),u=d(t),v="970x250,728x90,320x100,320x50,300x600,300x250,300x100,300x50",w=(q["default"].getPublicSectionParam("amazon.header.sizes")||v).split(","),x=s["default"].events;c["default"]={addBidsToDataLayer:k,checkIfVideoExists:i,getAccess:h,getAdSlots:g,getId:j,stringifySize:e,stripUnwantedSizes:f,replaceVal:l,clearHeaderBidTargetingForSlot:m}},{"../../scriptsCore/js/configUtilities.js":52,"../../scriptsCore/js/dataLayerUtilities.js":53,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3,"array-includes":13}],59:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=JSON.parse(a);n("IAS","[INFO] IAS v2 data handler called with ",b),l["default"].setInfo("IAS",b),l["default"].finaliseDatalayerTiming("ias"),m.listen(document.body,"gpt.slots.registered",function(){window.__iasPET.setTargetingForGPT(),m.fire(document.body,"ias.complete")})}function f(){if(n("IAS","[INFO] IAS init time: ",l["default"].getPerformanceTime()),!h["default"].isFeatureEnabled(p,!1))return void n("IAS","[INFO] IAS PET v2 not enabled");n("IAS","[INFO] IAS PET v2  enabled"),l["default"].initialiseDatalayerTiming("ias");var a=Number(h["default"].getFeatureData(q))||o;window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId="925430",window.__iasPET.timeout=a;var b=h["default"].getElementsByTypeForCurrentBreakpoint("gpt"),c=h["default"].getElementsForBreakpoint("page")||{},d=c.adUnitId;n("IAS","[INFO] GPT slots data: ",b);var f=[],g=void 0;b.filter(function(a){return a.injectionEnabled!==!1}).filter(function(a){return a.enabled!==!1}).forEach(function(a){g=a.sizes||[0,0],f.push({adSlotId:a.name,size:a.sizes||[0,0],adUnitPath:d})}),n("IAS","[INFO] IAS v2 slots data: ",f),window.__iasPET.queue.push({adSlots:f,dataHandler:e})}Object.defineProperty(c,"__esModule",{value:!0}),c.iasDataHandler=e,c.init=f;var g=a("../../scriptsCore/js/configUtilities.js"),h=d(g),i=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),j=d(i),k=a("../../scriptsCore/js/dataLayerUtilities.js"),l=d(k),m=j["default"].events,n=h["default"].logFeature,o=2e3,p="ias.pet.v2.enabled",q="ias.pet.timeout";c["default"]=f},{"../../scriptsCore/js/configUtilities.js":52,"../../scriptsCore/js/dataLayerUtilities.js":53,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3}],60:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function g(a){var b=void 0,c=void 0;"video"===a&&(b=6e3,c=M),"display"===a&&(b=2e3,c=N),"videoConsent"===a&&(b=4e3,c=O),"displayConsent"===a&&(b=2e3,c=P);var d=((window.TMCONFIG||{}).publicSectionParams||{})[c];return Number(v["default"].getQueryParameter(c))||Number(d)||b}function h(a){var b=(0,I.getCookie)("euconsent"),c={};return c=b?{cmpApi:"static",timeout:g(a),allowAuctionWithoutConsent:!0,consentData:{getConsentData:{gdprApplies:!0,hasGlobalScope:!1,consentData:b},getVendorConsents:{metadata:b,gdprApplies:!0}}}:{cmpApi:"iab",timeout:g(a),allowAuctionWithoutConsent:!0}}function i(){return{video:{buckets:[{min:0,max:14.9999,increment:.1},{min:15,max:29.9999,increment:.2},{min:30,max:49.9999,increment:.5},{min:50,max:200,increment:1}]},banner:"medium","native":"medium"}}function j(a){var b=!1;a||(b=!0);var c=z["default"].getInfo("headerBidding.auctions"),d=c.map(function(c){return(c.id===a||b&&"video"===c.type)&&(c.completed=!0),c});z["default"].setInfo("headerBidding.auctions",d)}function k(a){j(a)}function l(a){j(a),window.pbjs_reach.que.push(function(){window.pbjs_reach.setTargetingForGPTAsync()})}function m(a){return{timeout:g("video"),prebidConfig:{debug:"true"===v["default"].getQueryParameter("pbjs_debug"),mediaTypePriceGranularity:i(),consentManagement:h("videoConsent")},slotNames:["video"],eventName:"prebid.video.ready",eventData:{type:"prebid",id:a,auctionCompletedCallback:l}}}function n(a){return{timeout:g("display"),prebidConfig:{debug:"true"===v["default"].getQueryParameter("pbjs_debug"),mediaTypePriceGranularity:i(),consentManagement:h("displayConsent"),userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}}}},slotNames:B["default"].getAdSlots().map(function(a){return a.name}),eventName:"prebid.display.ready",eventData:{type:"prebid",id:a,slotIdParam:"adUnitCode",addBidsToDataLayer:B["default"].addBidsToDataLayer,auctionCompletedCallback:l}}}function o(a){var b=a.prebidConfig,c=a.adUnits,d=a.timeout,e=a.slotNames,f=a.eventName,g=a.eventData;window.pbjs_reach.que.push(function(){window.pbjs_reach.setConfig(b),L("prebid","Requested bids at "+(new Date).toISOString()),window.pbjs_reach.requestBids({adUnits:c,timeout:d,bidsBackHandler:function(a){return L("prebid","Response from prebid for adUnits:",c,"res:",a),a?(g.bids=[],e.forEach(function(b){a[b]&&a[b].bids&&a[b].bids.length&&(g.bids=g.bids.concat(a[b].bids))}),L("prebid","bidsBackHandler firing event ",f,g),void Q.fire(document.body,f,g)):void L("prebid","Prebid responded with empty object")}})})}function p(a,b,c){L("prebid","Initiating prebid header bidding "+(new Date).toISOString());var d={display:b.displayAuction===!0?B["default"].getId("prebidDisplay"):"",video:b.videoAuction===!0?B["default"].getId("prebidVideo"):""};return window.pbjs_reach=window.pbjs_reach||{},window.pbjs_reach.que=window.pbjs_reach.que||[],c.then(function(){if(b.videoAuction===!0){R.video=R.video.filter(function(a){return a.isEnabled()});var c=m(d.video),e=["video"].map(function(b){var c=R.video.map(function(b){return b.getBidderObj({access:a})}).filter(function(a){return a!==!1});return!!c.length&&{code:b,mediaTypes:{video:{context:"instream",playerSize:[640,480]}},bids:c}}).filter(function(a){return a!==!1});c.adUnits=e,o(c)}if(b.displayAuction===!0){R.display=R.display.filter(function(a){return a.isEnabled()});var f=n(d.display),g=B["default"].getAdSlots().map(function(b){var c=R.display.map(function(c){return c.getBidderObj({slot:b,access:a})}).filter(function(a){return a!==!1});return!!c.length&&{code:b.name,mediaTypes:{banner:{sizes:b.sizes}},bids:c}}).filter(function(a){return a!==!1});f.adUnits=g,o(f)}}),d}function q(a){var b=[];return a.displayAuction&&b.push.apply(b,f(R.display.map(function(a){return a.init()}))),a.videoAuction&&b.push.apply(b,f(R.video.map(function(a){return a.init()}))),Promise.all(b)}function r(a,b){var c=[];if(L("prebid","[INFO] Prebid video header bidding flags: ",a),a){var d=q(a),e={};(a.displayAuction||a.videoAuction)&&(e=p(b,a,d)),a.displayAuction===!0&&c.push({enabled:!0,type:"display",timeout:g("display"),auctionCompletion:x.multiEventsPromise([{name:"prebid.display.ready"}],document.body,g("display")),id:e.display,completed:!1,errorCallback:l}),a.videoAuction===!0&&c.push({enabled:!0,type:"video",timeout:g("video"),auctionCompletion:x.multiEventsPromise([{name:"prebid.video.ready"}],document.body,g("video")),id:e.video,completed:!1,errorCallback:k})}return c}Object.defineProperty(c,"__esModule",{value:!0}),c.getHeaderBiddingTimeout=g,c.getConsentManagement=h,c.setCompletedFlag=j,c.videoAuctionCompletedCallback=k,c.displayAuctionCompletedCallback=l,c.requestBids=o,c.runPrebidAuctions=p,c.init=r;var s=a("../../scriptsCore/js/configUtilities.js"),t=e(s),u=a("../../scriptsCore/js/pageUtilities.js"),v=e(u),w=a("../../scriptsCore/js/eventPromise.js"),x=d(w),y=a("../../scriptsCore/js/dataLayerUtilities.js"),z=e(y),A=a("./helpers.js"),B=e(A),C=a("./prebid/ozone.js"),D=d(C),E=a("./prebid/spotx.js"),F=d(E),G=a("./prebid/groupM.js"),H=d(G),I=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),J=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),K=e(J),L=t["default"].logFeature,M="videoHeaderBiddingTimeout",N="displayHeaderBiddingTimeout",O="prebidVideoConsentTimeout",P="prebidDisplayConsentTimeout",Q=K["default"].events,R={display:[D,H],video:[F]};c["default"]={VIDEO_TIMEOUT_PARAM:M,DISPLAY_TIMEOUT_PARAM:N,VIDEO_CONSENT_TIMEOUT_PARAM:O,DISPLAY_CONSENT_TIMEOUT_PARAM:P,getConsentManagement:h,getHeaderBiddingTimeout:g,init:r,runPrebidAuctions:p}},{"../../scriptsCore/js/configUtilities.js":52,"../../scriptsCore/js/dataLayerUtilities.js":53,"../../scriptsCore/js/eventPromise.js":54,"../../scriptsCore/js/pageUtilities.js":55,"./helpers.js":58,"./prebid/groupM.js":61,"./prebid/ozone.js":62,"./prebid/spotx.js":63,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9}],61:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=a.slot,c=l["default"].getBreakpoint()||"desktop";for(var d in s)if(s.hasOwnProperty(d)){var e=function(){var a=s[d],e=j(a.size,2),f=e[0],g=e[1];if(b.sizes.find(function(a){var b=j(a,2),c=b[0],d=b[1];return c===f&&d===g})&&(!a.premium||r.includes(b.name))&&a.mobile===("baseLayout"===c))return{v:a.id}}();if("object"===("undefined"==typeof e?"undefined":i(e)))return e.v}return""}function f(){var a=e.apply(void 0,arguments),b=a.toString().length>0;return!!b&&{bidder:"groupM",params:{placementId:a}}}function g(){return q=(n["default"].getScriptConfig()||{}).groupMHeaderBidding||{enabled:!0},r=q.premiumSlots||["div-gpt-ad-top-slot","div-gpt-ad-rh-slot","div-gpt-ad-in-article-slot"],s=q.placements||{},Promise.resolve()}function h(){var a=!!n["default"].getConfigParam(p);return o("prebid","[INFO] GroupM bidder is enabled: ",a),a}Object.defineProperty(c,"__esModule",{value:!0}),c.isEnabled=c.init=c.getBidderObj=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},j=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),l=d(k),m=a("../../../scriptsCore/js/configUtilities.js"),n=d(m),o=n["default"].logFeature,p="groupmDisplayPrebidEnabled";window.pbjs_reach=window.pbjs_reach||{},window.pbjs_reach.que=window.pbjs_reach.que||[],window.pbjs_reach.que.push(function(){window.pbjs_reach.aliasBidder("appnexus","groupM")});var q=void 0,r=void 0,s=void 0;c.getBidderObj=f,c.init=g,c.isEnabled=h},{"../../../scriptsCore/js/configUtilities.js":52,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9}],62:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){return new Promise(function(a){if(window.OzoneLotameData)s("prebid","Ozone lotame data resolved immediately"),l["default"].setInfo("user.ozoneLotameData",window.OzoneLotameData),z=window.OzoneLotameData,a(window.OzoneLotameData);else var b=0,c=setInterval(function(){b++,window.OzoneLotameData&&(clearInterval(c),l["default"].setInfo("user.ozoneLotameData",window.OzoneLotameData),s("prebid","Ozone lotame data resolved after "+b+" iteration"),z=window.OzoneLotameData,a(window.OzoneLotameData)),b*u>t&&(clearInterval(c),l["default"].setInfo("user.ozoneLotameData",window.OzoneLotameData),s("prebid","Ozone lotame data resolved times out"),a({}))},u)})}function f(a){var b=a.slot,c=void 0;return"granular"===y?c=b.placementId||"0420420430":(b.name.includes("top-slot")&&(c=v.topSlotPlacementId),b.name.includes("bottom-slot")&&(c=v.bottomSlotPlacementId),(b.name.includes("rh-slot")||b.name.includes("in-article-slot"))&&(c=v.premiumSlotPlacementId)),c||v.defaultPlacementId||"0420420430"}function g(a){var b=a.slot,c=a.access,d=c("article.attributes.allTags");d=void 0!==d&&d.indexOf("|")!==-1?d.split("|").join(","):d;var e=function(a){return r["default"].replaceVal("",null,a)};return[{settings:{},targeting:{slotName:e(b.name),opos:e((b.targeting||{}).opos),hivis:e((b.targeting||{}).hivis),platform:e((window.TMCONFIG||{}).platform||"nationals"),articleId:e(c("article.attributes.articleId")),channel:e(c("page.attributes.channel")),sectionId:e(c("page.attributes.sectionId")),subSectionOne:e(c("page.attributes.subSectionOne")),subSectionTwo:e(c("page.attributes.subSectionTwo")),sensitiveArticle:e(c("article.attributes.sensitiveArticle")),pageType:e(c("page.attributes.pageType")),publicationName:e(c("page.attributes.publicationName")),breakpoint:e(c("page.attributes.configurationMode")||"desktop"),allTags:e(d)}}]}function h(){var a=f.apply(void 0,arguments),b=g.apply(void 0,arguments),c=w.toString().length>0&&x.toString().length>5&&a.toString().length>0;return!!c&&{bidder:"ozone",params:{publisherId:w,siteId:x,placementId:a,lotameData:z,customData:b}}}function i(){return v=(p["default"].getScriptConfig()||{}).ozoneHeaderBidding||{enabled:!0},w=p["default"].getPublicSectionParam("publisherId")||"OZONENREACH1",x=n["default"].getQueryParameter("ozoneGlobalSiteId")||v.siteId||"4204204202",y=p["default"].getConfigParam("ozoneGranularPlacements"),e()}function j(){var a=!0;return s("prebid","[INFO] Ozone bidder is enabled: ",a),a}Object.defineProperty(c,"__esModule",{value:!0}),c.isEnabled=c.init=c.getBidderObj=void 0;var k=a("../../../scriptsCore/js/dataLayerUtilities.js"),l=d(k),m=a("../../../scriptsCore/js/pageUtilities.js"),n=d(m),o=a("../../../scriptsCore/js/configUtilities.js"),p=d(o),q=a("../helpers.js"),r=d(q),s=p["default"].logFeature,t=p["default"].getFeatureValue("prebidOzoneLotameTimeout","","int")||1e3,u=100,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0;
c.getBidderObj=h,c.init=i,c.isEnabled=j},{"../../../scriptsCore/js/configUtilities.js":52,"../../../scriptsCore/js/dataLayerUtilities.js":53,"../../../scriptsCore/js/pageUtilities.js":55,"../helpers.js":58}],63:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=(a.spotx||{}).channelIds||{},c=b[j["default"].getGeoRegion()]||{},d=j["default"].getQueryParameter("spotxVideoChannel");return d||c[(0,k.getBreakpoint)()]||c.desktop}function f(a){var b=a.access,c=document.querySelector(".mod-video"),d="123456789",f=e(o),g="instream",h=!(!c||!c.hasAttribute("data-autoplay"))&&c.getAttribute("data-autoplay"),i=!!h,j=b("page.attributes.publicationName"),k=[b("page.attributes.channel")],l=d&&f.toString().length>4;return!!l&&{bidder:"spotx",params:{placementId:d,channel_id:f,video:{ad_unit:g,autoplay:h,ad_mute:i,custom:{publication:j,content_type:k}}}}}function g(){return o=(m["default"].getScriptConfig()||{}).videoHB||{enabled:!0},Promise.resolve()}function h(){var a=!0;return n("prebid","[INFO] SpotX bidder is enabled: ",a),a}Object.defineProperty(c,"__esModule",{value:!0}),c.isEnabled=c.init=c.getBidderObj=void 0;var i=a("../../../scriptsCore/js/pageUtilities.js"),j=d(i),k=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),l=a("../../../scriptsCore/js/configUtilities.js"),m=d(l),n=m["default"].logFeature,o=void 0;c.getBidderObj=f,c.init=g,c.isEnabled=h},{"../../../scriptsCore/js/configUtilities.js":52,"../../../scriptsCore/js/pageUtilities.js":55,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9}],64:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){try{for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return b.apply(void 0,d)}catch(f){return console.error("Error in "+a+" tag",f.message||"Message empty"),{error:f.message||"Message empty"}}}function f(a,b){var c=q["default"].getInfo("headerBidding.auctions")||[],d=m["default"].checkIfVideoExists(a);if(s["default"].getConfigParam("amazonTagEnabled")){var f={};f.displayAuction="display"!==b,d&&s["default"].getConfigParam("amazonVideoTagEnabled")&&"video"!==b&&(f.videoAuction=!0),c=c.concat(e("Amazon",g.init,f))}var h={displayAuction:"display"!==b&&s["default"].getConfigParam("displayPrebidEnabled"),videoAuction:!("video"===b||!d)&&s["default"].getConfigParam("videoPrebidEnabled")};c=c.concat(e("Prebid Video",k.init,h,a)),q["default"].setInfo("headerBidding.failedAuctions",c.filter(function(a){return a&&void 0!==a.error})),q["default"].setInfo("headerBidding.auctions",c.filter(function(a){return a&&void 0===a.error}))}Object.defineProperty(c,"__esModule",{value:!0});var g=a("./amazonTAM.js"),h=a("./ias.js"),i=a("./forceReconsent.js"),j=a("./watchingThat.js"),k=a("./prebid.js"),l=a("./helpers.js"),m=d(l),n=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),o=d(n),p=a("../../scriptsCore/js/dataLayerUtilities.js"),q=d(p),r=a("../../scriptsCore/js/configUtilities.js"),s=d(r),t=o["default"].events;t.listen(document.body,"video-init-header-bidding",function(){s["default"].logFeature("TAGS","[INFO] video about to end, next recommended video auction starting"),m["default"].getAccess().then(function(a){f(a,"display")})}),e("CKC",i.init),e("IAS",h.init),e("wtat",j.init),m["default"].getAccess().then(function(a){f(a),t.fire(document.body,"tagsLoaded",!0)}),c["default"]={runHeaderBiddingTags:f}},{"../../scriptsCore/js/configUtilities.js":52,"../../scriptsCore/js/dataLayerUtilities.js":53,"./amazonTAM.js":56,"./forceReconsent.js":57,"./helpers.js":58,"./ias.js":59,"./prebid.js":60,"./watchingThat.js":65,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3}],65:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=((window.TMCONFIG||{}).publicSectionParams||{})[v];return Number(r["default"].getQueryParameter(v))||Number(a)||6e3}function f(a){return a.enabled?(t("wtat","Video header bidding enabled in scripts config"),!0):m["default"].isFeatureEnabled(u,!1)?(t("wtat","Video header bidding enabled in public section parameter"),!0):"true"===((window.TMCONFIG||{}).features||{}).videoHeaderBiddingEnabled?(t("wtat","Video header bidding enabled in features section parameter"),!0):"true"===r["default"].getQueryParameter("videoHeaderBiddingEnabled")?(t("wtat","Video header bidding enabled URL query parameter"),!0):(t("wtat","Video header bidding not enabled"),!1)}function g(){var a=(0,p.getCookie)("GS_GROUP");return"1"===a?"UK":"ROW"}function h(a){var b=(a.spotx||{}).channelIds||{},c=b[g()]||{};return c[(0,p.getBreakpoint)()]||c.desktop}function i(a){return(a.indexExchange||{}).siteId}function j(a,b){var c=h(b),d=i(b);try{if(0===(a("article.info.videos")||[]).length)return void t("wtat","Video header bidding disabled - not an article containing a video")}catch(f){return void t("wtat","Video header bidding disabled - not an article containing a video",f)}window.wtHBSettings={bidders:[],timeout:e(),playerSize:[640,480],autoStartFirstAuction:!0,priceGranularity:{buckets:[{min:0,max:14.9999,increment:.1},{min:15,max:29.9999,increment:.2},{min:30,max:49.9999,increment:.5},{min:50,max:200,increment:1}]}},c&&(window.wtHBSettings.bidders.push("spotx"),window.wtHBSettings.spotx={channel_id:c,custom:{publication:a("page.attributes.publicationName"),content_type:[a("page.attributes.channel")]}}),d&&(window.wtHBSettings.bidders.push("indexExchange"),window.wtHBSettings.indexExchange={siteID:d}),t("wtat","Video header bidding settings:",window.wtHBSettings),window.wtHBSettings.bidders.length>0?window.$script("https://cdn.watchingthat.net/wtat.page-hb3.min.js"):t("wtat","Video header bidding disabled - no bidders configured")}function k(){var a=(m["default"].getScriptConfig()||{}).videoHB||{};return f(a)?(t("wtat","[INFO] WatchingThat video header bidding enabled"),void((window.TMDATA||{}).access?(t("wtat","TMDATA.access already available"),j(window.TMDATA.access,a)):s.listen(document.body,"dataLayer.ready",function(b){t("wtat","received dataLayer.ready event",b),j(b.data.access,a)}))):void t("wtat","[INFO] WatchingThat video header bidding not enabled")}Object.defineProperty(c,"__esModule",{value:!0}),c.init=k;var l=a("../../scriptsCore/js/configUtilities.js"),m=d(l),n=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),o=d(n),p=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),q=a("../../scriptsCore/js/pageUtilities.js"),r=d(q),s=o["default"].events,t=m["default"].logFeature,u="video.header.bidding.enabled",v="videoHeaderBiddingTimeout";c["default"]=k},{"../../scriptsCore/js/configUtilities.js":52,"../../scriptsCore/js/pageUtilities.js":55,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9}]},{},[64]);
//# sourceMappingURL=tags.min.js.map