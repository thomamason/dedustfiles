!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("extend"),e=function(){function a(a){var b=a.split("."),c=0,d=e;for(c;c<b.length;c++)d=d[b[c]];return d}function b(a){d(e,a)}function c(){return e}var e={breakpointType:null,modsForInit:{},modules:{},modulesToIgnore:[],overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:document.documentElement.clientHeight,windowTopOffset:null,windowWidth:document.documentElement.clientWidth};return e.breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],{getOption:a,inspect:c,setOption:b}}();b.exports=e},{extend:20}],2:[function(a,b,c){var d=a("../../../src/js/events.js");b.exports=function(){function a(){var a=m();"object"==typeof a&&a.hasOwnProperty("log")&&b()}function b(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",window.TMCONFIG.frontendRoot+"/marwood/TM/scss/log.css"),document.querySelector("head").appendChild(a);var b=document.querySelector("BODY"),c="";c+='<div class="inner">',c+="  <h4>Event log</h4>",c+='  <a data-resize="maximize" href="#">Maximize</a>',c+='  <a class="active" data-resize="minimize" href="#">Minimize</a>',c+='  <a data-reset="" href="#">Reset</a>',c+='  <form action="" method="">',c+="    <fieldset>",c+="      <ul>",c+="        <li>",c+='          <label class="filter-information" for="log-information"></label>',c+="          <strong>0</strong>",c+='          <input id="log-information" type="checkbox" checked="checked">',c+="        </li>",c+="        <li>",c+='          <label class="filter-warning" for="log-warning"></label>',c+="          <strong>0</strong>",c+='          <input id="log-warning" type="checkbox" checked="checked">',c+="        </li>",c+="        <li>",c+='          <label class="filter-error" for="log-error"></label>',c+="          <strong>0</strong>",c+='          <input type="checkbox" checked="checked" id="log-error">',c+="        </li>",c+="        <li>",c+='          <label class="filter-override" for="log-override"></label>',c+="          <strong>0</strong>",c+='          <input id="log-override" type="checkbox" checked="checked">',c+="        </li>",c+="      </ul>",c+="    </fieldset>",c+="  </form>",c+="</div>",c+="<ol></ol>";var d=document.createElement("div");if(d.setAttribute("id","log"),d.setAttribute("class","minimize show-information show-warning show-error show-override"),d.innerHTML=c,b.appendChild(d),n.showViewportDimensions){var e=document.createElement("p");e.setAttribute("id","viewport-dimensions"),b.appendChild(e),e.innerHTML=window.innerWidth+"px",window.addEventListener("resize",function(){e.innerHTML=window.innerWidth+"px"})}h("[log.create]"),n.enabled=!0,f()}function c(a){d.delegate(a,"INPUT","click",function(b){var c=this.getAttribute("id").replace("log-","");switch(a.classList.contains("show-"+c)?"visible":"hidden"){case"visible":a.classList.remove("show-"+c);break;case"hidden":a.classList.add("show-"+c)}})}function e(a){var b=a.querySelector("OL");d.delegate(a,"A[data-resize]","click",function(c){c.preventDefault();var d=this.getAttribute("data-resize");a.classList.remove("minimize"),a.classList.remove("maximize"),a.classList.add(d),b.style.height=n.heights[d],l({message:"[log.eventsInit]: "+d+"d",type:"information"})})}function f(){var a=document.getElementById("log");l({message:"[log.eventsInit]",type:"information"}),c(a),d.delegate(document.getElementById("log"),"A[data-reset]","click",function(a){a.preventDefault(),g()}),e(a)}function g(){var a=document.querySelector("#log OL");a.innerHTML="",a.parentNode.setAttribute("class","minimize show-information show-warning show-error");var b,c=document.querySelectorAll("#log FORM STRONG");for(b=0;b<c.length;b++)c[b].innerHTML="0",c[b].nextElementSibling.setAttribute("checked",!0);l({message:"[log.emptyLog]: debug logger emptied",type:"information"})}function h(a){l({message:a,type:"information"})}function i(a){l({message:a,type:"warning"})}function j(a){l({message:a,type:"error"})}function k(a){l({message:a,type:"override"})}function l(a){if(document.getElementById("log")){var b=document.querySelectorAll("#log OL LI").length,c=document.createElement("LI"),d=document.querySelector("#log OL LI"),e=document.createElement("STRONG");c.setAttribute("class","log-"+a.type),c.innerHTML=b+1+". "+a.message,e.innerHTML=a.type+"&nbsp;",c.appendChild(e),document.querySelector("#log OL").insertBefore(c,d);var f=document.getElementById("log-"+a.type).previousElementSibling,g=f.innerHTML;g++,f.innerHTML=g}}function m(){if(location.search){var a={};try{location.search.replace("?","").split("&").forEach(function(b){var c=b.split("=");a[c[0]]=c[1]})}catch(a){j("[log.parseQueryString]: error parsing querystring, description="+a.description)}return a}}var n={enabled:!1,heights:{maximize:"500px",minimize:"250px"},showViewportDimensions:!0};return{emptyLog:g,error:j,information:h,init:a,options:n,override:k,warning:i}}()},{"../../../src/js/events.js":5}],3:[function(a,b,c){b.exports={component:a("./component.js"),config:a("../../config/src/js/config.js"),events:a("./events.js"),log:a("../../log/src/js/log.js")}},{"../../config/src/js/config.js":1,"../../log/src/js/log.js":2,"./component.js":4,"./events.js":5}],4:[function(a,b,c){function d(a){f.fire(a,"component.activate")}function e(a){function b(b){a.init&&a.init(b),b.setAttribute("data-init",!0)}return a=a||{},{init:b}}var f=a("./events.js");b.exports={create:e,activate:d}},{"./events.js":5}],5:[function(a,b,c){b.exports=function(){function a(a){return[].slice.call(a)}function b(a,b,c,d){if(d=d||{},a.addEventListener(b,c),a.dataEvents){var e=a.dataEvents[b];if(e)if(d.purgeEventData)for(;e.length>0;)c.call(a,{data:e.shift(),target:a});else e.forEach(function(b){c.call(a,{data:b,target:a})})}}function c(a,b,c){a.dataEvents=a.dataEvents||{},a.dataEvents[b]=a.dataEvents[b]||[],a.dataEvents[b].push(c)}function d(){"complete"===document.readyState||"loaded"===document.readyState?(c(document,g),c(window,"load")):"interactive"===document.readyState&&c(document,g)}function e(a,b,d){var e;d=d||{},document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(b,!0,!0),e.data=d,a.dispatchEvent(e)):document.createEventObject&&(e=document.createEventObject(),e.data=d,a.fireEvent("on"+b,e)),c(a,b,d)}function f(a){d(),document.addEventListener?b(document,g,a):b(window,"load",a)}var g="DOMContentLoaded";return{delegate:function(){function b(a,c,d,e,f,g){if(c===d)return void(g.stopPropagation&&a.stopPropagation());var h=e.indexOf(c);-1!==h&&(f.call(e[h],a),g.preventDefault&&a.preventDefault()),b(a,c.parentNode,d,e,f,g)}function c(b,c,d){return b.concat(a(c.querySelectorAll(d)))}function d(b,c,d){var e=a(c.querySelectorAll(d.substr(1)));return e=e.filter(function(a){return a.parentNode===c}),b.concat(e)}function e(e,f,g,h,i){i=i||{},f=f.split(","),void 0===e.length&&(e=[e]),e.forEach||(e=a(e)),e.forEach(function(a){a.addEventListener(g,function(e){var g=[];f.forEach(function(b){g=">"===b.substr(0,1)?d(g,a,b):c(g,a,b)}),b(e,e.target,a,g,h,i)})})}return e}(),domReady:f,fire:e,listen:b}}()},{}],6:[function(a,b,c){"use strict";var d=a("extend"),e=a("./impr-tracker.js"),f=a("@trinitymirrordigital/chameleon-core").events,g=function(){function a(a){function b(){f.listen(window,"scroll.stop",a.scrollListener)}var c=a.scrollListing;a.isHorizontal?(a.scrollType="scrollLeft",a.containerDimension=a.scrollContainer.clientWidth,a.listingDimension=c.clientWidth,a.scrollLimit=a.listingDimension-a.containerDimension,a.leftArrowElement&&a.leftArrowElement.addEventListener("click",function(b){i(b,a)}),a.rightArrowElement&&a.rightArrowElement.addEventListener("click",function(b){h(b,a)})):(a.scrollType="scrollTop",a.containerDimension=a.scrollContainer.clientHeight,a.listingDimension=c.clientHeight),a.intervalDelay=Math.floor(1e3/a.frameRate),a.initialScroll=!0,l(null,a),a.scrollContainer.addEventListener("mouseover",function(b){g(b,a)}),a.scrollContainer.addEventListener("mouseout",b),a.scrollContainer.addEventListener("touchenter",function(b){g(b,a)}),a.scrollContainer.addEventListener("touchleave",b)}function b(a){e.percInViewport(a.scrollContainer,null,1)?a.scrollStopped&&(c(a),l(null,a)):(a.scrollStopped=!0,c(a))}function c(a,b){k(a.interval,b),k(a.waitInterval,b)}function g(a,b){window.removeEventListener("scroll.stop",b.scrollListener),k(b.waitInterval,a),b.scrollStopped=!0,k(b.interval,a)}function h(a,b){var c=b.scrollContainer[b.scrollType],d=c+b.listItemWidth;d>b.listingDimension-(b.containerDimension+30)?(b.scrollContainer[b.scrollType]=c%b.listItemWidth,c=b.scrollContainer[b.scrollType],d=b.scrollContainer[b.scrollType]+b.listItemWidth):(j(b),c=b.scrollContainer[b.scrollType],d=c+b.listItemWidth),k(b.leftInterval),k(b.rightInterval),b.rightInterval=setInterval(function(){c+=b.manualScrollSpeed,c<d?b.scrollContainer[b.scrollType]=c:(b.scrollContainer[b.scrollType]=d,k(b.rightInterval))},b.intervalDelay),a&&a.preventDefault()}function i(a,b){j(b);var c=b.scrollContainer[b.scrollType],d=c-b.listItemWidth;c<b.listItemWidth&&(b.scrollContainer[b.scrollType]=b.listingDimension-(b.visibleElements-1)*b.listItemWidth-b.leftArrowElement.clientWidth,c=b.scrollContainer[b.scrollType],d=b.scrollContainer[b.scrollType]-b.listItemWidth),k(b.rightInterval),k(b.leftInterval),b.leftInterval=setInterval(function(){c-=b.manualScrollSpeed,c>d?b.scrollContainer[b.scrollType]=c:(b.scrollContainer[b.scrollType]=d,k(b.leftInterval))},b.intervalDelay),a&&a.preventDefault()}function j(a){var b=a.scrollContainer[a.scrollType],c=0;c=a.listItemWidth-b%a.listItemWidth-a.leftArrowElement.clientWidth,a.scrollContainer[a.scrollType]=a.scrollContainer[a.scrollType]+c}function k(a,b){a&&clearInterval(a),b&&b.preventDefault()}function l(a,b){b.waitInterval=setInterval(function(){(b.scrollStopped||b.initialScroll)&&(b.scrollContainer[b.scrollType]+=b.speed,m(a,b),b.initialScroll=!1,b.scrollStopped=!1)},b.autoScrollDelay)}function m(a,b){b.interval=setInterval(function(){b.scrollContainer[b.scrollType]<b.listingDimension-b.containerDimension?b.scrollContainer[b.scrollType]+=b.speed:b.scrollContainer[b.scrollType]=2*b.listItemWidth+b.manualScrollSpeed,n(b),b.extraScrolled=(b.scrollContainer[b.scrollType]+b.additionalWidth)%b.listItemWidth,b.extraScrolled<=b.speed&&(b.scrollContainer[b.scrollType]-=b.extraScrolled,b.scrollStopped=!0,k(b.interval),k(b.waitInterval),f.fire(document.body,"autoscroll.impression.tracking"),l(a,b))},b.intervalDelay),a&&a.preventDefault()}function n(a){a.isMobile?a.additionalWidth=Math.ceil((window.innerWidth-a.listItemWidth)/2):a.additionalWidth=a.leftArrowElement?a.leftArrowElement.clientWidth:0}function o(a){var b=a.scrollListing.childNodes,c=b.length-1,d=0,e=0,f=0;for(a.visibleElements=Math.ceil(window.innerWidth/a.listItemWidth)+1,a.visibleElements&&(e=Math.floor(a.visibleElements/2),f=a.visibleElements%2?e+1:e),d=0;d<e;d++)a.scrollListing.insertAdjacentElement("afterbegin",p(b[c].cloneNode(!0)));for(d=0;d<f;d++)a.scrollListing.insertAdjacentElement("beforeend",p(b[d+e].cloneNode(!0)));var g=a.listItemWidth*a.scrollListing.childNodes.length;a.scrollListing.style.width=g+"px"}function p(a){return a.removeAttribute("data-impr-tracking"),a}function q(c){var e={};d(e,r,c),e.isHorizontal=e.orientation.match(/horizontal/),e.scrollContainer=document.body.querySelector(e.containerSelector),e.scrollListing=e.scrollContainer.querySelector(e.listingSelector),e.autoScrollDelay=e.isDelayRequired?e.autoScrollDelay:0,e.isHorizontal&&(e.leftArrowElement=e.scrollContainer.querySelector(e.leftArrow),e.rightArrowElement=e.scrollContainer.querySelector(e.rightArrow),e.isLoop&&o(e)),a(e),e.scrollListener=function(){b(e)},f.listen(window,"scroll.stop",e.scrollListener)}var r={speed:1,manualScrollSpeed:50,isLoop:!0,frameRate:24,orientation:"vertical",isMobile:/iPhone|iPad|iPod|Android|BlackBerry|Windows Phone|webOS/i.test(window.navigator.userAgent),autoScrollDelay:4e3,isDelayRequired:!1};return{init:q}}();b.exports=g},{"./impr-tracker.js":8,"@trinitymirrordigital/chameleon-core":12,extend:20}],7:[function(a,b,c){"use strict";function d(a){var b,c=[],d=a.length;for(b=0;b<d;b++)c[b]=a[b];return c}function e(a){a=a||window.innerWidth;var b,c=j.config.getOption("breakpoints"),d=c.length;for(b=0;b<d;b++)if(a<c[b].width)return c[b-1].name;return c[d-1].name}function f(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function g(a,b,c){if(a&&b){c=c||{};try{var d=new XMLHttpRequest;d.open(c.method||"get",a,!c.sync),c.headers&&Object.keys(c.headers).forEach(function(a){d.setRequestHeader(a,c.headers[a])}),d.send(c.data||null),d.onload=function(){4===d.readyState&&(200===d.status?b(d):c.errorCallback&&c.errorCallback(d))}}catch(a){}}}function h(a,b){return new Promise(function(c,d){if(!a)return void d("missing required parameters");b=b||{};try{var e=new XMLHttpRequest;e.open(b.method||"get",a,!b.sync),b.headers&&Object.keys(b.headers).forEach(function(a){e.setRequestHeader(a,b.headers[a])}),e.send(b.data||null),e.onload=function(){4===e.readyState&&200===e.status?c(e):d(e)}}catch(a){d(a)}})}function i(a){return(a=(document.cookie+";").match(new RegExp(a+"=.*;")))&&a[0].split(/=|;/)[1]}Object.defineProperty(c,"__esModule",{value:!0}),c.nodeListToArray=d,c.getBreakpoint=e,c.debounce=f,c.ajax=g,c.ajaxPromise=h,c.getCookie=i;var j=a("@trinitymirrordigital/chameleon-core")},{"@trinitymirrordigital/chameleon-core":12}],8:[function(a,b,c){"use strict";var d=a("@trinitymirrordigital/chameleon-core").events,e=function(){function a(a,b,c){return h=b?b.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},i=a.getBoundingClientRect(),j=Math.min(i.right,h.right)-Math.max(i.left,h.left),k=Math.min(i.bottom,h.bottom)-Math.max(i.top,h.top),l=j/i.width*100,m=k/i.height*100,l>c&&m>c}function b(b){var d=null,f=null,g=!1;e(b),[].forEach.call(b.elements,function(e){d=e.getAttribute("data-container-selector"),d?(f=document.querySelector(d),(g=a(e,f,b.visiblePerc))&&a(e,null,b.visiblePerc)&&(g=!1,c(e))):a(e,null,b.visiblePerc)&&c(e)})}function c(a){var b={el:a};f(b),d.fire(a,"data.impression.tracking",b),a.setAttribute("data-tracked","true")}function e(a){a.elements=document.querySelectorAll(a.selector)}function f(a){var b=a.el.getAttribute("data-config");a.data=b&&JSON.parse(b)||!1}function g(a,c){var e={};e.selector=a||"[data-impr-tracking]:not([data-tracked])",e.visiblePerc=c||99,b(e),d.listen(window,"scroll.stop",function(){b(e)}),d.listen(window,"resize.stop",function(){b(e)}),d.listen(document.body,"autoscroll.impression.tracking",function(){b(e)}),d.delegate(document.body,"[data-scroll]","click",function(){b(e)})}var h,i,j,k,l,m;return{init:g,percInViewport:a}}();b.exports=e},{"@trinitymirrordigital/chameleon-core":12}],9:[function(a,b,c){"use strict";function d(a,b){function c(a,b){var c;if(n&&m){if("string"!=typeof a)return void e.error("[localStorage] key has to be a string");if(c=k()||{},c[a]=b,o)try{p.setItem(m,f.encrypt(JSON.stringify(c),q))}catch(a){e.warning("[localStorage] can't setItem "+a)}else try{p.setItem(m,JSON.stringify(c))}catch(a){e.warning("[localStorage] can't setItem "+a)}}}function d(a){var b,c=null;if(n&&m){b=k();try{c=JSON.parse(b[a])}catch(d){b&&(c=b[a])}return c}}function g(a){var b;if(n&&m){b=k();try{delete b[a],p.setItem(m,JSON.stringify(b))}catch(b){e.warning("Can't delete item:["+a+"] "+b)}}}function h(){var a;if(n&&m)return a=p.getItem(m),o&&(a=f.decrypt(a,q)),a}function i(a){n&&m&&(o&&(a=f.encrypt(a,q)),p.setItem(m,a))}function j(){n&&m&&(p.removeItem(m),m=null)}function k(){var a;if(n&&m){if(a=p.getItem(m),o&&a)try{a=f.decrypt(a,q)}catch(b){e.warning("[localStorage] can't decrypt data "+b),a=""}try{a=JSON.parse(a)}catch(c){e.warning("[localStorage] can't parse data (getData) "+c),a=b.expectObject?{}:null}return a}}function l(){if(void 0===p)return!1;try{return p.setItem("test","test"),p.removeItem("test"),!0}catch(a){return!1}}var m,n,o,p=window.localStorage,q="window.onresize";return b=b||{},function(a,b){m||(o=!!b,m=a,(n=l())&&e.information("[localStorage] initialized with key: ["+m+"]"))}(a,b.encrypted),{deleteItem:g,destroy:j,getItem:d,getRawData:h,setItem:c,setRawData:i}}var e={information:function(){},warning:function(){}},f=a("../../lib/tea.js");b.exports=d},{"../../lib/tea.js":11}],10:[function(a,b,c){"use strict";var d=a("./core.js"),e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(d),f=a("@trinitymirrordigital/chameleon-core").log,g=a("./localstore.js"),h=a("./impr-tracker.js"),i=a("./auto-scroll.js");b.exports=function(){function a(a){var b=0,c=0,d=null;for(b=a.length-1;b>0;b--)c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],a[c]=d;return a}function b(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}}function c(){return(new Date).getTime().toString()+Math.random().toString().replace(".","-")}function d(a,b,c){var d="jsonp"+Math.round(1000001*Math.random());a=a||"",b=b||"",c=c||function(){},"function"==typeof b&&(c=b,b="callback"),window[d]=function(a){c(a),delete window[d]},-1===a.indexOf("?")?a+="?":a+="&";var e=document.createElement("script");e.setAttribute("src",a+b+"="+d),document.getElementsByTagName("head")[0].appendChild(e)}function j(a,b){return a.matches?a.matches(b):a.msMatchesSelector?a.msMatchesSelector(b):!!a.webkitMatchesSelector&&a.webkitMatchesSelector(b)}function k(a,b){for(;!j(a,b);){if(!a.parentNode)return null;a=a.parentNode}return a}function l(a){for(var b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}function m(a){if(a){var b,c,d=a.querySelectorAll("script"),e=d.length;for(b=0;b<e;b++)c=document.createElement("script"),d[b].hasAttribute("src")?c.setAttribute("src",d[b].src):c.innerText=d[b].innerText,d[b].parentNode.replaceChild(c,d[b])}}function n(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}function o(a,b,c,d,e,f){var g=window[a];d=d||100,e=e||2e4/d,f=f||0,b&&(!g&&f<e?(f+=1,setTimeout(function(){o(a,b,c,d,e,f)},d)):c&&"function"==typeof window[c][b]?window[c][b]():"function"==typeof b&&b())}function p(){var a=window.sessionStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(a){return!1}}function q(a){var b=void 0,c=void 0,d=new Promise(function(a,d){b=a,c=d});if(d.resolve=b,d.reject=c,a){var e=setTimeout(function(){d.reject("timeout expired")},a);d.then(function(){clearTimeout(e)})}return d}var r={defer:q,executeWhenAvailable:o,findAncestor:k,getElementIndex:l,getQueryParam:n,jsonp:d,log:f,matches:j,processScripts:m,shuffleArray:a,uid:c,windowOffsets:b,stringify:function(){return""},LocalStore:g,sessionStorageEnabled:p,ImprTracker:h,autoScroll:i};return Object.keys(e).forEach(function(a){r[a]=e[a]}),r}()},{"./auto-scroll.js":6,"./core.js":7,"./impr-tracker.js":8,"./localstore.js":9,"@trinitymirrordigital/chameleon-core":12}],11:[function(a,b,c){(function(a){"use strict";var c={};c.encrypt=function(a,b){if(a=String(a),b=String(b),0==a.length)return"";var d=c.strToLongs(a.utf8Encode()),e=c.strToLongs(b.utf8Encode().slice(0,16));d.length;return d=c.encode(d,e),c.longsToStr(d).base64Encode()},c.decrypt=function(a,b){if(a=String(a),b=String(b),0==a.length)return"";var d=c.strToLongs(a.base64Decode()),e=c.strToLongs(b.utf8Encode().slice(0,16));d.length;d=c.decode(d,e);var f=c.longsToStr(d);return f=f.replace(/\0+$/,""),f.utf8Decode()},c.encode=function(a,b){a.length<2&&(a[1]=0);for(var c,d,e=a.length,f=a[e-1],g=a[0],h=Math.floor(6+52/e),i=0;h-- >0;){i+=2654435769,d=i>>>2&3;for(var j=0;j<e;j++)g=a[(j+1)%e],c=(f>>>5^g<<2)+(g>>>3^f<<4)^(i^g)+(b[3&j^d]^f),f=a[j]+=c}return a},c.decode=function(a,b){for(var c,d,e=a.length,f=a[e-1],g=a[0],h=Math.floor(6+52/e),i=2654435769*h;0!=i;){d=i>>>2&3;for(var j=e-1;j>=0;j--)f=a[j>0?j-1:e-1],c=(f>>>5^g<<2)+(g>>>3^f<<4)^(i^g)+(b[3&j^d]^f),g=a[j]-=c;i-=2654435769}return a},c.strToLongs=function(a){for(var b=new Array(Math.ceil(a.length/4)),c=0;c<b.length;c++)b[c]=a.charCodeAt(4*c)+(a.charCodeAt(4*c+1)<<8)+(a.charCodeAt(4*c+2)<<16)+(a.charCodeAt(4*c+3)<<24);return b},c.longsToStr=function(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(255&a[c],a[c]>>>8&255,a[c]>>>16&255,a[c]>>>24&255);return b.join("")},void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(a){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==a)return new a(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==a)return new a(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),b.exports=c}).call(this,a("buffer").Buffer)},{buffer:18}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.events=c.config=c.component=void 0;var e=a("./component"),f=d(e),g=a("./config"),h=d(g),i=a("./events"),j=d(i);c.component=f.default,c.config=h.default,c.events=j.default},{"./component":13,"./config":14,"./events":15}],13:[function(a,b,c){"use strict";function d(a){h.default.fire(a,"component.activate")}function e(a,b){try{a.outerHTML=b(JSON.parse(a.getAttribute("data-component-data")))}catch(a){window.console.log("Error rendering component: "+a)}}function f(a){a=a||{};var b;return a.contexts?b=function(b,c){e(b,a.contexts[c].template)}:a.template&&(b=function(b){e(b,a.template)}),{init:function(b){a.init&&a.init(b),b.setAttribute("data-init",!0)},render:b}}Object.defineProperty(c,"__esModule",{value:!0}),c.activate=c.create=void 0;var g=a("./events.js"),h=function(a){return a&&a.__esModule?a:{default:a}}(g);c.create=f,c.activate=d},{"./events.js":15}],14:[function(a,b,c){"use strict";function d(a){var b=a.split("."),c=0,d=k;for(c;c<b.length;c++)d=d[b[c]];return d}function e(a){(0,i.default)(k,a)}function f(){return k}function g(a){a=a||window.innerWidth;var b,c=d("breakpoints"),e=c.length;for(b=0;b<e;b++)if(a<c[b].width)return c[b-1].name;return c[e-1].name}Object.defineProperty(c,"__esModule",{value:!0});var h=a("extend"),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=document.documentElement,k={breakpointType:null,overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:j.clientHeight,windowTopOffset:null,windowWidth:j.clientWidth};k.breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],c.default={getOption:d,inspect:f,setOption:e,getBreakpoint:g}},{extend:20}],15:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(a){return[].slice.call(a)}function b(a,b,c,d){if(d=d||{},a.addEventListener(b,c),!!a.dataEvents){var e=a.dataEvents[b];if(e)if(d.purgeEventData)for(;0<e.length;)c.call(a,{data:e.shift(),target:a});else e.forEach(function(b){c.call(a,{data:b,target:a})})}}function c(a,b,c){a.dataEvents=a.dataEvents||{},a.dataEvents[b]=a.dataEvents[b]||[],a.dataEvents[b].push(c)}function d(){"complete"===document.readyState||"loaded"===document.readyState?(c(document,e),c(window,"load")):"interactive"===document.readyState&&c(document,e)}var e="DOMContentLoaded";return{delegate:function(){function b(a,c,d,e,f,g){if(c===d)return void(g.stopPropagation&&a.stopPropagation());var h=e.indexOf(c);-1!==h&&(f.call(e[h],a),g.preventDefault&&a.preventDefault()),b(a,c.parentNode,d,e,f,g)}function c(b,c,d){return b.concat(a(c.querySelectorAll(d)))}function d(b,c,d){var e=a(c.querySelectorAll(d.substr(1)));return e=e.filter(function(a){return a.parentNode===c}),b.concat(e)}return function(e,f,g,h,i){i=i||{},f=f.split(","),void 0===e.length&&(e=[e]),e.forEach||(e=a(e)),e.forEach(function(a){a.addEventListener(g,function(e){var g=[];f.forEach(function(b){g=">"===b.substr(0,1)?d(g,a,b):c(g,a,b)}),b(e,e.target,a,g,h,i)})})}}(),domReady:function(a){d(),document.addEventListener?b(document,e,a):b(window,"load",a)},fire:function(a,b,d){var e;d=d||{},document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(b,!0,!0),e.data=d,a.dispatchEvent(e)):document.createEventObject&&(e=document.createEventObject(),e.data=d,a.fireEvent("on"+b,e)),c(a,b,d)},listen:b}}();c.default=d},{}],16:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function e(a){return 3*a.length/4-d(a)}function f(a){var b,c,e,f,g,h,i=a.length;g=d(a),h=new l(3*i/4-g),e=g>0?i-4:i;var j=0;for(b=0,c=0;b<e;b+=4,c+=3)f=k[a.charCodeAt(b)]<<18|k[a.charCodeAt(b+1)]<<12|k[a.charCodeAt(b+2)]<<6|k[a.charCodeAt(b+3)],h[j++]=f>>16&255,h[j++]=f>>8&255,h[j++]=255&f;return 2===g?(f=k[a.charCodeAt(b)]<<2|k[a.charCodeAt(b+1)]>>4,h[j++]=255&f):1===g&&(f=k[a.charCodeAt(b)]<<10|k[a.charCodeAt(b+1)]<<4|k[a.charCodeAt(b+2)]>>2,h[j++]=f>>8&255,h[j++]=255&f),h}function g(a){return j[a>>18&63]+j[a>>12&63]+j[a>>6&63]+j[63&a]}function h(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16)+(a[f+1]<<8)+a[f+2],e.push(g(d));return e.join("")}function i(a){for(var b,c=a.length,d=c%3,e="",f=[],g=0,i=c-d;g<i;g+=16383)f.push(h(a,g,g+16383>i?i:g+16383));return 1===d?(b=a[c-1],e+=j[b>>2],e+=j[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=j[b>>10],e+=j[b>>4&63],e+=j[b<<2&63],e+="="),f.push(e),f.join("")}c.byteLength=e,c.toByteArray=f,c.fromByteArray=i;for(var j=[],k=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=m.length;n<o;++n)j[n]=m[n],k[m.charCodeAt(n)]=n;k["-".charCodeAt(0)]=62,k["_".charCodeAt(0)]=63},{}],17:[function(a,b,c){},{}],18:[function(a,b,c){(function(b){"use strict";function d(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a,b){if(d()<b)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=f.prototype):(null===a&&(a=new f(b)),a.length=b),a}function f(a,b,c){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return j(this,a)}return g(this,a,b,c)}function g(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?m(a,b,c,d):"string"==typeof b?k(a,b,c):n(a,b)}function h(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function i(a,b,c,d){return h(b),b<=0?e(a,b):void 0!==c?"string"==typeof d?e(a,b).fill(c,d):e(a,b).fill(c):e(a,b)}function j(a,b){if(h(b),a=e(a,b<0?0:0|o(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function k(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!f.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|q(b,c);a=e(a,d);var g=a.write(b,c);return g!==d&&(a=a.slice(0,g)),a}function l(a,b){var c=b.length<0?0:0|o(b.length);a=e(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),f.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=f.prototype):a=l(a,b),a}function n(a,b){if(f.isBuffer(b)){var c=0|o(b.length);return a=e(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||X(b.length)?e(a,0):l(a,b);if("Buffer"===b.type&&$(b.data))return l(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function o(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function p(a){return+a!=a&&(a=0),f.alloc(+a)}function q(a,b){if(f.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return S(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return V(a).length;default:if(d)return S(a).length;b=(""+b).toLowerCase(),d=!0}}function r(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return G(this,b,c);case"utf8":case"utf-8":return C(this,b,c);case"ascii":return E(this,b,c);case"latin1":case"binary":return F(this,b,c);case"base64":return B(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function s(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function t(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=f.from(b,d)),f.isBuffer(b))return 0===b.length?-1:u(a,b,c,d,e);if("number"==typeof b)return b&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):u(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function u(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===i)return k*g}else-1!==k&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function v(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){
var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function w(a,b,c,d){return W(S(b,a.length-c),a,c,d)}function x(a,b,c,d){return W(T(b),a,c,d)}function y(a,b,c,d){return x(a,b,c,d)}function z(a,b,c,d){return W(V(b),a,c,d)}function A(a,b,c,d){return W(U(b,a.length-c),a,c,d)}function B(a,b,c){return 0===b&&c===a.length?Y.fromByteArray(a):Y.fromByteArray(a.slice(b,c))}function C(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return D(d)}function D(a){var b=a.length;if(b<=_)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=_));return c}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function G(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=R(a[f]);return e}function H(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function I(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function J(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function K(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function L(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function M(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function N(a,b,c,d,e){return e||M(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(a,b,c,d,23,4),c+4}function O(a,b,c,d,e){return e||M(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(a,b,c,d,52,8),c+8}function P(a){if(a=Q(a).replace(aa,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function Q(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function R(a){return a<16?"0"+a.toString(16):a.toString(16)}function S(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function T(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function U(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function V(a){return Y.toByteArray(P(a))}function W(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function X(a){return a!==a}var Y=a("base64-js"),Z=a("ieee754"),$=a("isarray");c.Buffer=f,c.SlowBuffer=p,c.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(a){return!1}}(),c.kMaxLength=d(),f.poolSize=8192,f._augment=function(a){return a.__proto__=f.prototype,a},f.from=function(a,b,c){return g(null,a,b,c)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(a,b,c){return i(null,a,b,c)},f.allocUnsafe=function(a){return j(null,a)},f.allocUnsafeSlow=function(a){return j(null,a)},f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!$(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return f.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=f.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var g=a[c];if(!f.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,e),e+=g.length}return d},f.byteLength=q,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)s(this,b,b+1);return this},f.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)s(this,b,b+3),s(this,b+1,b+2);return this},f.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)s(this,b,b+7),s(this,b+1,b+6),s(this,b+2,b+5),s(this,b+3,b+4);return this},f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?C(this,0,a):r.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a,b,c,d,e){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var g=e-d,h=c-b,i=Math.min(g,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},f.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)},f.prototype.indexOf=function(a,b,c){return t(this,a,b,c,!0)},f.prototype.lastIndexOf=function(a,b,c){return t(this,a,b,c,!1)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return v(this,a,b,c);case"utf8":case"utf-8":return w(this,a,b,c);case"ascii":return x(this,a,b,c);case"latin1":case"binary":return y(this,a,b,c);case"base64":return z(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=f.prototype;else{var e=b-a;d=new f(e,void 0);for(var g=0;g<e;++g)d[g]=this[g+a]}return d},f.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||I(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||I(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||I(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||I(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||I(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||I(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||I(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||I(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||I(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||I(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):L(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):L(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return O(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return O(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;--e)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var g;if("number"==typeof a)for(g=b;g<c;++g)this[g]=a;else{var h=f.isBuffer(a)?a:S(new f(a,d).toString()),i=h.length;for(g=0;g<c-b;++g)this[g+b]=h[g%i]}return this};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":16,ieee754:21,isarray:19}],19:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],20:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===e.call(a)},g=function(a){if(!a||"[object Object]"!==e.call(a))return!1;var b=d.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return void 0===f||d.call(a,f)};b.exports=function a(){var b,c,d,e,h,i,j=arguments[0],k=1,l=arguments.length,m=!1;for("boolean"==typeof j&&(m=j,j=arguments[1]||{},k=2),(null==j||"object"!=typeof j&&"function"!=typeof j)&&(j={});k<l;++k)if(null!=(b=arguments[k]))for(c in b)d=j[c],e=b[c],j!==e&&(m&&e&&(g(e)||(h=f(e)))?(h?(h=!1,i=d&&f(d)?d:[]):i=d&&g(d)?d:{},j[c]=a(m,i,e)):void 0!==e&&(j[c]=e));return j}},{}],21:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],22:[function(a,b,c){"use strict";function d(a,b){if(a&&"object"==typeof a){if("string"==typeof b&&""!==b){return b.split(".").reduce(function(a,b){return a&&a[b]},a)}return"number"==typeof b?a[b]:a}return a}function e(a,b,c){if(c=c||{},a&&"object"==typeof a){if("string"==typeof b&&""!==b){return b.split(".").reduce(function(a,b,d,e){return d==e.length-1?c.own?!(!a||!a.hasOwnProperty(b)):!!(null!==a&&"object"==typeof a&&b in a):a&&a[b]},a)}return"number"==typeof b&&b in a}return!1}function f(a,b,c){if(a&&"object"==typeof a){if("string"==typeof b&&""!==b){var d=b.split(".");return d.reduce(function(a,b,e){return a[b]=a[b]||{},d.length==e+1&&(a[b]=c),a[b]},a)}return"number"==typeof b?(a[b]=c,a[b]):a}return a}function g(a,b,c,d){if(d=d||{},a&&"object"==typeof a){if("string"==typeof b&&""!==b){var e,f=b.split("."),g=!1;return e=!!f.reduce(function(a,b){return g=g||a===c||!!a&&a[b]===c,a&&a[b]},a),d.validPath?g&&e:g}return!1}return!1}b.exports={set:f,get:d,has:e,hasOwn:function(a,b,c){return this.has(a,b,c||{own:!0})},isIn:g}},{}],23:[function(a,b,c){!function(a){function c(){}function d(a,b){return function(){a.apply(b,arguments)}}function e(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function f(a,b){for(;3===a._state;)a=a._value;if(0===a._state)return void a._deferreds.push(b);a._handled=!0,m(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?g:h)(b.promise,a._value);var d;try{d=c(a._value)}catch(a){return void h(b.promise,a)}g(b.promise,d)})}function g(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof e)return a._state=3,a._value=b,void i(a);if("function"==typeof c)return void k(d(c,b),a)}a._state=1,a._value=b,i(a)}catch(b){h(a,b)}}function h(a,b){a._state=2,a._value=b,i(a)}function i(a){2===a._state&&0===a._deferreds.length&&m(function(){a._handled||n(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)f(a,a._deferreds[b]);a._deferreds=null}function j(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,g(b,a))},function(a){c||(c=!0,h(b,a))})}catch(a){if(c)return;c=!0,h(b,a)}}var l=setTimeout,m="function"==typeof setImmediate&&setImmediate||function(a){l(a,0)},n=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};e.prototype.catch=function(a){return this.then(null,a)},e.prototype.then=function(a,b){var d=new this.constructor(c);return f(this,new j(a,b,d)),d},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0==--e&&a(b)}catch(a){c(a)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},e._setImmediateFn=function(a){m=a},e._setUnhandledRejectionFn=function(a){n=a},void 0!==b&&b.exports?b.exports=e:a.Promise||(a.Promise=e)}(this)},{}],24:[function(a,b,c){"use strict";function d(a,b){if(1===arguments.length){for(var c=a[0],e=1;e<a.length;e++)c=d(c,a[e]);return c}for(var f in b)if("class"===f){var g=a[f]||[];a[f]=(Array.isArray(g)?g:[g]).concat(b[f]||[])}else if("style"===f){var g=h(a[f]),i=h(b[f]);a[f]=g+i}else a[f]=b[f];return a}function e(a,b){for(var c,d="",e="",f=Array.isArray(b),h=0;h<a.length;h++)(c=g(a[h]))&&(f&&b[h]&&(c=k(c)),d=d+e+c,e=" ");return d}function f(a){var b="",c="";for(var d in a)d&&a[d]&&m.call(a,d)&&(b=b+c+d,c=" ");return b}function g(a,b){return Array.isArray(a)?e(a,b):a&&"object"==typeof a?f(a):a||""}function h(a){if(!a)return"";if("object"==typeof a){var b="";for(var c in a)m.call(a,c)&&(b=b+c+":"+a[c]+";");return b}return a+="",";"!==a[a.length-1]?a+";":a}function i(a,b,c,d){return!1!==b&&null!=b&&(b||"class"!==a&&"style"!==a)?!0===b?" "+(d?a:a+'="'+a+'"'):("function"==typeof b.toJSON&&(b=b.toJSON()),"string"==typeof b||(b=JSON.stringify(b),c||-1===b.indexOf('"'))?(c&&(b=k(b))," "+a+'="'+b+'"'):" "+a+"='"+b.replace(/'/g,"&#39;")+"'"):""}function j(a,b){var c="";for(var d in a)if(m.call(a,d)){var e=a[d];if("class"===d){e=g(e),c=i(d,e,!1,b)+c;continue}"style"===d&&(e=h(e)),c+=i(d,e,!1,b)}return c}function k(a){var b=""+a,c=n.exec(b);if(!c)return a;var d,e,f,g="";for(d=c.index,e=0;d<b.length;d++){switch(b.charCodeAt(d)){case 34:f="&quot;";break;case 38:f="&amp;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;default:continue}e!==d&&(g+=b.substring(e,d)),e=d+1,g+=f}return e!==d?g+b.substring(e,d):g}function l(b,c,d,e){if(!(b instanceof Error))throw b;if(!("undefined"==typeof window&&c||e))throw b.message+=" on line "+d,b;try{e=e||a("fs").readFileSync(c,"utf8")}catch(a){l(b,null,d)}var f=3,g=e.split("\n"),h=Math.max(d-f,0),i=Math.min(g.length,d+f),f=g.slice(h,i).map(function(a,b){var c=b+h+1;return(c==d?"  > ":"    ")+c+"| "+a}).join("\n");throw b.path=c,b.message=(c||"Pug")+":"+d+"\n"+f+"\n\n"+b.message,b}var m=Object.prototype.hasOwnProperty;c.merge=d,c.classes=g,c.style=h,c.attr=i,c.attrs=j;var n=/["&<>]/;c.escape=k,c.rethrow=l},{fs:17}],25:[function(a,b,c){"use strict";function d(a){return decodeURIComponent(a.replace(/\+/g," "))}function e(a){for(var b,c=/([^=?&]+)=?([^&]*)/g,e={};b=c.exec(a);){var f=d(b[1]),g=d(b[2]);f in e||(e[f]=g)}return e}function f(a,b){b=b||"";var c,d,e=[];"string"!=typeof b&&(b="?");for(d in a)h.call(a,d)&&(c=a[d],c||null!==c&&c!==g&&!isNaN(c)||(c=""),e.push(encodeURIComponent(d)+"="+encodeURIComponent(c)));return e.length?b+e.join("&"):""}var g,h=Object.prototype.hasOwnProperty;c.stringify=f,c.parse=e},{}],26:[function(a,b,c){function d(a){var b,c="",d={},f=a||{};return function(a,f){var g=[];d.endscreenPlayBtn=b=function(){this&&this.block,this&&this.attributes;c+="\n",c+=g.join(""),c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 73.2 73.2" xml:space="preserve">',c+="\n  ",c+=g.join(""),c+="<g>",c+="\n    ",c+=g.join(""),c+='<circle cx="36.6" cy="36.6" r="34.1"></circle>',c+="\n    ",c+=g.join(""),c+='<polyline points="30.3,23.8 48.8,36.6 30.3,49.4 \t" style="fill:#fff;"></polyline>\n  ',c+=g.join(""),c+="</g>\n",c+=g.join(""),c+="</svg>"};var h=a.videos;if(h&&h.length>0){var i=h[0];c=c+'\n<div class="suggested-at-percent suggested-at-percent--hidden"'+e.attr("data-show-at-percent",a.percent||60,!0,!0)+e.attr("data-show-for",a.showFor||10,!0,!0)+">",c=c+'<a class="suggested-image-link suggested-image-failed"'+e.attr("href",i.articleUrl,!0,!0)+">",c=c+'<img class="suggested-img"'+e.attr("data-src",i.thumbnailUrl,!0,!0)+"></a>",c=c+'<a class="suggested-text-link"'+e.attr("href",i.articleUrl,!0,!0)+">",c+='<span class="suggested-watch-next">',c+="Watch Next</span>",c+='<span class="suggested-text">',c=c+e.escape(null==(b=i.title)?"":b)+"</span></a>",c+='<a class="suggested-close"></a></div>',h.shift(),h&&h.length>1&&(c+='\n<div class="video-endscreen__tiles">',function(){var a=h;if("number"==typeof a.length)for(var f=0,i=a.length;f<i;f++){var j=a[f];c=c+'<a class="video-endscreen__tile"'+e.attr("href",j.articleUrl,!0,!0)+e.attr("style",e.style("background-image: url("+j.thumbnailUrl+"); background-image: linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 60%, rgba(0,0,0,.6)), url("+j.thumbnailUrl+");"),!0,!0)+">",g.push("    "),d.endscreenPlayBtn(),g.pop(),c+="<span>",c=c+e.escape(null==(b=j.title)?"":b)+"</span></a>"}else{var i=0;for(var f in a){i++;var j=a[f];c=c+'<a class="video-endscreen__tile"'+e.attr("href",j.articleUrl,!0,!0)+e.attr("style",e.style("background-image: url("+j.thumbnailUrl+"); background-image: linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 60%, rgba(0,0,0,.6)), url("+j.thumbnailUrl+");"),!0,!0)+">",g.push("    "),d.endscreenPlayBtn(),g.pop(),c+="<span>",c=c+e.escape(null==(b=j.title)?"":b)+"</span></a>"}}}.call(this),c+="\n</div>")}}.call(this,"data"in f?f.data:"undefined"!=typeof data?data:void 0,"parseInt"in f?f.parseInt:"undefined"!=typeof parseInt?parseInt:void 0),c}var e=a("pug-runtime");b.exports=d},{"pug-runtime":24}],27:[function(a,b,c){function d(a){var b,c="",d={},f=a||{};return function(a,f,g,h){var i=[];d.endscreenReplayBtn=b=function(){this&&this.block,this&&this.attributes;c+="\n",c+=i.join(""),c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 73.2 80.5" xml:space="preserve">',c+="\n  ",c+=i.join(""),c+="<g>",c+="\n    ",c+=i.join(""),c+='<path d="M70.7,43.9C70.7,62.7,55.4,78,36.6,78S2.5,62.7,2.5,43.9S17.8,9.8,36.6,9.8"></path>',c+="\n    ",c+=i.join(""),c+='<polyline points="33,0 48,10.4 33,20.8 \t"></polyline>\n  ',c+=i.join(""),c+="</g>\n",c+=i.join(""),c+="</svg>"},d.microdata=b=function(a){this&&this.block,this&&this.attributes;c+="\n",c+=i.join(""),c+='<div class="videoMeta">',c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="name"'+e.attr("content",a.videoTitle,!0,!0)+">",c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="description"'+e.attr("content",a.description,!0,!0)+">",c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="duration"'+e.attr("content","PT"+a.duration+"S",!0,!0)+">",c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="thumbnailUrl"'+e.attr("content",a.thumbnailUrl,!0,!0)+">",c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="dateCreated"'+e.attr("content",a.createdDateAsDate,!0,!0)+">",c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="datePublished"'+e.attr("content",a.publishedDateAsDate,!0,!0)+">",c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="dateModified"'+e.attr("content",a.lastModifiedDateAsDate,!0,!0)+">",c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="uploadDate"'+e.attr("content",a.uploadDate,!0,!0)+">",c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="keywords"'+e.attr("content",a.keywords,!0,!0)+">",a.seo&&a.seo.publisher&&a.seo.publisher.logo&&(c+="\n  ",c+=i.join(""),c=c+'<div itemprop="publisher" itemscope'+e.attr("itemtype","https://schema.org/"+a.seo.publisher["@type"],!0,!0)+">",c+="\n    ",c+=i.join(""),c=c+'<meta itemprop="name"'+e.attr("content",a.seo.publisher.name,!0,!0)+">",c+="\n    ",c+=i.join(""),c=c+'<meta itemprop="url"'+e.attr("content",a.seo.publisher.url,!0,!0)+">",c+="\n    ",c+=i.join(""),c=c+'<div itemprop="logo" itemscope'+e.attr("itemtype","https://schema.org/"+a.seo.publisher.logo["@type"],!0,!0)+">",c+="\n      ",c+=i.join(""),c=c+'<meta itemprop="url"'+e.attr("content",a.seo.publisher.logo.url,!0,!0)+">",c+="\n      ",c+=i.join(""),c=c+'<meta itemprop="width"'+e.attr("content",a.seo.publisher.logo.width,!0,!0)+">",c+="\n      ",c+=i.join(""),c=c+'<meta itemprop="height"'+e.attr("content",a.seo.publisher.logo.height,!0,!0)+">\n    ",c+=i.join(""),c+="</div>\n  ",c+=i.join(""),c+="</div>"),c+="\n",c+=i.join(""),c+="</div>"},d["microdata-liveEvents"]=b=function(a){this&&this.block,this&&this.attributes;h&&(c+="\n",c+=i.join(""),c+='<div itemprop="image" itemscope itemtype="http://schema.org/ImageObject">',c+="\n  ",c+=i.join(""),c=c+'<meta itemprop="url"'+e.attr("content",a.thumbnailUrl,!0,!0)+">",c+="\n  ",c+=i.join(""),c+='<meta itemprop="width" content="100%">',c+="\n  ",c+=i.join(""),c+='<meta itemprop="height" content="100%">\n',c+=i.join(""),c+="</div>")},d.customFields=b=function(a){this&&this.block,this&&this.attributes;c+="\n",c+=i.join(""),c=c+'<div class="customFields"'+e.attr("data-clearance",a.customFields.clearance,!0,!0)+e.attr("data-source",a.customFields.source,!0,!0)+e.attr("data-contentvertical",a.customFields.contentVertical,!0,!0)+e.attr("data-site",a.customFields.site,!0,!0)+e.attr("data-uploader",a.customFields.uploader,!0,!0)+e.attr("data-sourcedBy",a.customFields.sourcedBy,!0,!0)+e.attr("data-brandSafety",a.customFields.brandSafety,!0,!0)+"></div>"},d.endscreen=b=function(a){this&&this.block,this&&this.attributes;d.endscreenReplayBtn=b=function(){this&&this.block,this&&this.attributes;c+="\n",c+=i.join(""),c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 73.2 80.5" xml:space="preserve">',c+="\n  ",c+=i.join(""),c+="<g>",c+="\n    ",c+=i.join(""),c+='<path d="M70.7,43.9C70.7,62.7,55.4,78,36.6,78S2.5,62.7,2.5,43.9S17.8,9.8,36.6,9.8"></path>',c+="\n    ",c+=i.join(""),c+='<polyline points="33,0 48,10.4 33,20.8 \t"></polyline>\n  ',c+=i.join(""),c+="</g>\n",c+=i.join(""),c+="</svg>"},c+="\n",c+=i.join(""),c=c+'<div class="video-endscreen hidden"'+e.attr("style",e.style("background-image: url("+a.videoData.thumbnailUrl+");"),!0,!0)+">",c+="\n  ",c+=i.join(""),c+='<div class="video-endscreen__replay">',i.push("    "),d.endscreenReplayBtn(),i.pop(),c+="<span>",c+="Watch again</span>\n  ",c+=i.join(""),c+="</div>\n",c+=i.join(""),c+="</div>"};var j=a.stringify(g.suggestedData.videos);i.push(""),d["microdata-liveEvents"](g.videoData),i.pop(),c=c+'\n<div class="mod-video" data-mod="video" data-placeholder-ready'+e.attr("data-application-id",g.videoData.seo.publisher.name.toUpperCase()+" Embed Offsite",!0,!0)+e.attr("data-suggested",j,!0,!0)+e.attr("data-show-advert",g.adData.showAdvert,!0,!0)+e.attr("data-player-type",g.playerType,!0,!0)+e.attr("data-ad-unit-id",g.adData.adUnitId,!0,!0)+e.attr("data-referrer-url",g.adData.referrerUrl,!0,!0)+e.attr("data-correlator",g.adData.correlator,!0,!0)+e.attr("data-token",g.adData.token,!0,!0)+e.attr("data-video-id",g.videoData.videoId,!0,!0)+e.attr("data-player",g.playerData.playerId,!0,!0)+e.attr("data-account",g.playerData.account,!0,!0)+e.attr("data-video-title",g.videoData.videoTitle,!0,!0)+e.attr("data-autoplay",g.videoData.leadVideoAutoplay,!0,!0)+e.attr("data-related",g.videoData.isRelated,!0,!0)+e.attr("data-duration","PT"+g.videoData.duration+"S",!0,!0)+e.attr("data-float-and-park",function(a){return null===a||void 0===typeof a?"float":!1===a?"no-float":"float"}(g.playerData.floatAndPark),!0,!0)+e.attr("data-immediate",g.videoData.immediateInit,!0,!0)+e.attr("data-video-published-date",g.videoData.publishedDateAsDate,!0,!0)+e.attr("data-hide-embed",g.videoData.hideEmbed,!0,!0)+e.attr("data-thumbnail",g.videoData.thumbnailUrl,!0,!0)+e.attr("data-bumper-enabled",!g.videoData.bumperDisabled,!0,!0)+' itemtype="http://schema.org/VideoObject" itemprop="video" itemscope="itemscope">',c+='\n  <div class="video-wrapper">',c=c+'\n    <video class="video-js" controls data-embed="default" playsinline'+e.attr("muted",!(!g.videoData.isRelated||!g.videoData.leadVideoAutoplay),!0,!0)+"></video>",
c+='\n    <div class="video-float-unmute vjs-mute-control">',c+='<span class="vjs-icon-volume-mute"></span>',c+="Click for Sound</div>",c+='\n    <div class="video-bumper hidden"></div>';var k=g.videoData.autoplayTime||8,l=!0;"youtube"!==g.playerType||g.videoData.thumbnailUrl||(g.videoData.thumbnailUrl="//img.youtube.com/vi/"+g.videoData.videoId+"/0.jpg"),g.videoData.thumbnailUrl||(l=!1),c+='\n    <div class="video-preloader">',l?(c+='\n      <div class="mod-image video-thumbnail" data-mod="image">',c=c+"<img"+e.attr("data-src",g.videoData.thumbnailUrl,!0,!0)+" data-width=\"100%\" onerror=\"this.parentElement.classList.add('video-thumbnail--unavailable');this.style.display='none'\">",c+="\n        <noscript>",c=c+'<img class="video-thumbnail"'+e.attr("src",g.videoData.thumbnailUrl,!0,!0)+"></noscript>\n      </div>"):c+='\n      <div class="video-thumbnail video-thumbnail--unavailable"></div>',c+='\n      <div class="video-preloader-content">',c+='<span class="video-preloader-text video-preloader-text-loading">',c+="Video Loading</span>",c+='\n        <div class="video-preloader-text video-preloader-text-unavailable hidden">',c+="Video Unavailable</div>\n      </div>",c+='\n      <div class="video-play-content hidden">',c+='\n        <div class="vjs-play-button"></div>',c+='\n        <div class="play-link">',c+='<span class="play-link-desktop">',c+="Click to play</span>",c+='<span class="play-link-mobile">',c+="Tap to play</span></div>\n      </div>",c+='\n      <div class="video-spinner hidden"></div>',c=c+'\n      <div class="video-timer hidden"'+e.attr("data-autoplay-time",k,!0,!0)+">",c+='\n        <div class="circle-timer">',c+='\n          <div class="triangle"></div>',c+='\n          <div class="timer-right"></div>',c+='\n          <div class="timer-slot">',c+='\n            <div class="timer-left"></div>\n          </div>\n        </div>',c+='\n        <div class="timer-action">',c+='<span class="timer-text">',c+="The video will start in ",c+="<span>",c=c+e.escape(null==(b=k)?"":b)+"</span>",c+='<span class="autoplay-cancel">',c+="Cancel</span></span>",c+='\n          <div class="play-now">',c+="Play now</div>\n        </div>\n      </div>\n    </div>",c+='\n    <div class="ad-timer hidden">',c+="Video will play in&nbsp;",c+='<span class="ad-timer-time"></span></div>',i.push("    "),d.endscreen(g),i.pop(),c+="\n  </div>",c+='\n  <div class="float-and-park-top-bar publication-theme-highlight">',c+='\n    <div class="float-and-park-close publication-theme-highlight"></div>',c+='\n    <div class="float-and-park-logo publication-theme-highlight publication-theme-icon"></div>\n  </div>',g.videoData.videoHeadline&&(c+='<span class="video-headline publication-font">',c=c+(null==(b=g.videoData.videoHeadline)?"":b)+"</span>"),i.push("  "),d.microdata(g.videoData),i.pop(),i.push("  "),d.customFields(g.videoData),i.pop(),c+='\n  <div class="up-next hidden">',c+='\n    <div class="up-next--share">',c+="\n      <h5>",c+="Share this video</h5>",c+="\n      <div>",c+='<a class="icon facebook" target="_blank"></a>',c+='<a class="icon twitter" target="_blank"></a>',c+='<a class="icon pinterest" target="_blank"></a></div>\n    </div>',c+='\n    <div class="up-next--details">',c+='<a class="article-url thumbnail not-loaded">',c+="<img></a>",c+="\n      <div>",c+="\n        <h5>",c+="Watch Next</h5>",c+='<a class="article-url"></a>\n      </div>\n    </div>\n  </div>',c+='\n  <div class="video-upsell-message hidden">',c+="We pay for stories! Send your videos to ",c+='<a class="publication-theme" href="mailto:video@trinitymirror.com" target="_top">',c+="video@trinitymirror.com</a>",c+="</div>\n</div>"}.call(this,"JSON"in f?f.JSON:"undefined"!=typeof JSON?JSON:void 0,"parseInt"in f?f.parseInt:"undefined"!=typeof parseInt?parseInt:void 0,"video"in f?f.video:"undefined"!=typeof video?video:void 0,"videoRelationLiveEvent"in f?f.videoRelationLiveEvent:"undefined"!=typeof videoRelationLiveEvent?videoRelationLiveEvent:void 0),c}var e=a("pug-runtime");b.exports=d},{"pug-runtime":24}],28:[function(a,b,c){function d(a){var b,c="",d=a||{};return function(a){c=c+'\n<div class="mod-video" data-mod="video" data-placeholder-ready'+e.attr("data-player-type",a.playerType,!0,!0)+e.attr("data-video-src",a.videoData.videoId,!0,!0)+e.attr("data-immediate",a.videoData.immediateInit,!0,!0)+">";var d=a.videoData.autoplayTime||8,f=!0;"youtube"!==a.playerType||a.videoData.thumbnailUrl||(a.videoData.thumbnailUrl="//img.youtube.com/vi/"+a.videoData.videoId+"/0.jpg"),a.videoData.thumbnailUrl||(f=!1),c+='\n  <div class="video-preloader">',f?(c+='\n    <div class="mod-image video-thumbnail" data-mod="image">',c=c+"<img"+e.attr("data-src",a.videoData.thumbnailUrl,!0,!0)+" data-width=\"100%\" onerror=\"this.parentElement.classList.add('video-thumbnail--unavailable');this.style.display='none'\">",c+="\n      <noscript>",c=c+'<img class="video-thumbnail"'+e.attr("src",a.videoData.thumbnailUrl,!0,!0)+"></noscript>\n    </div>"):c+='\n    <div class="video-thumbnail video-thumbnail--unavailable"></div>',c+='\n    <div class="video-preloader-content">',c+='<span class="video-preloader-text video-preloader-text-loading">',c+="Video Loading</span>",c+='\n      <div class="video-preloader-text video-preloader-text-unavailable hidden">',c+="Video Unavailable</div>\n    </div>",c+='\n    <div class="video-play-content hidden">',c+='\n      <div class="vjs-play-button"></div>',c+='\n      <div class="play-link">',c+='<span class="play-link-desktop">',c+="Click to play</span>",c+='<span class="play-link-mobile">',c+="Tap to play</span></div>\n    </div>",c+='\n    <div class="video-spinner hidden"></div>',c=c+'\n    <div class="video-timer hidden"'+e.attr("data-autoplay-time",d,!0,!0)+">",c+='\n      <div class="circle-timer">',c+='\n        <div class="triangle"></div>',c+='\n        <div class="timer-right"></div>',c+='\n        <div class="timer-slot">',c+='\n          <div class="timer-left"></div>\n        </div>\n      </div>',c+='\n      <div class="timer-action">',c+='<span class="timer-text">',c+="The video will start in ",c+="<span>",c=c+e.escape(null==(b=d)?"":b)+"</span>",c+='<span class="autoplay-cancel">',c+="Cancel</span></span>",c+='\n        <div class="play-now">',c+="Play now</div>\n      </div>\n    </div>\n  </div>",c+='\n  <div class="youtube-wrapper"></div>\n</div>'}.call(this,"video"in d?d.video:"undefined"!=typeof video?video:void 0),c}var e=a("pug-runtime");b.exports=d},{"pug-runtime":24}],29:[function(a,b,c){function d(a){var b=window.digitalData&&window.dataLayer[1],c=a.querySelector(".customFields");return u=u||y.getMetaContentById("advertisingConfig","page.storymeta"),{adUnitId:a.getAttribute("data-ad-unit-id"),articleId:b?b.article&&b.article.attributes&&b.article.attributes.articleId:"",channel:b?b.page&&b.page.attributes&&(b.page.attributes.channel||b.page.attributes.subSectionOne):"",correlator:a.getAttribute("data-correlator"),environment:"Brightcove_"+y.getPlayerTrackNameFromId(a.getAttribute("data-player")),gsChannels:window.gs_channels,interaction:a.getAttribute("data-interaction"),playerId:"Brightcove|"+y.getPlayerTrackNameFromId(a.getAttribute("data-player")),publisherId:a.getAttribute("data-account"),referrerUrl:a.getAttribute("data-referrer-url"),safetyMeta:c&&parseInt(c.getAttribute("data-brandSafety").substr(0,1))||3,token:a.getAttribute("data-token"),storymeta:u,videoId:a.getAttribute("data-video-id"),videoTitle:a.getAttribute("data-video-title")}}function e(a,b){var c=((window.TMCONFIG||{}).publicSectionParams||{})["video.ad.unit.override"];return c&&window.console.log("AD Unit override = ",c),c||"/5293/video."+a+"/"+b}function f(){return y.getFeatureFlag("videoHeaderBiddingEnabled")}function g(){var a="true"===((window.TMCONFIG||{}).features||{}).showVpaidControls;return"true"===v.getQueryParam("showVpaidControls")||a}function h(){return y.getFeatureFlag("amazonVideoTagEnabled")||y.getFeatureFlag("videoPrebidEnabled")}function i(a){var b=d(a),c=y.getOwnerSite();return-1!==c.indexOf("nottinghampost")&&(c=c.replace(".com",".co.uk")),"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu="+e(c,b.channel)+"&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url="+encodeURIComponent(b.referrerUrl)+"&correlator="+b.correlator+"&description_url="+encodeURIComponent(b.referrerUrl)+"&cust_params=token%3D"+b.token+"%26ttID%3D"+b.videoId+"%26plID%3D"+encodeURIComponent(b.playerId)+"%26publisherId%3D"+b.publisherId+"%26playerWidth%3D620%26playerHeight%3D349%26videoTitle%3D"+encodeURIComponent(b.videoTitle)+"%26site%3Dchameleon%26gs_cat%3D"+encodeURIComponent(b.gsChannels)+"%26video_interaction%3D"+encodeURIComponent(b.interaction)+"%26video_environment%3D"+encodeURIComponent(b.environment)+"%26safetymeta%3D"+b.safetyMeta+"%26oid%3D"+b.articleId+"%26storymeta%3D"+encodeURIComponent(u)}function j(a,b){return window.console.log("VIDEO: new ad request"),b?(r(a,b),!0):(window.console.log("VIDEO adRequest: video player not found"),!1)}function k(a,b){z.subscribe(a,z.list.AD_START,function(){"desktop"===v.getBreakpoint()&&setTimeout(function(){s(a,b)},100)})}function l(){var a,b=8e3,c="video.ad.request.timeout.desktop";return y.isDesktop()||(b=5e3,c="video.ad.request.timeout.mobile"),a=((window.TMCONFIG||{}).publicSectionParams||{})[c],Number(v.getQueryParam("videoAdRequestTimeout"))||Number(a)||b}function m(){var a=Number.MAX_SAFE_INTEGER,b=((window.TMCONFIG||{}).publicSectionParams||{}).updateRecAdUnitIndex,c=Number(v.getQueryParam("updateRecAdUnitIndex")),d=c||Number(b)||a;return window.console.log("VIDEO","updateRecAdUnitIndex",d),d}function n(a,b){y.isIOS()||x.delegate(a,".vjs-ima3-ad-container","mousedown",function(){b.ima3&&b.ima3.adPlayer&&b.ima3.adPlayer.pause()})}function o(a){var b=a.replace(/\&iu=[^\&]*\&/,"&iu=%2F5293%2Fvideo.rec.mirror.co.uk&");return window.console.log("VIDEO","newServerUrl ad unit",a,b),b}function p(a,b){return void 0!==a.wtatHB?(y.configLog("Watching that is defined in player"),a.wtatHB.extendDFPUrl(b)):(y.configLog("Watching that is not defined in player object"),Promise.resolve(b))}function q(a,b){function c(c){var e=i(a);e=y.setCustomParams(e,{vidIndex:d}),d>1&&A.track(a,"video-initiate","",{isIrisTV:!0,vidIndex:d,brightcoveVideoId:(b.mediainfo||{}).id,title:(b.mediainfo||{}).name||"Video title not found"}),m()<=d&&(e=o(e)),y.configLog("VIDEO: generateServerUrl: ",d,e),d++;var g=f();h()?x.listen(document.body,"tagsLoaded",function(){var a=y.dataGetInfo("headerBidding.auctions").filter(function(a){return a.type&&-1!==a.type.indexOf("video")&&!a.completed}).map(function(a){return a.auctionCompletion.catch(function(b){return a.errorCallback(),b})});Promise.all(a).then(function(a){y.configLog("[INFO] Header video bid promise resolved",a),y.dataSetInfo("headerBidding.status","complete");var d,f,h;a.forEach(function(a){if(d=((a||{}).eventObj||{}).data||{},f=d.bids||[],h=d.type||"",y.configLog("Video","Bound params to serverUrl at "+(new Date).toISOString()),f.length>0&&("amazon"===h&&(e=y.setCustomParams(e,{amzniid:f[0].amzniid,amznbid:f[0].amznbid,amznp:f[0].amznp})),"prebid"===h)){var b={hb_adid:B.get(f[0],"adserverTargeting.hb_adid"),hb_bidder:B.get(f[0],"adserverTargeting.hb_bidder"),hb_format:B.get(f[0],"adserverTargeting.hb_format"),hb_pb:B.get(f[0],"adserverTargeting.hb_pb"),hb_size:B.get(f[0],"adserverTargeting.hb_size"),hb_source:B.get(f[0],"adserverTargeting.hb_source")};"spotx"===B.get(f[0],"adserverTargeting.hb_bidder")&&(b.spotx_ad_key=f[0].cache_key,b.spotx_bid=f[0].cpm),e=y.setCustomParams(e,b)}"function"==typeof d.auctionCompletedCallback&&d.auctionCompletedCallback()}),g?p(b,e).then(function(a){y.configLog("Watching that, prebid/amazon enabled callback: ",a),c(a)}):(y.configLog("Prebid/amazon enabled, watching that disabled callback: ",e),c(e))}).catch(function(a){y.configLog("[INFO] Header bidding never initiated: ",a),y.dataSetInfo("headerBidding.status","timeout"),g?p(b,e).then(function(a){c(a)}):c(e)})}):g?p(b,e).then(function(a){y.configLog("Watching that enabled, prebid/amazon disabled callback: ",a),c(a)}):(y.configLog("Watching that, prebid and amazon disabled server url generation",e),c(e))}var d=1;return"3"===y.getFeatureValue("ima3Version")?(y.configLog("VIDEO: using IMA3 v3"),c):(y.configLog("VIDEO: using IMA3 v2"),i(a))}function r(a,b){z.subscribe(a,z.list.AD_START,function(){b.ads&&b.ads.ad&&window.console.info("VIDEO: player.ads.ad.id: ",b.ads.ad.id+", player.ads.ad.index: "+b.ads.ad.index+", player.ads.ad.duration: "+b.ads.ad.duration+", player.ads.ad.type: "+b.ads.ad.type),n(a,b)}),window.$script.ready("ima3",function(){if("function"==typeof b.ima3){y.replaceConsoleError(function(b){t(a,b)}),y.isDesktop()&&C.push("flash");var c={serverUrl:q(a,b),timeout:l(),loadingSpinner:!0,hardTimeouts:!1,vpaidMode:"INSECURE",requestMode:"onplay",adTechOrder:C,autoPlayAdBreaks:!0};g()&&(c.showVpaidControls=!0,window.console.info("VIDEO: enabling VPAID player controls")),"true"===v.getQueryParam("ima3Debug")&&(c.debug=!0,window.console.info("VIDEO: ima3Settings",c)),b.ima3(c)}}),z.subscribe(a,z.list.IMA3_READY,function(){var a=new google.ima.AdsRenderingSettings;a.bitrate=y.isDesktop()?700:500,b.ima3.setAdsRenderingSettings(a)})}function s(a,b){if(!(a&&b&&b.ima3&&b.ima3.adPlayer))return!1;var c,d=a.querySelector(".vjs-ad-control-bar"),e=a.querySelector(".ad-timer"),f=a.querySelector(".ad-timer-time"),g={remainingTime:parseInt(b.ima3.adPlayer.remainingTime(),10),update:function(){this.minutes=parseInt(this.remainingTime/60,10),this.seconds=("0"+(this.remainingTime-60*this.minutes)).substr(-2),f.textContent=this.minutes+"."+this.seconds}};g.update(),d&&d.appendChild(e),e.classList.toggle("hidden"),c=setInterval(function(){g.remainingTime=parseInt(b.ima3.adPlayer.remainingTime(),10),g.update(),g.remainingTime<=0&&(clearInterval(c),setTimeout(function(){e.classList.toggle("hidden")},500))},1e3)}function t(a,b){-1!==b.indexOf("adLoadError")&&A.track(a,"video-ad-error","[AD ERROR] "+b)}var u,v=a("@trinitymirrordigital/chameleon-utilities"),w=a("@trinitymirrordigital/chameleon-core"),x=w.events,y=a("./utils.js"),z=a("./events.js"),A=a("./tracking.js"),B=a("nested-property"),C=["html5"];b.exports={getServerUrl:q,adRequest:j,buildAdConfig:d,initAdTimer:k,pauseAdOnClick:n}},{"./events.js":32,"./tracking.js":39,"./utils.js":41,"@trinitymirrordigital/chameleon-core":3,"@trinitymirrordigital/chameleon-utilities":10,"nested-property":22}],30:[function(a,b,c){function d(){return window.console.info("VIDEO: Initiating bumper."),p.isDesktop()||(q.bumperDuration=3e3),q.publication=e(),q.publication?(q.bumperUrl=g(q.publication),q.bumperUrl?(window.console.info("VIDEO: prefetching bumper for publication: "+q.publication+" and with bumper url: "+q.bumperUrl),void h(q.bumperUrl)):(window.console.warn("VIDEO: Bumper url for publication: "+q.publication+" could not be retrieved."),!1)):(window.console.warn("VIDEO: bumper not configured on this publication: "),!1)}function e(){var a=window.TMCONFIG&&window.TMCONFIG.publication;return a||q.publicationsWithBumpers.forEach(function(b){-1!==window.location.href.indexOf(b)&&(a=b)}),-1!==q.publicationsWithBumpers.indexOf(a)&&a}function f(){var a=window.TMCONFIG&&window.TMCONFIG.frontendRoot,b=null;return a||!!(b=document.querySelector(".mod-video[data-player-type='brightcove']"))&&(a=b.getAttribute("data-fe-root"))}function g(a){var b=f(),c=p.getVideoVersion();return!(!a||!b)&&b+q.bumperBaseDir+a+".png?"+c}function h(a){var b;if(!a)return!1;b=new window.Image,b.src=a,b.onerror=function(){window.console.warn("VIDEO: Bumper url is invalid."+a)},b.onload=function(){q.animationControl.animationSteps=b.width/q.animationControl.frameWidth-1,q.animationControl.backgroundSize=100*(q.animationControl.animationSteps+1)+"%",q.isBumperValid=!0,window.console.info("VIDEO: Bumper has loaded sucessfully. Animation steps: "+q.animationControl.animationSteps+". Bumper Background size: "+q.animationControl.backgroundSize)},q.bumperImage=b}function i(a){var b=q.animationControl;if(!a||!b.animationSteps||!b.backgroundSize)return window.console.warn("VIDEO: Bumper animation controls are invalid. Animation steps:"+b.animationSteps+", background size: "+b.backgroundSize),!1;a.style.backgroundImage="url("+q.bumperUrl+")",a.style.backgroundSize=b.backgroundSize+" 100%"}function j(a){a&&a.classList.toggle("hidden")}function k(a){return a&&a.hasAttribute("data-bumper-enabled")&&"false"!==a.getAttribute("data-bumper-enabled")}function l(a,b){var c=0,d=a.offsetWidth,e=q.bumperDuration/q.animationControl.animationSteps,f=d*q.animationControl.animationSteps;return setInterval(function(){c-=d,a.style.backgroundPosition=c+"px 0",c<-f&&b()},e)}function m(a,b){function c(g){g?window.console.info("VIDEO: Window resize or video park detected. Closing bumper, removing bumper resize event listener."):window.console.info("VIDEO: Bumper duration has elapsed. Playing video"),clearInterval(f),window.removeEventListener("resize",c),a.removeEventListener("video-parked",c),a.removeEventListener("video-park-return",c),o(d),j(e),b()}var d=null,e=null,f=null;if(!(a&&b&&q.isBumperValid&&k(a)))return window.console.warn("VIDEO: Cannot show bumper, either bumper url is not valid, or not enabled.",q),b&&b(),!1;window.addEventListener("resize",c),a.addEventListener("video-parked",c),a.addEventListener("video-park-return",c),e=a.querySelector(".video-bumper"),d=n(a),window.console.info("VIDEO: Creating bumper animation"),i(e),o(d),j(e),f=l(e,c)}function n(a){return a&&a.querySelector(".vjs-control-bar")}function o(a){a&&a.classList.toggle("hidden")}var p=a("./utils"),q={bumperDuration:4e3,bumperBaseDir:"/@trinitymirrordigital/chameleon-video/img/",isBumperValid:!1,animationControl:{frameWidth:480,defaultStaticBGPosition:35,animationName:"bgPosAnimation",staticBGPosition:{}},publicationsWithBumpers:["accrington","birminghammail","bristolpost","cambridge-news","cambridgenews","chesterchronicle","chroniclelive","coventrytelegraph","essexlive","examiner","gazettelive","getbucks","gethampshire","getreading","getsurrey","getwestlondon","huddersfieldexaminer","kentlive","liverpoolecho","nechronicle","northwales","stokesentinel","walesonline"]};b.exports={init:d,show:m,config:q}},{"./utils":41}],31:[function(a,b,c){function d(a,b){var c=a.querySelector(h.endscreen);g.subscribe(a,g.list.ENDED,function(){Math.floor(b.currentTime())>Math.floor(b.mediainfo&&b.mediainfo.duration||b.duration())-1&&c.classList.remove("hidden")}),e.delegate(a,h.replay,"click",function(){c.classList.add("hidden"),b.currentTime(1),f.show(a,function(){b.play()})})}var e=a("@trinitymirrordigital/chameleon-core").events,f=a("./bumper.js"),g=a("./events.js"),h={replay:".video-endscreen__replay",endscreen:".video-endscreen"};b.exports={init:d}},{"./bumper.js":30,"./events.js":32,"@trinitymirrordigital/chameleon-core":3}],32:[function(a,b,c){function d(a,b){if(!a||!b)return!1;var c;for(c in k)k.hasOwnProperty(c)&&e(a,b,k[c])}function e(a,b,c){b.on(c,function(b,d){i(a,b,d),j.fire(a,c,d)})}function f(a,b){a.subscribers||(a.subscribers={}),a.subscribers[b]||(a.subscribers[b]=[])}function g(a,b,c,d){if(!a||!b||!c)return!1;f(a,b),a.subscribers[b].push({callback:c,once:d||!1,called:!1})}function h(a,b,c){return g(a,b,c,!0)}function i(a,b,c){var d,e=0,f=a.subscribers,g=0,h=!0,i=b.type;if(f&&f[i])for(g=f[i].length,e=0;e<g;e++)d=f[i][e],d.once&&d.called&&(h=!1),h&&(d.called=!0,d.callback(b,c))}var j=a("@trinitymirrordigital/chameleon-core").events,k={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOADED_ALLDATA:"loadedalldata",TIME_UPDATE:"timeupdate",PLAY:"play",SEEKED:"seeked",ENDED:"ended",ERROR:"error",IMA3_ERROR:"ima3error",IMA3_AD_ERROR:"ima3-ad-error",AD_ERROR:"adError",AD_START:"ads-ad-started",AD_END:"ads-ad-ended",AD_BLOCK_TEST:"adblocktest",IMA3_READY:"ima3-ready"};b.exports={list:k,init:d,subscribe:g,subscribeOnce:h}},{"@trinitymirrordigital/chameleon-core":3}],33:[function(a,b,c){function d(a){a&&(i=document.querySelector("main"),j=a,p.floatTarget=j,o.classList.add("float-and-park-replacement-video"),j.parentElement.insertBefore(o,j),e(a))}function e(a){m.listen(window,"scroll",function(){var b=l.percInViewport(p.floatTarget);if(!(o.getBoundingClientRect().top-p.floatTarget.getBoundingClientRect().top<0||p.closed||a.parentElement.classList.contains("video-theatre-expanded")))return b<50?void(p.floated||(l.isIE()&&g(-1),h(),p.floated=!0)):void(p.floated&&(p.floated=!1,f()))}),m.delegate(a,".float-and-park-close","click",function(){p.closed=!0,f(),window.chameleonVideo.stop(),n.track(a,"float-and-park-closed")})}function f(){p.floatTarget=j,o.style.display="none",j.classList.remove("float-and-park"),m.fire(j,"video-park-return")}function g(a){var b=document.querySelector("#wraparound-ad-right"),c=document.querySelector("#inskinanchor");c&&(c.style["z-index"]=a,c.style.position="relative"),b&&(b.style["z-index"]=a)}function h(){m.fire(j,"video-parked"),l.isIE()?g(-1):i.style.zIndex="auto",p.floatTarget=o,o.style.display="block",j.classList.add("float-and-park")}var i,j,k=a("@trinitymirrordigital/chameleon-core"),l=a("./utils.js"),m=k.events,n=a("./tracking.js"),o=document.createElement("DIV"),p={floated:!1};b.exports={init:d,config:p}},{"./tracking.js":39,"./utils.js":41,"@trinitymirrordigital/chameleon-core":3}],34:[function(a,b,c){function d(a,b){var c,d,i=b.id_;f.subscribe(a,f.list.PLAY,function(){h[i]&&clearInterval(h[i]);var f=!1,j=g.getFeatureValue("nextVideoCalculation")||"remaining",k=g.getFeatureValue("nextVideoAdRemainingTime")||6,l=g.getFeatureValue("nextVideoAdProgressTime")||15;h[i]=setInterval(function(){g.featureLog("HB","[INFO] Checking if next video auction should be initiated for:",i),c=b.duration(),d=b.currentTime(),c-d<=k&&!f&&(f=!0,e.fire(document.body,"video-init-header-bidding",{domElement:a,player:b}),clearInterval(h[i])),"progress"!==j||f||d>=l&&(f=!0,e.fire(document.body,"video-init-header-bidding",{domElement:a,player:b}),clearInterval(h[i]))},750)})}var e=a("@trinitymirrordigital/chameleon-core").events,f=a("./events.js"),g=a("./utils.js"),h={};b.exports={init:d}},{"./events.js":32,"./utils.js":41,"@trinitymirrordigital/chameleon-core":3}],35:[function(a,b,c){b.exports=function(){function a(a){var b=a.querySelector(".video-spinner"),c=a.querySelector(".video-play-content");a.querySelector(".video-timer").classList.add("hidden"),c.classList.add("hidden"),b.classList.remove("hidden")}function b(a){var b=a.querySelector(".video-timer"),c=a.querySelector(".video-preloader-content"),d=a.querySelector(".video-play-content");if(a.querySelector(".video-preloader").classList.contains("video-unavailable"))return void c.classList.remove("hidden");b.classList.add("hidden"),d.classList.remove("hidden"),c.classList.add("hidden")}function c(a){var b,c,d,e;b=a.querySelector(".video-preloader"),c=b.querySelector(".video-preloader-text-loading"),d=b.querySelector(".video-preloader-text-unavailable"),e=b.querySelector(".video-preloader-content"),b.classList.contains("video-unavailable")||(c.classList.add("hidden"),d.classList.remove("hidden"),b.classList.add("video-unavailable"),e.classList.remove("hidden"),b.classList.remove("hidden"))}function d(a){var b=a.querySelector(".video-preloader");return!(!b||b.classList.contains("video-unavailable"))&&(b.classList.add("hidden"),b)}return{hide:d,showPlayPlaceholder:b,showSpinner:a,videoUnavailable:c}}()},{}],36:[function(a,b,c){function d(b,c){if(!b||!c)return!1;var d=b.querySelector(".ad-timer"),f=b.querySelector(".video-endscreen"),g=a("../../jade/components/suggested.jade"),h=document.createElement("div");return l.prepare(b).then(function(){h.innerHTML=g({data:{videos:b.suggestedVideos,videoData:{thumbnailUrl:b.getAttribute("data-thumbnail")}}});var a=h.querySelector(".suggested-at-percent"),i=h.querySelector(".video-endscreen__tiles");a&&d.parentNode.insertBefore(a,d.nextSibling),i&&(f.setAttribute("data-show-side-tiles",!0),f.appendChild(i)),e(b,c)}),!0}function e(a,c){var d=a.querySelector(m.endscreen),e={dom:a.querySelector(m.midsuggestion),closed:!1,interval:null,thumbUpdated:!1};k.subscribe(a,k.list.PLAY,function(){!e.closed&&e.dom&&b.exports._registerPercentSuggestion(e,c,d),d.classList.add("hidden")}),i.delegate(a,".suggested-image-link,.suggested-text-link","click",function(){c.paused()||c.pause(!0)}),i.delegate(a,".suggested-close","click",function(){b.exports._resetMidWay(e,!0)})}function f(a,b){a.dom.classList.add("suggested-at-percent--hidden"),clearInterval(a.interval),a.interval=null,a.closed=b}function g(a,c){var d,e=c.mediainfo&&c.mediainfo.duration||c.duration(),f=Math.floor(parseInt(a.dom.getAttribute("data-show-at-percent"))*e/100),g=parseInt(a.dom.getAttribute("data-show-for"))+f;if(!window.matchMedia("(min-width: 768px)").matches||!e||!g||a.interval)return!1;a.interval=setInterval(function(){if((d=Math.floor(c.currentTime()))<f||d>g||d+1>=e)return a.dom.classList.add("suggested-at-percent--hidden"),!1;a.thumbUpdated||(b.exports._updateThumbnails(a.dom),a.thumbUpdated=!0),a.dom.classList.remove("suggested-at-percent--hidden")},1e3)}function h(a){var b,c=j.nodeListToArray(a.querySelectorAll(".suggested-img"));if(!c||!c.length)return!1;c.forEach(function(a){b=a.getAttribute("data-src"),a.addEventListener("load",function(){a.parentElement.classList.remove("suggested-image-failed")}),a.src=b})}var i=a("@trinitymirrordigital/chameleon-core").events,j=a("@trinitymirrordigital/chameleon-utilities"),k=a("./events.js"),l=a("./suggestionsDataProvider.js"),m={replay:".video-endscreen__replay",endscreen:".video-endscreen",midsuggestion:".suggested-at-percent"};b.exports={init:d,_updateThumbnails:h,_resetMidWay:f,_registerPercentSuggestion:g}},{"../../jade/components/suggested.jade":26,"./events.js":32,"./suggestionsDataProvider.js":37,"@trinitymirrordigital/chameleon-core":3,"@trinitymirrordigital/chameleon-utilities":10}],37:[function(a,b,c){function d(a){var b=e(a);return a.suggestionsAvailable?i.resolve("suggestionsAlreadyAvailable"):b.length>=k.suggestionsNeeded?(g(a,b),i.resolve("suggestionsAvailableFromBE")):new i(function(c){h||(h=f()),h.then(function(){g(a,b.concat(l)),c("suggestionsAvailableFromData")})})}function e(a){var b=a.editorialSuggestions;return b||(b=(JSON.parse(a.getAttribute("data-suggested")||null)||[]).filter(function(a){return a.articleUrl&&a.isVideoRelation}),a.editorialSuggestions=b,a.setAttribute("data-suggested","")),b}function f(){return new i(function(a){j.ajaxGet(k.suggestionsEndpoint+"&platform="+k.platform+"&articleId="+k.articleId,function(b){var c=JSON.parse(b.responseText);if(c.error)return void window.console.warn("[video] data endpoint error:"+c.error.code+":"+c.error.msg);c.forEach(function(a){l.push({thumbnailUrl:a.imageLink.replace("BINARY","ALTERNATES/s405v").replace("http://is","//i2-prod"),title:a.title,articleUrl:a.url.replace("http://","//")})}),a("suggestionsReceived")},function(){window.console.warn("[video] no response from data endpoint"),a("noSuggestionsReceived")})})}function g(a,b){a.suggestionsAvailable||(a.upNextVideo=b[0],a.suggestedVideos=b.slice(1),a.suggestionsAvailable=!0)}var h,i=a("promise-polyfill"),j=a("./utils.js"),k={suggestionsEndpoint:"https://dgxwdt4z5fqs6.cloudfront.net/api/recommendations?recommendationType=tags-video",suggestionsNeeded:4,platform:window.TMCONFIG&&window.TMCONFIG.platform,articleId:window.digitalData&&window.digitalData.article&&window.digitalData.article.attributes&&window.digitalData.article.attributes.articleId},l=[];b.exports={prepare:d}},{"./utils.js":41,"promise-polyfill":23}],38:[function(a,b,c){function d(a){var b=document.createElement("button"),c=a&&a.querySelector(k.fullScreenBtnClassName);return!!c&&(b.className=k.theatreBtnClassName,b.title=k.contractedTitle,b.innerHTML="<span></span>",c.parentNode.insertBefore(b,c))}function e(a,b,c){var d;if(!(a&&b&&c&&k.articleContainer))return!1;d=k.articleContainer.getBoundingClientRect().width-(k.isLeadLiveEvent?k.liveEventPadding:0),a.classList.add(k.theatreParentClassName),a.style.width=d+"px",c.style.width=d+"px",c.style.left=-Math.floor(d/10)+"px",k.isExpanded=!0,f(a),b.title=k.expandedTitle}function f(a){var b,c=0;if(!a||!k.relatedColumnContainer||!k.isExpanded)return!1;b=a.getBoundingClientRect(),c=Math.abs(k.relatedColumnContainer.getBoundingClientRect().top-b.top)||0,k.relatedColumnContainer.style.paddingTop=b.height+c+k.additionalPadding+"px"}function g(a,b,c){if(!(a&&b&&c&&k.relatedColumnContainer))return!1;a.style.width="auto",a.classList.remove(k.theatreParentClassName),k.relatedColumnContainer.style.removeProperty("padding-top"),c.style.removeProperty("width"),c.style.left=0,b.title=k.contractedTitle,k.isExpanded=!1}function h(a,b){var c=a&&a.parentElement,d=a&&a.querySelector(".up-next");if(!c||!d||!b)return!1;b.addEventListener("click",function(){c.classList.contains(k.theatreParentClassName)?g(c,b,d):e(c,b,d)}),j.listen(window,"resize",function(){c.classList.contains(k.theatreParentClassName)&&g(c,b,d)}),j.listen(a,k.upNexInitEvName,function(){f(c)})}function i(a){var b=a&&d(a);if(!b)return window.console.warn("VIDEO: cannot create theatre button."),!1;k.isLeadLiveEvent=document.body&&document.body.classList.contains("live-event"),a.parentElement.style.transition=k.domParentTransition,h(a,b)}var j=a("@trinitymirrordigital/chameleon-core").events,k={additionalPadding:32,theatreParentClassName:"video-theatre-expanded",theatreBtnClassName:"vjs-theatre-control vjs-control vjs-button",fullScreenBtnClassName:".vjs-control-bar .vjs-fullscreen-control",articleContainer:document.querySelector(".article-wrapper"),relatedColumnContainer:document.querySelector(".article-wrapper .related-column"),expandedTitle:"Default View",contractedTitle:"Theatre",upNexInitEvName:"upnext inited",domParentTransition:"background 0.2s linear",liveEventPadding:60,isExpanded:!1};b.exports={init:i}},{"@trinitymirrordigital/chameleon-core":3}],39:[function(a,b,c){function d(a,b){var c,d,f,g,i,l,m=!a.hasAttribute("data-show-advert"),n=function(b){u=b&&(b.originalEvent&&b.originalEvent.getError&&b.originalEvent.getError()||b.getError&&b.getError())||{};var c=o();if(!m)return i?void(a.dtm.error="[AD BLOCK ERROR] "+c):void h(a,"video-ad-error","[AD ERROR] "+c)},o=function(){return u?"code: "+u.h+", type: "+u.o+", message: "+u.l:""},p=["clearance","source","contentvertical","site","uploader"],q={videoInitiate:!1,contentStart:!1,videoEnded:!1},r=["25","50","75","95"],s={},t={},u=null;a.adStarted=!1,a.adEnded=!1,a.dtm.adDuration="unavailable",k.subscribeOnce(a,k.list.PLAY,function(){if(!q.videoInitiate){var k,n=b.mediainfo&&b.mediainfo.custom_fields||{},u=a.querySelector(".customFields"),v={};p.forEach(function(a){k="source"===a?"06bef9c772ff856fcdfb6f8f237b9c80":"Undefined",v[a]=u.getAttribute("data-"+a),v[a]=v[a]===k?null:v[a],v[a]=v[a]||n[a]}),v.sourcedBy=u.getAttribute("data-sourcedBy"),a.dtm.clearanceSource=v.clearance+" | "+v.source,a.dtm.contentverticalSite=v.contentvertical+" | "+v.site,a.dtm.uploader=v.uploader+" | "+(v.sourcedBy?v.sourcedBy:""),a.dtm.clearanceSource&&a.dtm.contentverticalSite&&a.dtm.uploader||window.console.warn("VIDEO: media info/ custom fields not available for",a.getAttribute("data-video-title")),a.initiateTime=new Date,q.videoInitiate=!0,h(a,"video-initiate","",{isIrisTV:!1,vidIndex:1,brightcoveVideoId:(b.mediainfo||{}).id,title:(b.mediainfo||{}).name||"Video title not found"}),i=((((window.digitalData||{}).commercialData||{}).info||{}).adblocker||{}).enabled,i&&!m&&h(a,"video-adblocker-detection","[AD BLOCK ERROR] "+o()),void 0===i&&j.listen(window,"adblocker.detected",function(b){(i=b.data.adblockerEnabled)&&!m&&h(a,"video-adblocker-detection","[AD BLOCK ERROR] "+o())}),f=setInterval(function(){g=b.duration(),c=b.currentTime(),e(a)||g<=0||g<c||(c>2&&!q.contentStart&&(q.contentStart=!0,h(a,"video-content-start")),d=c/g*100,r.forEach(function(b){l=parseInt(b),d>=l-3&&d<=l+3&&(s[l]=!0),!t[l]&&s[l]&&(t[l]=!0,h(a,"video-content-"+l),95===l&&clearInterval(f))}))},100)}}),
k.subscribe(a,k.list.ENDED,function(){q.videoEnded||a.adStarted&&!a.adEnded||(q.videoEnded=!0,h(a,"video-ended"))}),k.subscribe(a,k.list.AD_START,function(){var c;a.adStarted=!0,a.dtm.adStartElapsedTime=new Date-a.initiateTime,window.digitalData=window.digitalData||{},window.digitalData.videoData={performanceReport:{adStartTime:a.dtm.adStartElapsedTime}},b&&b.ima3&&(b.ima3.currentAd||b.ima3.adPlayer)&&(c=Math.floor(b.ima3.currentAd.duration||b.ima3.adPlayer.duration()),a.dtm.adDuration=c),h(a,"video-ad-start")}),k.subscribe(a,k.list.AD_END,function(){a.adEnded=!0,h(a,"video-ad-end")}),k.subscribe(a,k.list.IMA3_ERROR,n),k.subscribe(a,k.list.IMA3_AD_ERROR,n),j.listen(a,k.list.AD_ERROR,n)}function e(a){return a.adStarted&&!a.adEnded}function f(a,b){var c={playerType:"Brightcove|"+l.getPlayerTrackNameFromId(b),duration:"data-duration",publishedDate:"data-video-published-date",placement:a.hasAttribute("data-related")?"lead":"embed",videoTitle:a.getAttribute("data-video-id")+"_"+a.getAttribute("data-video-title"),visibility:l.percInViewport(a)};a.dtm={};for(var d in c)c.hasOwnProperty(d)&&(a.dtm[d]=a.getAttribute(c[d])||c[d]);h(a,"video-player-load")}function g(a){j.listen(window,"blur",function(){[].forEach.call(a,function(a){a.dtm.visibility=0})})}function h(a,b,c,d){c&&(a.dtm.error=c),a.dtm.visibility=l.percInViewport(a),i(a),j.fire(a,b,d||{}),window.console.info("VIDEO: fired event",b)}function i(a){var b=a.querySelector(".video-js").player;b&&(e(a)&&(b=b.ima3&&b.ima3.adPlayer),a.dtm.muted=b.muted()?"muted":"not muted")}var j=a("@trinitymirrordigital/chameleon-core").events,k=a("./events.js"),l=a("./utils.js");b.exports={init:d,isAdPlaying:e,trackLoadEvent:f,trackPercInViewport:g,track:h}},{"./events.js":32,"./utils.js":41,"@trinitymirrordigital/chameleon-core":3}],40:[function(a,b,c){function d(a,b){var c,d=i.prepare(a);h.listen(a,"video-content-start",function(){c=1e3*(.1*b.duration()-2),setTimeout(function(){d.then(function(){(g=a.upNextVideo)&&(e(a,b),f(a,b))})},c)})}function e(a,b){var c=encodeURI(window.location),d=encodeURI(a.getAttribute("data-video-title")),e=encodeURI(b.mediainfo.thumbnail);a.querySelector(".icon.facebook").href="https://www.facebook.com/sharer/sharer.php?u="+c+"&title="+d,a.querySelector(".icon.twitter").href="https://twitter.com/intent/tweet?url="+c+"&text="+d,a.querySelector(".icon.pinterest").href="https://pinterest.com/pin/create/button/?is_video=true&url="+c+"&description="+d+"&media="+e}function f(a,b){var c=g.thumbnailUrl,d=a.querySelector(".up-next--details img"),e=a.querySelectorAll(".up-next--details a"),f=a.querySelector(".video-headline");d.addEventListener("load",function(){d.parentElement.classList.remove("not-loaded")}),-1===c.indexOf("https")&&g.videoId&&b.catalog.getVideo(g.videoId,function(a,b){a||(c=b.thumbnail)}),d.setAttribute("src",c.replace("http:","https:")),a.querySelector(".up-next--details div a").innerHTML=g.title,[].forEach.call(e,function(a){a.href=g.articleUrl}),f&&f.classList.add("hidden"),a.querySelector(".up-next").classList.remove("hidden"),h.fire(a,"upnext inited")}var g,h=a("@trinitymirrordigital/chameleon-core").events,i=a("./suggestionsDataProvider.js");b.exports={init:d}},{"./suggestionsDataProvider.js":37,"@trinitymirrordigital/chameleon-core":3}],41:[function(a,b,c){function d(a,b){var c=((window.TMCONFIG||{})[b||"features"]||{})[a],d=O.getQueryParam(a),e=null!==d?d:c;return window.console.info("VIDEO: feature "+a+" =",e),e}function e(a,b){return"true"===d(a,b)}function f(){var a=((window.TMCONFIG||{}).publicSectionParams||{}).videoPlayerIdOverride,b=O.getQueryParam("videoPlayerIdOverride"),c=b||a;return c&&window.console.info("VIDEO: playerOverride =",c),c}function g(a){if(document.hidden)return 0;var b=a.getBoundingClientRect(),c=b.height,d=document.documentElement.clientHeight;return b.top>=0&&b.bottom<=d?100:b.top<0?Math.abs(b.top)>c?0:parseInt(b.bottom/c*100):b.top<=d?parseInt((c-(b.bottom-d))/c*100):0}function h(a,b){return!(!a||!b)&&(a.classList.toggle(b),a)}function i(a){return!/iPhone|iPad|iPod|Android|BlackBerry|Windows Phone|webOS/i.test(a||Q)}function j(a){return/Edge\/|Trident\/|MSIE /.test(a||Q)}function k(a){return/googlebot/i.test(a||Q)}function l(a){return/iPhone|iPad|iPod/.test(a||Q)}function m(a){return-1!==window.location.hostname.indexOf(a)?a:null}function n(a,b){Object.keys(b).forEach(function(c){a.setAttribute(c,b[c])})}function o(a){var b;return!!a&&(b=document.querySelectorAll(a),b.length?O.nodeListToArray(b):null)}function p(){var a=document.createElement("video");!window.listenerPrototype&&a.addEventListener&&(window.listenerPrototype=a.addEventListener)}function q(a){return/firefox/i.test(a||Q)}function r(a,b){t(!1,a,b)}function s(a,b){t(!0,a,b)}function t(a,b,c){var d={fast:70,slow:150},e=setInterval(function(){b.style.opacity||(b.style.opacity=1),a?b.style.opacity>.9?clearInterval(e):b.style.opacity=parseFloat(b.style.opacity)+.1:b.style.opacity<.1?clearInterval(e):b.style.opacity=parseFloat(b.style.opacity)-.1},d[c]||d.fast)}function u(a){var b=window.console.error;window.console.error=function(){a.apply(this,arguments),b.apply(this,arguments)}}function v(a){var b="";if(!a||"object"!=typeof a)return b;for(var c in a)a.hasOwnProperty(c)&&(b+=c+": "+a[c]+", ");return b}function w(){}function x(){for(var a,b=document.getElementsByTagName("script"),c=0;c<b.length;c++)b[c]&&b[c].src&&-1!==b[c].src.indexOf("video.min")&&(a=b[c].src.split("v="),a=a.slice(-1).pop());return a||(a=window.TMCONFIG&&window.TMCONFIG.frontendVersion||123),a}function y(a){if(!a)return!1;var b=f(),c={r1mPWQ7cg:"TM Offsite",H1YC41u3x:"TM Offsite",rypGCzTfZ:"VR 360",Sy9uUYfUg:"VR 360",ryX5CPopx:"FBIA",H1sjRvspg:"FBIA",BJJB3XWSg:"AMP","dbf53914-8462-4f9a-8af8-2fb0dfc90707":"AMP",V19oeQPdg:"Trinity Mirror",EkkP2qXol:"Trinity Mirror",sai3ZzY2k:"Trinity Mirror",jBOabjW8FQ:"Trinity Mirror",nEj8iis60:"Trinity Mirror",jXj3WuSdU:"Trinity Mirror",sDIv3Itrbt:"Trinity Mirror",HmDJBwTga:"Trinity Mirror",Avt0tnl7K:"Trinity Mirror",HynGhRPmb:"IMA Macro Player",H19wynqYb:"IMA Macro Player"};return b&&(c[b]="Trinity Mirror"),c[a]?c[a]:a}function z(a,b,c){var d=new XMLHttpRequest;return d.open("GET",a),d.onreadystatechange=function(){d.readyState>3&&(200===d.status?b(d):c(d))},d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(),d}function A(){var a,b,c=document.createElement("a");if(c.href=window.location,a=c.hostname,b=a,null!==a){var d=a.split(".").reverse();null!==d&&d.length>1&&(b=d[1]+"."+d[0],-1!==a.toLowerCase().indexOf(".co.uk")&&d.length>2&&(b=d[2]+"."+b))}return b}function B(a){return/^(?=.*\Macintosh\b)(?=.*\Version\/11\b)(?=.*\Safari\b).*$/.test(a||Q)}function C(){return/Google Inc/.test(window.navigator.vendor)}function D(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function E(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+a[c]);return"cust_params="+encodeURIComponent(b.join("&"))}function F(a,b){var c,d,e,f=a.split("?"),g=f[1]||"";return d=P.parse(g)||{},c=decodeURI(d.cust_params||""),e=P.parse(c),D(e,b||{}),delete d.cust_params,c=E(e),g=P.stringify(d,!0),f[0]+g+"&"+c}function G(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function H(){var a={commercialData:window.commercialData};window.TMDATA?window.TMDATA.update(a):R.listen(document.body,"dataLayer.ready",function(b){b.data.update(a)})}function I(a,b){S.set(window.commercialData.info,G(a),b),H()}function J(a){return S.get(window.commercialData.info,G(a))}function K(){"on"===O.getQueryParam("configDebug")&&window.console.log.apply(window.console,arguments)}function L(a){var b=O.getQueryParam("featureDebug")||"";-1===b.indexOf("all")&&b!==a||window.console.log.apply(window.console,arguments)}function M(a,b){var c=S.get(N(a),b);return c="string"==typeof c?c:""}function N(a){var b=document.getElementById(a);return b?JSON.parse(b.getAttribute("content")):(window.console.error("[ERROR] The META element "+a+" cannot be found on the page. [Func: getFullConfig]"),"")}var O=a("@trinitymirrordigital/chameleon-utilities"),P=a("querystringify"),Q=window.navigator.userAgent,R=a("./events.js"),S=a("nested-property");b.exports={dataSetInfo:I,dataGetInfo:J,ajaxGet:z,encodeCustomParams:E,fadeIn:s,fadeOut:r,featureLog:L,getElementsBySelector:o,getFeatureValue:d,getFeatureFlag:e,getKeyValueStringFromObject:v,getMetaContentById:M,getOverridePlayerId:f,getOwnerSite:A,getPlayerTrackNameFromId:y,getVideoVersion:x,isChrome:C,isDesktop:i,isFirefox:q,isGoogleBot:k,isIE:j,isIOS:l,isMacSafari11:B,isPublication:m,configLog:K,noop:w,percInViewport:g,protectTheListenerPrototype:p,replaceConsoleError:u,setCustomParams:F,setMultipleAttributes:n,toggleClass:h}},{"./events.js":32,"@trinitymirrordigital/chameleon-utilities":10,"nested-property":22,querystringify:25}],42:[function(a,b,c){function d(a,c){var d=a.querySelector("video"),h="embed";window.console.info("VIDEO: player init - options.playerId=",c.playerId),window.console.info("VIDEO: player init - options.account=",c.account),e(c,a,d),a.autoplay="click start";var i;try{i=a.querySelector(".customFields").getAttribute("data-brandSafety")}catch(a){}!i||1!==parseInt(i)&&-1===i.indexOf("unsafe")||(a.removeAttribute("data-autoplay"),window.chameleonVideo.adDisabledRequested=!0),"2"===D.getCookie("GS_REVENUE_LOC")&&(a.removeAttribute("data-autoplay"),window.chameleonVideo.adDisabledRequested=!0),a.hasAttribute("data-related")&&(w(a),h=a.hasAttribute("data-autoplay")&&R.isDesktop?"autoplay":"lead"),a.setAttribute("data-interaction",h),!1!==window.chameleonVideo.adDisabledRequested||R.ima3.useMacros||(R.ima3.loadLib=!0),O.getFeatureFlag("loadIrisManually")&&R.iris.irisOptions.client_token&&(R.iris.loadLib=!0),R.isDesktop?b.exports._desktopInit(a):g(function(){q(a)}),f(a)}function e(a,b,c){R.isDesktop=a.isDesktop,R.brightcove.playerId=a.playerId,R.brightcove.account=a.account?a.account:R.brightcove.defaultAccount,R.brightcove.playerId===R.brightcove.macroPlayer&&(R.ima3.useMacros=!0),a.playerId===R.brightcove.player360&&c.setAttribute("crossOrigin","anonymous"),a.isGoogleBot&&A(b)}function f(a){C.listen(document.body,"brightcove-lib-unavailable",function(){J.videoUnavailable(a)}),C.listen(a,"video-unavailable",function(){J.videoUnavailable(a)})}function g(a){if(R.brightcove.libCalled||window.bc)return void window.$script.ready("brightcove",function(){window.bc&&a()});window.$script(R.brightcove.getLibPath(),"brightcove",function(){return window.bc?R.ima3.loadLib?window.$script(R.ima3.libPath,"ima3",function(){a()}):void a():C.fire(document.body,"brightcove-lib-unavailable")}),R.brightcove.libCalled=!0}function h(a){var b,c=a.querySelector(".float-and-park-close"),d=a.getAttribute("data-video-id");R.autoplay=!0,g(function(){b=q(a),n(a),b.catalog&&b.catalog.getVideo&&b.catalog.getVideo(d,function(b){b&&(C.fire(a,"video-unavailable"),c.click())})})}function i(a,b){var c,d;if(!a||!b)return!1;c=a.querySelector(".vjs-big-play-button"),d=a.querySelector(".vjs-loading-spinner"),c&&c.classList.add("hidden"),d&&(d.style.display="block"),a.bumperPlayed=!0,F.show(a,function(){d&&d.style.removeProperty("display"),R.isDesktop&&b.play()})}function j(a){J.showPlayPlaceholder(a),C.delegate(a,".video-play-content .vjs-play-button,.video-play-content .play-link","click",function(){var b;J.showSpinner(a),g(function(){if(!(b=p(a)))return C.fire(a,"video-unavailable");a.loadStarted?i(a,b):C.listen(a,"load-started",function(){i(a,b)}),setTimeout(function(){if(b.catalog&&b.catalog.error)return C.fire(a,"video-unavailable");J.hide(a)},500)})})}function k(a){var b=a.hasAttribute("data-related"),c=a.hasAttribute("data-autoplay"),d=a.getAttribute("data-float-and-park"),e=b&&c,f=l();if(a.isRelated=b,e&&!f)return h(a),void("float"!==d||f||I.init(a));j(a)}function l(){return null!==document.querySelector(".article-main .premium-content")}function m(a){var b=D.getQueryParam("videoAutoplayTimeout")||((window.TMCONFIG||{}).publicSectionParams||{}).videoAutoplayTimeout;return b&&window.console.log("VIDEO autoplayTimeoutOverride  = ",b),Number(b||a.querySelector(".video-timer").getAttribute("data-autoplay-time"))}function n(a){var b,c=a.querySelector(".video-timer"),d=a.querySelector(".timer-text span"),e=m(a),f=a.querySelector(".video-preloader-content"),g=e,h=a.querySelector(".autoplay-cancel"),j=p(a),k=a.querySelector("video");if(c&&(c.dataset.autoplayTime=e,d.textContent=""+g),h.addEventListener("click",function(c){c.stopPropagation(),c.preventDefault(),clearInterval(b),a.classList.contains("float-and-park")||(I.config.closed=!0),J.showPlayPlaceholder(a)}),C.delegate(a,".circle-timer,.play-link-desktop,.vjs-play-button,.play-now","click",function(){k.removeAttribute("muted"),k.muted=!1,clearInterval(b),J.hide(a),a.loadStarted?i(a,j):C.listen(a,"load-started",function(){i(a,j)})}),window.chameleonVideo.autoPlayStopRequested)return h.click();f.classList.add("hidden"),c.classList.remove("hidden"),b=setInterval(function(){if((g-=1)>0)return void(d.textContent=g);a.autoplay="autoplay",a.loadStarted?i(a,j):C.listen(a,"load-started",function(){i(a,j)}),clearInterval(b),o(k,a),J.hide(a)},1e3)}function o(a,b){var c=b.querySelector(".video-float-unmute");window.addEventListener("video-content-start",function(){if(a.muted){c.style.display="block",c.active=!0;var d=function(){p(b).muted(!1),c.style.display="none",c.active=!1};c.addEventListener("click",function(){d(),M.track(b,"video-unmute-click")}),a.addEventListener("volumechange",function(){c.active&&d(),M.track(b,"video-unmute-volumechange")}),window.addEventListener("video-ended",function(){c.style.display="none"})}})}function p(a){return a.querySelector(".video-js").player||q(a)}function q(a){var b,c=a.querySelector("video");return c.setAttribute("data-video-id",a.getAttribute("data-video-id")),c.setAttribute("data-account",R.brightcove.account),c.setAttribute("data-player",R.brightcove.playerId),c.addEventListener=window.listenerPrototype,b=window.bc(c),a.hasAttribute("data-show-advert")&&!1===window.chameleonVideo.adDisabledRequested&&-1===a.querySelector(".customFields").getAttribute("data-brandSafety").indexOf("Unsafe")&&(E.initAdTimer(a,b),R.ima3.useMacros?(s(a,b),E.pauseAdOnClick(a,b)):E.adRequest(a,b)),v(a),b}function r(a,b){if(a.social&&a.socialOverlay&&a.socialOverlay.getEmbedCode){var c=a.socialOverlay.getEmbedCode().split("><"),d=c[0].split("'"),e=E.buildAdConfig(b),f=d[1].split("/");f[4].indexOf("_default")&&(f[4]=R.brightcove.embedPlayer+"_default",d[1]=f.join("/")),d[1]=d[1]+"&applicationId="+encodeURIComponent(b.getAttribute("data-application-id"))+"&referrerUrl="+encodeURIComponent(e.referrerUrl)+"&ttID="+encodeURIComponent(e.videoId)+"&plID="+encodeURIComponent(R.brightcove.embedPlayer)+"&publisherId="+encodeURIComponent(e.publisherId)+"&videoTitle="+encodeURIComponent(e.videoTitle)+"&videoPublishedDate="+encodeURIComponent(b.getAttribute("data-video-published-date")),b.hasAttribute("data-show-advert")&&(d[1]+="&adUnitId="+encodeURIComponent(e.adUnitId)+"&correlator="+encodeURIComponent(e.correlator)+"&token="+encodeURIComponent(e.token)),d=d.join("'"),a.social({embedCode:d+" width='640px' height='360px'><"+c[1]})}}function s(a,b){var c;return!!(a&&b&&b.ima3&&b.ima3.adMacroReplacement)&&(c=E.buildAdConfig(a),b.ima3.adMacroReplacement=function(a){return Object.keys(c).forEach(function(b){a=a.split("{"+b+"}").join(encodeURIComponent(c[b]))}),a},!0)}function t(){return O.getFeatureFlag("irisTvEnabled")}function u(a){var b=document.querySelector("head"),c=document.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=a,b.appendChild(c)}function v(a){var b=a.querySelector(".play-link"),c=a.querySelector(".vjs-big-play-button"),d=a.querySelector(".vjs-loading-spinner"),e=a.querySelector(".autoplay-cancel");window.videojs(a.querySelector(".video-js")).ready(function(){var f=this;H.init(a,f),(O.getFeatureFlag("irisTvEnabled")&&O.getFeatureFlag("amazonVideoTagEnabled")||O.getFeatureFlag("videoPrebidEnabled"))&&P.init(a,f),M.init(a,f),R.iris.loadLib&&(u(R.iris.cssPath),window.$script(R.iris.libPath,function(){window.console.info("VIDEO: iris library loaded videojs: ",window.videojs),f.pluginDev(R.iris.irisOptions)})),t()||(G.init(a,f),N.init(a,f),K.init(a,f)),R.isDesktop?(a.isRelated&&L.init(a),c.classList.add("hidden")):(a.querySelector(".video-js").appendChild(b),C.delegate(a,".vjs-play-button,.play-link","click",function(){a.loadStarted?f.play():C.listen(a,"load-started",function(){f.play()}),J.hide(a)}),setTimeout(function(){if(f.catalog&&f.catalog.error)return C.fire(a,"video-unavailable");J.hide(a)},1e3)),C.listen(a,"stopRequested",function(){try{e&&e.click(),f.pause(),f.ima3&&f.ima3.adPlayer&&f.ima3.adPlayer.pause()}catch(a){window.console.warn("VIDEO: exception caught. exception body:",a)}}),C.listen(a,H.list.PLAY,function(){var d=a.querySelector(".video-headline"),e=a.querySelector(".video-preloader > .video-thumbnail");a.bumperPlayed||R.isDesktop||!F.config.isBumperValid||i(a,f),window.chameleonVideo.adDisabledRequested&&f.ima3&&f.ima3.adsManager&&f.ima3.adsManager.destroy(),d&&(d.classList.add("hidden-arrow"),t()&&(d.classList.add("hidden"),e&&e.parentNode.removeChild(e))),b.classList.add("hidden"),c.classList.add("hidden"),B(a)}),C.listen(a,"video-content-start",function(){d.classList.add("hidden")}),H.subscribe(a,H.list.LOAD_START,function(){z(a),a.hasAttribute("data-hide-embed")||r(f,a),a.loadStarted=!0,C.fire(a,"load-started")}),H.subscribe(a,H.list.ERROR,function(){x(a,f)})})}function w(a){window.chameleonVideo.stop=function(){return window.chameleonVideo.autoPlayStopRequested=!0,C.fire(a,"stopRequested"),"Autoplay Stop Requested"}}function x(a,b){var c=b.error_,d=c.code,e=c.message,f=a.querySelector(".vjs-error-display .vjs-close-button");switch(d){case-2:if(b.mediainfo&&b.mediainfo.sources&&b.mediainfo.sources[0].src&&-1!==b.mediainfo.sources[0].src.indexOf("cloudfront.net"))return;a.querySelector(".vjs-error-display").classList.add("hidden"),f&&f.click();break;default:M.track(a,"video-error","[PLAYER ERROR] "+e+"("+d+")")}}function y(a){R.ima3.loadLib=a}function z(a){var b=a.querySelector(".vjs-poster"),c=a.querySelector(".video-thumbnail");b&&c&&!c.classList.contains("video-thumbnail--unavailable")&&(b.style.backgroundImage="url("+c.querySelector("img").src+")")}function A(a){var b=document.createElement("link"),c=a.querySelector(".videoMeta");b.setAttribute("itemprop","contentUrl"),b.setAttribute("href",document.querySelector("meta[property='videoUrl']").getAttribute("content")),c.appendChild(b),b=document.createElement("link"),b.setAttribute("itemprop","embedUrl"),b.setAttribute("href","https://players.brightcove.net/"+R.brightcove.account+"/"+R.brightcove.playerId+"_default/index.html?videoId="+a.getAttribute("data-video-id")),c.appendChild(b)}function B(a){!O.isDesktop()&&O.isIOS()&&a.querySelector(".vjs-control-bar").addEventListener("tap",function(a){a.stopPropagation()},{capture:!0,once:!1})}var C=a("@trinitymirrordigital/chameleon-core").events,D=a("@trinitymirrordigital/chameleon-utilities"),E=a("../components/ads.js"),F=a("../components/bumper.js"),G=a("../components/endscreen.js"),H=a("../components/events.js"),I=a("../components/float-and-park.js"),J=a("../components/preloader.js"),K=a("../components/suggested.js"),L=a("../components/theatre.js"),M=a("../components/tracking.js"),N=a("../components/upNext.js"),O=a("../components/utils.js"),P=a("../components/headerBidding.js"),Q=O.getFeatureValue("ima3Version")||"2",R={brightcove:{defaultAccount:"4221396001",libCalled:!1,getLibPath:function(){return"//players.brightcove.net/"+this.account+"/"+this.playerId+"_default/index.min.js"},embedPlayer:"r1mPWQ7cg",player360:"rypGCzTfZ",macroPlayer:"HynGhRPmb"},ima3:{libPath:"//players.brightcove.net/videojs-ima3/"+Q+"/videojs.ima3.min.js",loadLib:!1},iris:{libPath:"https://s3.amazonaws.com/iris-playground/cosmos/plugins/iris-bc.adaptive.js",cssPath:"https://s3.amazonaws.com/iris-playground/cosmos/styles/iris-bc.adaptive.css",loadLib:!1,irisOptions:{client_token:O.getFeatureValue("irisClientToken"),campaign_tracking:!0,global:"iris_player",perform_player:!1,start_up_next:!0,start_up_next_time:14,end_up_next:!0,end_up_next_text:"UP NEXT: ",end_up_next_time:10,thumbs_up:!0,thumbs_down:!0,skip_forward:!0,skip_back:!0,skip_on_thumbs_down:!0,ssl:!0}}};b.exports={init:d,getPlayer:p,loadLibrary:g,toggleAds:y,config:R,customiseSharing:r,_desktopInit:k}},{"../components/ads.js":29,"../components/bumper.js":30,"../components/endscreen.js":31,"../components/events.js":32,"../components/float-and-park.js":33,"../components/headerBidding.js":34,"../components/preloader.js":35,"../components/suggested.js":36,"../components/theatre.js":38,"../components/tracking.js":39,"../components/upNext.js":40,"../components/utils.js":41,"@trinitymirrordigital/chameleon-core":3,"@trinitymirrordigital/chameleon-utilities":10}],43:[function(a,b,c){function d(a){e(function(){window.YT.ready(function(){a.player=f(a)})})}function e(a){if(h.libCalled||window.YT)return void window.$script.ready("youtube",function(){window.YT&&a()});window.$script(h.libPath,"youtube",function(){window.YT&&a()}),h.libCalled=!0}function f(a){var b;return!!a&&(!!(b=a.getAttribute("data-video-src"))&&void new window.YT.Player(a.querySelector(".youtube-wrapper"),{videoId:b,events:{onReady:function(){g.hide(a)}}}))}var g=a("../components/preloader.js"),h={libPath:"https://www.youtube.com/iframe_api",libCalled:!1};b.exports={init:d,loadLibrary:e}},{"../components/preloader.js":35}],44:[function(a,b,c){function d(a){a=a||document;var b=a.getAttribute("data-player-type"),c=a.querySelector("video"),d=r.isDesktop()&&(r.isMacSafari11()||r.isChrome());if(!s.players[b]||!a.hasAttribute("data-placeholder-ready"))return!1;a.setAttribute("data-init",!0),!d&&c&&(c.removeAttribute("muted"),c.muted=!1),s.players[b].src.init(a,s)}function e(){window.chameleonVideo.disableAd=function(){window.chameleonVideo.adDisabledRequested=!0,s.players.brightcove.toggleAds(!1)}}function f(a){var b=null,c=s.account&&s.defaultPlayersForAccounts[s.account]?s.defaultPlayersForAccounts[s.account]:s.defaultPlayerId;return[].forEach.call(a,function(a){var d=a.getAttribute("data-player");d&&!b&&d!==c&&(b=d)}),b||(b=r.getOverridePlayerId()),b}function g(a){var b=null;return[].forEach.call(a,function(a){var c=a.getAttribute("data-account");!b&&c&&(b=c)}),b}function h(){var a=r.getElementsBySelector(".mod-video[data-player-type='brightcove']:not([data-tracked])");if(!a||!a.length)return!1;a.forEach(function(a){q.trackLoadEvent(a,s.playerId),a.setAttribute("data-tracked",!0)}),q.trackPercInViewport(a)}function i(a){var b=a.querySelector(".json-placeholder"),c=a.hasAttribute("data-related"),d=document.createElement("div"),e=null;return!(!b||a.hasAttribute("data-placeholder-ready"))&&(e=JSON.parse(b.getAttribute("data-json")),c&&(e.videoData.isRelated=!0,e.videoData.immediateInit=!0),d.innerHTML=s.players[e.playerType].template({video:e}),a.parentNode.replaceChild(d,a),d.querySelector(".mod-video"))}function j(){var a=r.getElementsBySelector(".mod-video[data-mod='video'][data-placeholder]"),c=[];if(!a)return!1;try{a.forEach(function(a){c.push(b.exports._replacePlaceholder(a))})}catch(a){window.console.warn("VIDEO: Placeholder replace exception",a)}return c}function k(){n.listen(document.body,"modules.ready",function(){var a=b.exports._processPlaceholders();if(a){s.account=g(a)||s.defaultAccount;var c=s.account&&s.defaultPlayersForAccounts[s.account]?s.defaultPlayersForAccounts[s.account]:s.defaultPlayerId;s.playerId=f(a)||c,window.console.info("VIDEO: bind events - options.playerId=",s.playerId),window.console.info("VIDEO: bind events - options.account=",s.account),b.exports._initBrightcoveTracking(),a.forEach(function(a){d(a)})}})}function l(){var a,c;if(window.chameleonVideo=window.chameleonVideo||{},void 0===window.chameleonVideo.adDisabledRequested&&(window.chameleonVideo.adDisabledRequested=!1),a=b.exports._processPlaceholders(),b.exports._bindEvents(),r.protectTheListenerPrototype(),p.init(),window.console.info("VIDEO: component init - modVideos=",a),!a)return!1;s.account=g(a)||s.defaultAccount;var i=s.account&&s.defaultPlayersForAccounts[s.account]?s.defaultPlayersForAccounts[s.account]:s.defaultPlayerId;s.playerId=f(a)||i,window.console.info("VIDEO: component init - options.playerId=",s.playerId),window.console.info("VIDEO: bind events - options.account=",s.account),e(),h(),c={video:o.create({init:d})},n.fire(window,"component.register",{components:c})}var m=a("@trinitymirrordigital/chameleon-core"),n=m.events,o=m.component,p=a("./components/bumper.js"),q=a("./components/tracking.js"),r=a("./components/utils.js"),s={controllerAvailable:!0,isDesktop:r.isDesktop(),isGoogleBot:r.isGoogleBot(),defaultPlayerId:"V19oeQPdg",playerId:null,defaultAccount:"4221396001",account:null,defaultPlayersForAccounts:{4221396001:"V19oeQPdg",2540076170001:"l4UDuGII0"},players:{brightcove:{src:a("./players/brightcovePlayer.js"),template:a("../jade/players/brightcove.jade")},youtube:{src:a("./players/youtubePlayer.js"),template:a("../jade/players/youtube.jade")}}};window.pug=window.pug||a("pug-runtime"),b.exports={init:d,_replacePlaceholder:i,_processPlaceholders:j,_initBrightcoveTracking:h,_componentInit:l,_bindEvents:k},b.exports._componentInit()},{"../jade/players/brightcove.jade":27,"../jade/players/youtube.jade":28,"./components/bumper.js":30,"./components/tracking.js":39,"./components/utils.js":41,"./players/brightcovePlayer.js":42,"./players/youtubePlayer.js":43,"@trinitymirrordigital/chameleon-core":3,"pug-runtime":24}]},{},[44]);
//# sourceMappingURL=video.min.js.map